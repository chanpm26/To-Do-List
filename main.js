(()=>{"use strict";class t{constructor(t,e,n,i,s,a){this.title=t,this.description=e,this.dueDate=n,this.priority=i,this.notes=s,this.status=a}get title(){return this._title}get status(){return`${this._status}`}get dueDate(){return this._dueDate}get priority(){return this._priority}get info(){return`Title: ${this._title} \r\n\n        Description: ${this._description} \r\n\n        Due Date: ${this._dueDate} \r\n\n        Priority: ${this._priority} \r\n\n        Notes: ${this._notes} `}set title(t){this._title=t}set description(t){this._description=t}set priority(t){this._priority=t}set dueDate(t){this._dueDate=t}set notes(t){this._notes=t}set status(t){this._status=t}}class e{constructor(t,e){this.title=t,this.description=e}get title(){return this._title}get description(){return this._description}get info(){return`Project Title: ${this._title} \r\n\n        Project Description: ${this._description} `}set title(t){this._title=t}set description(t){this._description=t}}function n(){let e=document.getElementById("itemName").value,n=document.getElementById("itemDescription").value,i=document.getElementById("dueDate").value,s=document.getElementById("priority").value,a=document.getElementById("notes").value,d=document.getElementById("complete").value;return new t(e,n,i,s,a,d)}function i(){const t=document.getElementById("projectName").value,n=document.getElementById("projectDescription").value;return new e(t,n)}!function(){const t=document.getElementById("main"),e=document.getElementById("addButton"),s=document.getElementById("projectFormContainer"),a=document.getElementById("projectSubmitButton"),d=document.getElementById("projectClose");let o="",l="",c="",r=document.getElementById(l),u=[],p=[],m=[],h=[],f=[],g=[],C=document.getElementById(o);function y(){m.push([])}function L(t){f.push(t),g.push(t)}function b(){let e=document.createElement("div");return t.appendChild(e),e}function E(t,e){let n=document.createElement("div");n.classList.add("project");let i=document.createElement("p");return i.classList.add("projectInfo"),i.setAttribute("data-projectInfo",m.length-1),i.textContent=e.info,t.appendChild(n),n.appendChild(i),n}function v(t){return t.setAttribute("id",m.length-1),t.id}function $(t){let e=document.createElement("div"),n=document.createElement("select");n.setAttribute("data-sortinput",m.length-1),e.classList.add("sortButtons");let i=document.createElement("option");i.setAttribute("value","Name"),i.textContent="Sort By Name";let s=document.createElement("option");s.setAttribute("value","Priority"),s.textContent="Sort By Priority";let a=document.createElement("option");a.setAttribute("value","dueDate"),a.textContent="Sort By Due Date";let d=document.createElement("option");d.setAttribute("value","Completion"),d.textContent="Sort By Completion";let o=document.createElement("button");return o.setAttribute("data-sort",m.length-1),o.textContent="Submit",t.appendChild(e),e.appendChild(n),n.appendChild(i),n.appendChild(s),n.appendChild(a),n.appendChild(d),e.appendChild(o),o}function k(t){let e=document.createElement("div");return e.classList.add("buttonSection"),e.setAttribute("data-projectButtons",m.length-1),t.appendChild(e),e}function A(t){let e=document.createElement("button");return e.classList.add("addToDoButton"),e.setAttribute("data-add",m.length-1),e.innerText="Add Task",t.appendChild(e),e}function I(t){u.push(t)}function B(t){let e=document.createElement("button");return e.classList.add("deleteButton"),e.setAttribute("data-delete",m.length-1),e.innerText="Delete",t.appendChild(e),e}function N(t){p.push(t)}function x(t){let e=document.createElement("button");return e.classList.add("projectEditButton"),e.setAttribute("data-projectedit",m.length-1),e.innerText="Edit Project",t.appendChild(e),e}function S(t){h.push(t)}function _(t){t.addEventListener("click",(function(){s.classList.remove("hidden"),s.classList.add("edit"),c=t.dataset.projectedit}))}function D(){let t=Array.from(document.querySelectorAll("input"));for(let e=0;e<t.length;e++)t[e].value=""}function j(t){t.addEventListener("click",(function(){w.classList.remove("hidden"),o=t.dataset.add,C=document.getElementById(o),F.classList.remove("editItem"),F.classList.add("addItem")}))}function T(e){e.addEventListener("click",(function(){l=e.dataset.delete,r=document.getElementById(l),m.splice(l,1,""),f.splice(l,1,""),u.splice(l,1,""),p.splice(l,1,""),u.splice(l,1,""),document.querySelector(`[data-projectbuttons="${l}"]`),t.removeChild(r.parentNode),console.log(m),ft()}))}function q(t){t.addEventListener("click",(function(){let e=t.dataset.sort,n=document.querySelector(`[data-sortinput="${e}"]`),i=m[e];0!=i.length&&(function(t,e){"Name"==e.value?t.sort(((t,e)=>t.title>e.title?1:-1)):"Priority"==e.value?t.sort(((t,e)=>t.priority>e.priority?1:-1)):"Completion"==e.value?t.sort(((t,e)=>t.status>e.status?-1:1)):"dueDate"==e.value&&t.sort(((t,e)=>t.dueDate>e.dueDate?1:-1))}(i,n),function(t,e){let n=document.getElementById(t);!function(t,e){for(let n=0;n<e.length;n++)t.removeChild(t.lastChild)}(n,e);for(let i=0;i<e.length;i++){let e=document.createElement("div");e.classList.add("taskContainer"),n.appendChild(e),e.setAttribute("data-taskcontainer",`${t}${[i]}`),e.setAttribute("data-specifictaskcontainer",[i]);let s=Z(m[t][i],e);s.setAttribute("data-checkbox",`${t}${[i]}`),s.setAttribute("data-specificcheckbox",[i]);let a=X(e,m[t][i]);a.setAttribute("data-task",`${t}${[i]}`),a.setAttribute("data-specifictask",[i]);let d=tt(e),o=et(d);o.setAttribute("data-edit",`${t}${[i]}`),o.setAttribute("data-specificedit",[i]);let l=nt(d);l.setAttribute("data-deleteItem",`${t}${[i]}`),l.setAttribute("data-specificdeleteItem",[i]),it(s),st(o),at(l),dt(),ot(l),ct(s),rt(s),lt(s)}}(e,i),ft())}))}function P(t){let e=document.createElement("div");e.classList.add("statusBarContainer");let n=document.createElement("div"),i=document.createElement("div");return n.classList.add("statusBar"),n.setAttribute("data-statusbar",m.length-1),i.classList.add("percentageText"),i.setAttribute("data-percentagetext",m.length-1),t.appendChild(e),e.appendChild(n),e.appendChild(i),statusbar}e.addEventListener("click",(function(){s.classList.remove("hidden")})),a.addEventListener("click",(function(){if(!s.classList.contains("edit")){y();let t=i(),e=b(),n=E(e,t);L(t),v(n),P(n),q($(n));let a=k(e),d=x(a);S(d);let o=A(a);I(o);let l=B(a);N(l),j(o),T(l),_(d),s.classList.add("hidden"),D(),ft(),console.log(m)}})),a.addEventListener("click",(function(){if(s.classList.contains("edit")){let t=document.querySelector(`[data-projectinfo="${c}"]`),e=i();f.splice(c,1,e),t.textContent=e.info,D(),s.classList.add("hidden"),s.classList.remove("edit"),ft()}})),d.addEventListener("click",(function(){s.classList.add("hidden")}));const w=document.getElementById("itemFormContainer");let F=document.getElementById("itemForm"),O="",J=[],R=[];const M=document.getElementById("itemSubmitButton");let z="",G=document.getElementById(z),H=document.getElementById(O),K=document.getElementById("reset");const Q=document.getElementById("taskClose");let U=document.querySelector(`[data-checkbox="${z}"]`),V=[];function W(){let t=document.createElement("div");return t.classList.add("taskContainer"),C.appendChild(t),t}function X(t,e){let n=document.createElement("div");return n.classList.add("newTask"),"Complete"!=e.status?n.classList.add("taskNotComplete"):n.classList.add("taskComplete"),n.textContent=e.info,t.appendChild(n),n}function Y(t){m[o].push(t)}function Z(t,e){let n=document.createElement("button");return n.classList.add("checkbox"),"Complete"!=t.status&&"Complete"!=t._status?(n.classList.add("notComplete"),e.appendChild(n)):"Complete"==t._status&&(n.classList.add("Complete"),e.appendChild(n)),n}function tt(t){let e=document.createElement("div");return e.classList.add("itemButtons"),t.appendChild(e),e}function et(t){let e=document.createElement("button");return e.innerText="Edit Task",e.classList.add("editTaskButton"),t.appendChild(e),e}function nt(t){let e=document.createElement("button");return e.innerText="Delete Task",e.classList.add("deleteTaskButton"),t.appendChild(e),e}function it(t){V.push(t)}function st(t){J.push(t)}function at(t){R.push(t)}function dt(){for(let t=0;t<J.length;t++)J[t].addEventListener("click",(function(){w.classList.remove("hidden"),F.classList.remove("addItem"),F.classList.add("editItem"),z=J[t].dataset.edit,G=document.querySelector(`[data-task="${z}"]`)}))}function ot(t){t.addEventListener("click",(function(){O=t.dataset.deleteitem;let e=t.dataset.specificdeleteitem;H=document.querySelector(`[data-taskContainer="${O}"]`);let n=H.parentNode;n.removeChild(H),R.splice(e,1),J.splice(e,1),V.splice(e,1);let i=n.id;m[i].splice(e,1),function(t){let e=ut(),n=t,i=function(t,e){let n=document.querySelector(`[data-statusbar="${e}"]`),i=document.createElement("div");return n.firstChild&&n.removeChild(n.firstChild),i.style.width=`${t}%`,i.style.height="100%",n.appendChild(i),n}(e.percentageArray[n],n);if(0==isNaN(e.percentageArray[n]))mt(i,e.percentageArray[n]);else{let t=i.dataset.statusbar;document.querySelector(`[data-percentagetext="${t}"]`).innerText=""}}(i),ft()}))}function lt(t){t.addEventListener("click",(function(){let e=ut(),n=t.parentNode.parentNode.id,i=document.querySelector(`[data-statusbar="${n}"]`),s=document.createElement("div");i.firstChild&&i.removeChild(i.firstChild),s.style.width=`${e.percentageArray[n]}%`,s.style.height="100%",i.appendChild(s),mt(i,e.percentageArray[n])}))}function ct(t){t.addEventListener("click",(function(){let e=t.dataset.specificcheckbox,n=t.parentNode.parentNode.id;t.classList.contains("notComplete")?(t.classList.remove("notComplete"),t.classList.add("Complete"),m[n][e].status="Complete"):t.classList.contains("Complete")&&(t.classList.add("notComplete"),t.classList.remove("Complete"),m[n][e].status="Not Complete"),ft()}))}function rt(t){t.addEventListener("click",(function(){let e=t.dataset.checkbox,n=document.querySelector(`[data-task="${e}"]`);t.classList.contains("Complete")?(n.classList.remove("taskNotComplete"),n.classList.add("taskComplete")):t.classList.contains("notComplete")&&(n.classList.add("taskNotComplete"),n.classList.remove("taskComplete"))}))}function ut(){let t=[],e=[];for(let n=0;n<m.length;n++)if("object"==typeof m[n]){let i=m[n].filter(pt);t.push(i);let s=Math.round(i.length/m[n].length*100);e.push(s)}else t.push(""),e.push("");return{filteredArrayList:t,percentageArray:e}}function pt(t){return"Complete"==t._status}function mt(t,e){let n=t.dataset.statusbar;document.querySelector(`[data-percentagetext="${n}"]`).innerText=`${e}% Complete`}function ht(){let t=ut();mt(function(t){let e=document.querySelector(`[data-statusbar="${o}"]`),n=document.createElement("div");return e.firstChild&&e.removeChild(e.firstChild),n.style.width=`${t}%`,n.style.height="100%",e.appendChild(n),e}(t.percentageArray[o]),t.percentageArray[o])}function ft(){localStorage.setItem("storedProjectList",JSON.stringify(m)),localStorage.setItem("projectInfo",JSON.stringify(f))}function gt(t){Object.defineProperty(t,"status",{set(e){t._status=e}}),t.info=function(t){return`Title: ${t._title} \r\n\n        Description: ${t._description} \r\n\n        Due Date: ${t._dueDate} \r\n\n        Priority: ${t._priority} \r\n\n        Notes: ${t._notes} `}(t)}function Ct(t){y();let e=b(),n=E(e,t);L(t),v(n),P(n),q($(n));let i=k(e),s=x(i);S(s);let a=A(i);I(a);let d=B(i);N(d),j(a),T(d),_(s)}function yt(t){Y(t);let e=W();e.setAttribute("data-taskcontainer",`${[o]}${m[o].length-1}`),e.setAttribute("data-specifictaskcontainer",""+(m[o].length-1));let n=Z(t,e);n.setAttribute("data-checkbox",`${[o]}${m[o].length-1}`),n.setAttribute("data-specificcheckbox",""+(m[o].length-1));let i=X(e,t);i.setAttribute("data-task",`${[o]}${m[o].length-1}`),i.setAttribute("data-specifictask",""+(m[o].length-1)),ht();let s=tt(e),a=et(s);a.setAttribute("data-edit",`${[o]}${m[o].length-1}`),a.setAttribute("data-specificedit",""+(m[o].length-1));let d=nt(s);d.setAttribute("data-deleteItem",`${[o]}${m[o].length-1}`),d.setAttribute("data-specificdeleteItem",""+(m[o].length-1)),it(n),st(a),at(d),dt(),ot(d),ct(n),lt(n),rt(n)}M.addEventListener("click",(function(){F.classList.contains("addItem")?function(){let t=n();if(null!=t&&""!=t.dueDate){Y(t);let e=W();e.setAttribute("data-taskcontainer",`${[o]}${m[o].length-1}`),e.setAttribute("data-specifictaskcontainer",""+(m[o].length-1));let n=Z(t,e);n.setAttribute("data-checkbox",`${[o]}${m[o].length-1}`),n.setAttribute("data-specificcheckbox",""+(m[o].length-1));let i=X(e,t);i.setAttribute("data-task",`${[o]}${m[o].length-1}`),i.setAttribute("data-specifictask",""+(m[o].length-1)),ht();let s=tt(e),a=et(s);a.setAttribute("data-edit",`${[o]}${m[o].length-1}`),a.setAttribute("data-specificedit",""+(m[o].length-1));let d=nt(s);d.setAttribute("data-deleteItem",`${[o]}${m[o].length-1}`),d.setAttribute("data-specificdeleteItem",""+(m[o].length-1)),it(n),st(a),at(d),dt(),ot(d),ct(n),lt(n),rt(n),D(),w.classList.add("hidden"),ft()}else alert("Please Fill Out Required Fields")}():F.classList.contains("editItem")&&function(){F.classList.remove("addItem");let t=n();var e;null!=t&&""!=t.dueDate?(G.innerText="",G.innerText=t.info,function(t){let e=G.parentNode,n=G.dataset.specifictask,i=e.parentNode.id;m[i].splice(n,1,t)}(t),function(t){let e=document.querySelector(`[data-task="${z}"]`),n=e.dataset.specifictask,i=e.parentNode.parentNode.id;"Complete"!=t.status?(e.classList.add("taskNotComplete"),e.classList.remove("taskComplete"),m[i][n].status="Not Complete"):"Complete"==t.status&&(e.classList.remove("taskNotComplete"),e.classList.add("taskComplete"),m[i][n].status="Complete")}(t),"Complete"!=(e=t).status?(U=document.querySelector(`[data-checkbox="${z}"]`),U.classList.add("notComplete"),U.classList.remove("Complete")):"Complete"==e.status&&(U=document.querySelector(`[data-checkbox="${z}"]`),U.classList.add("Complete"),U.classList.remove("notComplete")),function(){let t=ut(),e=G.parentNode.parentNode.id,n=function(t){let e=G.parentNode.parentNode.id,n=document.querySelector(`[data-statusbar="${e}"]`),i=document.createElement("div");return n.firstChild&&n.removeChild(n.firstChild),i.style.width=`${t}%`,i.style.height="100%",n.appendChild(i),n}(t.percentageArray[e]);NaN!=t.percentageArray[e]&&mt(n,t.percentageArray[e])}(),D(),w.classList.add("hidden"),ft()):alert("Please Fill Out Required Fields")}()})),K.addEventListener("click",(()=>D())),Q.addEventListener("click",(()=>w.classList.add("hidden"))),window.onload=()=>{!function(){let t=JSON.parse(localStorage.getItem("storedProjectList")),e=JSON.parse(localStorage.getItem("projectInfo"));for(const t in e){let i=e[t];null!=i._title?((n=i).info=function(t){return`Project Title: ${t._title} \r\n\n        Project Description: ${t._description} \r\n`}(n),Ct(i)):(f.push(""),m.push("")),console.log(m)}var n;for(const e in t)console.log(t),""!=t[e]&&t[e].forEach((function(t){C=document.getElementById(e),o=e,console.log(o);let n=t;gt(n),yt(n)}))}()}}()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LElBQ1Z5TCxFQUFVekwsR0FBUzhMLFNBQVEsU0FBUzNFLEdBQ3BDdkgsRUFBa0J2QixTQUFTQyxlQUFlMEIsR0FDMUNkLEVBQVljLEVBQ1p3RCxRQUFRQyxJQUFJdkUsR0FDWixJQUFJNk0sRUFBYTVFLEVBQ2pCNEMsR0FBbUJnQyxHQUNuQnpCLEdBQWlCeUIsRUFDakIsR0FHWixDQWdGQUMsRUFBeUIsQ0FJN0IsQ0NyekJBQyxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC8uL3NyYy90YXNrLmpzIiwid2VicGFjazovL3RvLWRvLWxpc3QvLi9zcmMvcHJvamVjdC5qcyIsIndlYnBhY2s6Ly90by1kby1saXN0Ly4vc3JjL2FwcGxpY2F0aW9uTG9naWMuanMiLCJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC8uL3NyYy9kb20uanMiLCJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBUb0RvSXRlbSB7XG4gICAgY29uc3RydWN0b3IodGl0bGUsIGRlc2NyaXB0aW9uLCBkdWVEYXRlLCBwcmlvcml0eSwgbm90ZXMsIHN0YXR1cykge1xuICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICAgICAgdGhpcy5kdWVEYXRlID0gZHVlRGF0ZTtcbiAgICAgICAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5O1xuICAgICAgICB0aGlzLm5vdGVzID0gbm90ZXM7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuICAgIH1cblxuICAgIGdldCB0aXRsZSgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl90aXRsZSlcbiAgICB9XG5cbiAgICBnZXQgc3RhdHVzKCkge1xuICAgICAgICByZXR1cm4gKGAke3RoaXMuX3N0YXR1c31gKVxuICAgIH1cblxuICAgIGdldCBkdWVEYXRlKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuX2R1ZURhdGUpXG4gICAgfVxuXG4gICAgZ2V0IHByaW9yaXR5KCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuX3ByaW9yaXR5KVxuICAgIH1cblxuICAgIGdldCBpbmZvKCkge1xuICAgICAgICByZXR1cm4gKGBUaXRsZTogJHt0aGlzLl90aXRsZX0gXFxyXFxuXG4gICAgICAgIERlc2NyaXB0aW9uOiAke3RoaXMuX2Rlc2NyaXB0aW9ufSBcXHJcXG5cbiAgICAgICAgRHVlIERhdGU6ICR7dGhpcy5fZHVlRGF0ZX0gXFxyXFxuXG4gICAgICAgIFByaW9yaXR5OiAke3RoaXMuX3ByaW9yaXR5fSBcXHJcXG5cbiAgICAgICAgTm90ZXM6ICR7dGhpcy5fbm90ZXN9IGApIFxuICAgIH1cblxuICAgIHNldCB0aXRsZShuZXdUaXRsZSkge1xuICAgICAgICB0aGlzLl90aXRsZSA9IG5ld1RpdGxlXG4gICAgfVxuXG4gICAgc2V0IGRlc2NyaXB0aW9uKG5ld0Rlc2NyaXB0aW9uKSB7XG4gICAgICAgIHRoaXMuX2Rlc2NyaXB0aW9uID0gbmV3RGVzY3JpcHRpb25cbiAgICB9XG5cbiAgICBzZXQgcHJpb3JpdHkobmV3UHJpb3JpdHkpIHtcbiAgICAgICAgdGhpcy5fcHJpb3JpdHkgPSBuZXdQcmlvcml0eVxuICAgIH1cblxuICAgIHNldCBkdWVEYXRlKG5ld0R1ZURhdGUpIHtcbiAgICAgICAgdGhpcy5fZHVlRGF0ZSA9IG5ld0R1ZURhdGVcbiAgICB9XG5cbiAgICBzZXQgbm90ZXMobmV3Tm90ZXMpIHtcbiAgICAgICAgdGhpcy5fbm90ZXMgPSBuZXdOb3Rlc1xuICAgIH1cblxuICAgIHNldCBzdGF0dXMobmV3U3RhdHVzKSB7XG4gICAgICAgIHRoaXMuX3N0YXR1cyA9IG5ld1N0YXR1c1xuICAgIH1cblxuICAgIFxufVxuXG5cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb2plY3Qge1xuICAgIGNvbnN0cnVjdG9yKHRpdGxlLCBkZXNjcmlwdGlvbikge1xuICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICB9XG5cbiAgICBnZXQgdGl0bGUoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5fdGl0bGUpXG4gICAgfVxuXG4gICAgZ2V0IGRlc2NyaXB0aW9uKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuX2Rlc2NyaXB0aW9uKVxuICAgIH1cblxuICAgIGdldCBpbmZvKCkge1xuICAgICAgICByZXR1cm4gKGBQcm9qZWN0IFRpdGxlOiAke3RoaXMuX3RpdGxlfSBcXHJcXG5cbiAgICAgICAgUHJvamVjdCBEZXNjcmlwdGlvbjogJHt0aGlzLl9kZXNjcmlwdGlvbn0gYCkgXG4gICAgfVxuXG4gICAgc2V0IHRpdGxlKG5ld1RpdGxlKSB7XG4gICAgICAgIHRoaXMuX3RpdGxlID0gbmV3VGl0bGVcbiAgICB9XG5cbiAgICBzZXQgZGVzY3JpcHRpb24obmV3RGVzY3JpcHRpb24pIHtcbiAgICAgICAgdGhpcy5fZGVzY3JpcHRpb24gPSBuZXdEZXNjcmlwdGlvblxuICAgIH1cbn0iLCJpbXBvcnQgVG9Eb0l0ZW0gZnJvbSBcIi4vdGFzay5qc1wiO1xuaW1wb3J0IFByb2plY3QgZnJvbSBcIi4vcHJvamVjdC5qc1wiO1xuXG5mdW5jdGlvbiBhZGRJdGVtKCkge1xuICAgIGxldCBpdGVtTmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpdGVtTmFtZScpLnZhbHVlO1xuICAgIGxldCBpdGVtRGVzY3JpcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaXRlbURlc2NyaXB0aW9uJykudmFsdWU7XG4gICAgbGV0IGR1ZURhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHVlRGF0ZScpLnZhbHVlO1xuICAgIGxldCBwcmlvcml0eSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmlvcml0eScpLnZhbHVlO1xuICAgIGxldCBub3RlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdub3RlcycpLnZhbHVlO1xuICAgIGxldCBjb21wbGV0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb21wbGV0ZScpLnZhbHVlO1xuXG4gICAgbGV0IGl0ZW0gPSBuZXcgVG9Eb0l0ZW0oaXRlbU5hbWUsIGl0ZW1EZXNjcmlwdGlvbiwgZHVlRGF0ZSwgcHJpb3JpdHksIG5vdGVzLCBjb21wbGV0ZSk7XG4gICAgcmV0dXJuIGl0ZW07XG4gICAgXG59XG5cbmZ1bmN0aW9uIGFkZFByb2plY3QoKSB7XG4gICAgY29uc3QgcHJvamVjdFRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3ROYW1lJykudmFsdWU7XG4gICAgY29uc3QgcHJvamVjdERlc2NyaXB0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3REZXNjcmlwdGlvbicpLnZhbHVlO1xuXG4gICAgbGV0IHByb2plY3QgPSBuZXcgUHJvamVjdChwcm9qZWN0VGl0bGUsIHByb2plY3REZXNjcmlwdGlvbilcbiAgICByZXR1cm4gcHJvamVjdDtcbn1cblxuZXhwb3J0IHthZGRJdGVtLCBhZGRQcm9qZWN0fSIsImltcG9ydCB7IGFkZEl0ZW0sIGFkZFByb2plY3QgfSBmcm9tIFwiLi9hcHBsaWNhdGlvbkxvZ2ljLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGZ1bmN0aW9uYWxpdHkoKSB7XG4gICAgY29uc3QgbWFpbkJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbicpO1xuICAgIGNvbnN0IGFkZEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRCdXR0b24nKTtcbiAgICBjb25zdCBwcm9qZWN0Rm9ybUNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0Rm9ybUNvbnRhaW5lcicpO1xuICAgIGNvbnN0IHByb2plY3RTdWJtaXRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdFN1Ym1pdEJ1dHRvbicpO1xuICAgIGNvbnN0IHByb2plY3RDbG9zZUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0Q2xvc2UnKVxuICAgIGxldCBhZGRUYXNrSWQgPSBcIlwiO1xuICAgIGxldCBkZWxldGVQcm9qZWN0SWQgPSBcIlwiO1xuICAgIGxldCBwcm9qZWN0RWRpdElEID0gXCJcIlxuICAgIGxldCBwcm9qZWN0VG9EZWxldGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkZWxldGVQcm9qZWN0SWQpO1xuICAgIGxldCB0b0RvQnV0dG9uTGlzdCA9IFtdO1xuICAgIGxldCBkZWxldGVCdXR0b25MaXN0ID0gW107XG4gICAgbGV0IHByb2plY3RMaXN0ID0gW107XG4gICAgbGV0IHN0b3JlZFByb2plY3RMaXN0ID0gW11cbiAgICBsZXQgcHJvamVjdEVkaXRCdXR0b25MaXN0ID0gW11cbiAgICBsZXQgcHJvamVjdExpc3RJbmZvID0gW107XG4gICAgbGV0IHN0b3JlZFByb2plY3RMaXN0SW5mbyA9IFtdXG4gICAgbGV0IHNlbGVjdGVkUHJvamVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGFkZFRhc2tJZCk7XG5cblxuICAgIC8vIHByb2plY3QgZnVuY3Rpb25zXG5cbiAgICBmdW5jdGlvbiBhZGRUb1Byb2plY3RMaXN0KCkge1xuICAgICAgICBwcm9qZWN0TGlzdC5wdXNoKFtdKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGRQcm9qZWN0TGlzdEluZm8ocHJvamVjdCkge1xuICAgICAgICBwcm9qZWN0TGlzdEluZm8ucHVzaChwcm9qZWN0KVxuICAgICAgICBzdG9yZWRQcm9qZWN0TGlzdEluZm8ucHVzaChwcm9qZWN0KVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZVByb2plY3RDb250YWluZXIoKSB7XG4gICAgICAgIGxldCBwcm9qZWN0Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgbWFpbkJvZHkuYXBwZW5kQ2hpbGQocHJvamVjdENvbnRhaW5lcik7XG4gICAgICAgIHJldHVybiBwcm9qZWN0Q29udGFpbmVyXG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIGNyZWF0ZU5ld1Byb2plY3QocHJvamVjdENvbnRhaW5lciwgcHJvamVjdCkge1xuICAgICAgICBsZXQgbmV3UHJvamVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgbmV3UHJvamVjdC5jbGFzc0xpc3QuYWRkKFwicHJvamVjdFwiKVxuICAgICAgICAgICAgbGV0IHByb2plY3RJbmZvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgICAgICAgICAgcHJvamVjdEluZm8uY2xhc3NMaXN0LmFkZCgncHJvamVjdEluZm8nKVxuICAgICAgICAgICAgcHJvamVjdEluZm8uc2V0QXR0cmlidXRlKCdkYXRhLXByb2plY3RJbmZvJywgcHJvamVjdExpc3QubGVuZ3RoIC0gMSlcbiAgICAgICAgICAgIHByb2plY3RJbmZvLnRleHRDb250ZW50ID0gcHJvamVjdC5pbmZvXG4gICAgICAgICAgICBwcm9qZWN0Q29udGFpbmVyLmFwcGVuZENoaWxkKG5ld1Byb2plY3QpXG4gICAgICAgICAgICBuZXdQcm9qZWN0LmFwcGVuZENoaWxkKHByb2plY3RJbmZvKTtcbiAgICAgICAgcmV0dXJuIG5ld1Byb2plY3RcbiAgICAgICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIHNldE5ld1Byb2plY3RJZChuZXdQcm9qZWN0KSB7XG4gICAgICAgIG5ld1Byb2plY3Quc2V0QXR0cmlidXRlKCdpZCcsIHByb2plY3RMaXN0Lmxlbmd0aCAtIDEpO1xuICAgICAgICByZXR1cm4gbmV3UHJvamVjdC5pZFxuICAgIH1cbiAgICBcblxuICAgIGZ1bmN0aW9uIGFkZFNvcnRCdXR0b25zIChuZXdQcm9qZWN0KSB7XG4gICAgICAgIGxldCBzb3J0QnV0dG9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBsZXQgc29ydE9wdGlvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWxlY3QnKTtcbiAgICAgICAgc29ydE9wdGlvbnMuc2V0QXR0cmlidXRlKCdkYXRhLXNvcnRpbnB1dCcsIHByb2plY3RMaXN0Lmxlbmd0aC0xKVxuICAgICAgICBzb3J0QnV0dG9ucy5jbGFzc0xpc3QuYWRkKCdzb3J0QnV0dG9ucycpXG4gICAgICAgIGxldCBzb3J0TmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBzb3J0TmFtZS5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBcIk5hbWVcIik7XG4gICAgICAgIHNvcnROYW1lLnRleHRDb250ZW50ID0gXCJTb3J0IEJ5IE5hbWVcIlxuICAgICAgICBsZXQgc29ydFByaW9yaXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgIHNvcnRQcmlvcml0eS5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBcIlByaW9yaXR5XCIpO1xuICAgICAgICBzb3J0UHJpb3JpdHkudGV4dENvbnRlbnQgPSBcIlNvcnQgQnkgUHJpb3JpdHlcIlxuICAgICAgICBsZXQgc29ydER1ZURhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgc29ydER1ZURhdGUuc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgXCJkdWVEYXRlXCIpO1xuICAgICAgICBzb3J0RHVlRGF0ZS50ZXh0Q29udGVudCA9IFwiU29ydCBCeSBEdWUgRGF0ZVwiXG4gICAgICAgIGxldCBzb3J0Q29tcGxldGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgc29ydENvbXBsZXRlLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIFwiQ29tcGxldGlvblwiKTtcbiAgICAgICAgc29ydENvbXBsZXRlLnRleHRDb250ZW50ID0gXCJTb3J0IEJ5IENvbXBsZXRpb25cIlxuICAgICAgICBsZXQgc29ydFN1Ym1pdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpXG4gICAgICAgIHNvcnRTdWJtaXQuc2V0QXR0cmlidXRlKCdkYXRhLXNvcnQnLCBwcm9qZWN0TGlzdC5sZW5ndGgtMSk7XG4gICAgICAgIHNvcnRTdWJtaXQudGV4dENvbnRlbnQgPSBcIlN1Ym1pdFwiXG4gICAgICAgIG5ld1Byb2plY3QuYXBwZW5kQ2hpbGQoc29ydEJ1dHRvbnMpO1xuICAgICAgICBzb3J0QnV0dG9ucy5hcHBlbmRDaGlsZChzb3J0T3B0aW9ucyk7XG4gICAgICAgIHNvcnRPcHRpb25zLmFwcGVuZENoaWxkKHNvcnROYW1lKVxuICAgICAgICBzb3J0T3B0aW9ucy5hcHBlbmRDaGlsZChzb3J0UHJpb3JpdHkpXG4gICAgICAgIHNvcnRPcHRpb25zLmFwcGVuZENoaWxkKHNvcnREdWVEYXRlKTtcbiAgICAgICAgc29ydE9wdGlvbnMuYXBwZW5kQ2hpbGQoc29ydENvbXBsZXRlKVxuICAgICAgICBzb3J0QnV0dG9ucy5hcHBlbmRDaGlsZChzb3J0U3VibWl0KVxuXG4gICAgICAgIHJldHVybiBzb3J0U3VibWl0XG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIGFkZEJ1dHRvblNlY3Rpb24ocHJvamVjdENvbnRhaW5lcikge1xuICAgICAgICBsZXQgYnV0dG9uU2VjdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgYnV0dG9uU2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdidXR0b25TZWN0aW9uJyk7XG4gICAgICAgICAgICBidXR0b25TZWN0aW9uLnNldEF0dHJpYnV0ZSgnZGF0YS1wcm9qZWN0QnV0dG9ucycsIHByb2plY3RMaXN0Lmxlbmd0aC0xKTtcbiAgICAgICAgICAgIHByb2plY3RDb250YWluZXIuYXBwZW5kQ2hpbGQoYnV0dG9uU2VjdGlvbik7XG4gICAgICAgICAgICByZXR1cm4gYnV0dG9uU2VjdGlvblxuICAgIH0gICBcblxuICAgICAgZnVuY3Rpb24gYWRkUHJvamVjdEFkZEJ1dHRvbihidXR0b25TZWN0aW9uKSB7XG4gICAgICAgIGxldCBhZGRUb0RvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGFkZFRvRG8uY2xhc3NMaXN0LmFkZCgnYWRkVG9Eb0J1dHRvbicpO1xuICAgICAgICBhZGRUb0RvLnNldEF0dHJpYnV0ZSgnZGF0YS1hZGQnLCBwcm9qZWN0TGlzdC5sZW5ndGggLSAxKTtcbiAgICAgICAgYWRkVG9Eby5pbm5lclRleHQgPSBcIkFkZCBUYXNrXCI7XG4gICAgICAgIGJ1dHRvblNlY3Rpb24uYXBwZW5kQ2hpbGQoYWRkVG9Ebyk7XG4gICAgICAgIHJldHVybiBhZGRUb0RvXG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIHByb2plY3RUb0RvQnV0dG9uTGlzdChhZGRUb0RvKSB7XG4gICAgICAgIHRvRG9CdXR0b25MaXN0LnB1c2goYWRkVG9Ebyk7XG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIGFkZFByb2plY3REZWxldGVCdXR0b24oYnV0dG9uU2VjdGlvbikge1xuICAgICAgICBsZXQgZGVsZXRlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGRlbGV0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdkZWxldGVCdXR0b24nKTtcbiAgICAgICAgZGVsZXRlQnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS1kZWxldGUnLCBwcm9qZWN0TGlzdC5sZW5ndGggLSAxKTtcbiAgICAgICAgZGVsZXRlQnV0dG9uLmlubmVyVGV4dCA9IFwiRGVsZXRlXCI7XG4gICAgICAgIGJ1dHRvblNlY3Rpb24uYXBwZW5kQ2hpbGQoZGVsZXRlQnV0dG9uKTtcbiAgICAgICAgcmV0dXJuIGRlbGV0ZUJ1dHRvblxuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiBwcm9qZWN0RGVsZXRlQnV0dG9uTGlzdChkZWxldGVCdXR0b24pIHtcbiAgICAgICAgZGVsZXRlQnV0dG9uTGlzdC5wdXNoKGRlbGV0ZUJ1dHRvbik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkUHJvamVjdEVkaXRCdXR0b24oYnV0dG9uU2VjdGlvbikge1xuICAgICAgICBsZXQgZWRpdEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBlZGl0QnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3Byb2plY3RFZGl0QnV0dG9uJyk7XG4gICAgICAgIGVkaXRCdXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLXByb2plY3RlZGl0JywgcHJvamVjdExpc3QubGVuZ3RoIC0gMSk7XG4gICAgICAgIGVkaXRCdXR0b24uaW5uZXJUZXh0ID0gXCJFZGl0IFByb2plY3RcIjtcbiAgICAgICAgYnV0dG9uU2VjdGlvbi5hcHBlbmRDaGlsZChlZGl0QnV0dG9uKTtcbiAgICAgICAgcmV0dXJuIGVkaXRCdXR0b25cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcm9qRWRpdEJ1dHRvbkxpc3QoZWRpdEJ1dHRvbikge1xuICAgICAgICBwcm9qZWN0RWRpdEJ1dHRvbkxpc3QucHVzaChlZGl0QnV0dG9uKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHByb2plY3RFZGl0QnV0dG9uRnVuY3Rpb25hbGl0eShlZGl0QnV0dG9uKSB7XG4gICAgICAgIGVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHByb2plY3RGb3JtQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgcHJvamVjdEZvcm1Db250YWluZXIuY2xhc3NMaXN0LmFkZCgnZWRpdCcpXG4gICAgICAgICAgICBwcm9qZWN0RWRpdElEID0gZWRpdEJ1dHRvbi5kYXRhc2V0LnByb2plY3RlZGl0O1xuICAgICAgICB9KVxuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiBjbGVhcklucHV0cygpIHtcbiAgICAgICAgbGV0IGlucHV0VmFsdWVzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCcpKVxuICAgICAgICBmb3IgKGxldCBpPTA7IGk8aW5wdXRWYWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaW5wdXRWYWx1ZXNbaV0udmFsdWUgPSBcIlwiXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGRJdGVtVG9Qcm9qZWN0KGJ1dHRvbikge1xuICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBpdGVtRm9ybUNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIGFkZFRhc2tJZCA9IGJ1dHRvbi5kYXRhc2V0LmFkZDtcbiAgICAgICAgICAgIHNlbGVjdGVkUHJvamVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGFkZFRhc2tJZCk7XG4gICAgICAgICAgICBpdGVtRm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdlZGl0SXRlbScpO1xuICAgICAgICAgICAgaXRlbUZvcm0uY2xhc3NMaXN0LmFkZCgnYWRkSXRlbScpXG4gICAgICAgICAgICB9KVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRlbGV0ZUJ1dHRvbkZ1bmN0aW9uYWxpdHkoYnV0dG9uKSB7XG4gICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBkZWxldGVQcm9qZWN0SWQgPSBidXR0b24uZGF0YXNldC5kZWxldGU7XG4gICAgICAgICAgICBwcm9qZWN0VG9EZWxldGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkZWxldGVQcm9qZWN0SWQpO1xuICAgICAgICAgICAgcHJvamVjdExpc3Quc3BsaWNlKGRlbGV0ZVByb2plY3RJZCwgMSwgXCJcIik7XG4gICAgICAgICAgICBwcm9qZWN0TGlzdEluZm8uc3BsaWNlKGRlbGV0ZVByb2plY3RJZCwgMSwgXCJcIilcbiAgICAgICAgICAgIHRvRG9CdXR0b25MaXN0LnNwbGljZShkZWxldGVQcm9qZWN0SWQsIDEsIFwiXCIpO1xuICAgICAgICAgICAgZGVsZXRlQnV0dG9uTGlzdC5zcGxpY2UoZGVsZXRlUHJvamVjdElkLCAxLCBcIlwiKTtcbiAgICAgICAgICAgIHRvRG9CdXR0b25MaXN0LnNwbGljZShkZWxldGVQcm9qZWN0SWQsIDEsIFwiXCIpO1xuICAgICAgICAgICAgbGV0IHByb2plY3RCdXR0b25zVG9EZWxldGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1wcm9qZWN0YnV0dG9ucz1cIiR7ZGVsZXRlUHJvamVjdElkfVwiXWApXG4gICAgICAgICAgICBtYWluQm9keS5yZW1vdmVDaGlsZChwcm9qZWN0VG9EZWxldGUucGFyZW50Tm9kZSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhwcm9qZWN0TGlzdClcbiAgICAgICAgICAgIHNhdmVUb0xvY2FsU3RvcmFnZSgpO1xuICAgICAgICB9KX1cblxuICAgIGZ1bmN0aW9uIHNvcnRQcm9qZWN0VGFza3MocHJvamVjdCwgdHlwZW9mU29ydCkge1xuICAgICAgICBpZiAodHlwZW9mU29ydC52YWx1ZSA9PSBcIk5hbWVcIikge1xuICAgICAgICAgICAgcHJvamVjdC5zb3J0KChhLCBiKSA9PiAoYS50aXRsZSA+IGIudGl0bGUpID8gMSA6IC0xKVxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZlNvcnQudmFsdWUgPT0gXCJQcmlvcml0eVwiKSB7XG4gICAgICAgICAgICBwcm9qZWN0LnNvcnQoKGEsIGIpID0+IChhLnByaW9yaXR5ID4gYi5wcmlvcml0eSkgPyAxIDogLTEpXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mU29ydC52YWx1ZSA9PSBcIkNvbXBsZXRpb25cIikge1xuICAgICAgICAgICAgcHJvamVjdC5zb3J0KChhLCBiKSA9PiAoYS5zdGF0dXMgPiBiLnN0YXR1cykgPyAtMSA6IDEpXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mU29ydC52YWx1ZSA9PSBcImR1ZURhdGVcIikge1xuICAgICAgICAgICAgcHJvamVjdC5zb3J0KChhLCBiKSA9PiAoYS5kdWVEYXRlID4gYi5kdWVEYXRlKSA/IDEgOiAtMSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN1Ym1pdEJ1dHRvblNvcnQoc3VibWl0QnV0dG9uKSB7XG4gICAgICAgIHN1Ym1pdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICBsZXQgc3VibWl0QnV0dG9uSUQgPSBzdWJtaXRCdXR0b24uZGF0YXNldC5zb3J0XG4gICAgICAgIGxldCB0eXBlb2ZTb3J0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtc29ydGlucHV0PVwiJHtzdWJtaXRCdXR0b25JRH1cIl1gKTtcbiAgICAgICAgbGV0IHByb2plY3RUb1NvcnQgPSBwcm9qZWN0TGlzdFtzdWJtaXRCdXR0b25JRF1cbiAgICAgICAgaWYgKHByb2plY3RUb1NvcnQubGVuZ3RoICE9IDApIHtcbiAgICAgICAgICAgIHNvcnRQcm9qZWN0VGFza3MocHJvamVjdFRvU29ydCwgdHlwZW9mU29ydCk7XG4gICAgICAgICAgICBkaXNwbGF5U29ydGVkUHJvamVjdChzdWJtaXRCdXR0b25JRCwgcHJvamVjdFRvU29ydClcbiAgICAgICAgICAgIHNhdmVUb0xvY2FsU3RvcmFnZSgpIFxuICAgICAgICB9XG4gICAgfSlcbiAgICAgIH1cblxuICAgIGZ1bmN0aW9uIGRpc3BsYXlTb3J0ZWRQcm9qZWN0KHN1Ym1pdEJ1dHRvbklELCBwcm9qZWN0KXtcbiAgICAgICAgbGV0IHByb2plY3RUb0NsZWFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc3VibWl0QnV0dG9uSUQpO1xuICAgICAgICByZW1vdmVBbGxDaGlsZE5vZGVzKHByb2plY3RUb0NsZWFyLCBwcm9qZWN0KTtcbiAgICAgICAgZm9yIChsZXQgaSA9MDsgaTwgcHJvamVjdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IG5ld1Rhc2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIG5ld1Rhc2suY2xhc3NMaXN0LmFkZChcInRhc2tDb250YWluZXJcIik7XG4gICAgICAgICAgICBwcm9qZWN0VG9DbGVhci5hcHBlbmRDaGlsZChuZXdUYXNrKTsgICAgICAgICAgICBcbiAgICAgICAgICAgIG5ld1Rhc2suc2V0QXR0cmlidXRlKCdkYXRhLXRhc2tjb250YWluZXInLCBgJHtzdWJtaXRCdXR0b25JRH0ke1tpXX1gKVxuICAgICAgICAgICAgbmV3VGFzay5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3BlY2lmaWN0YXNrY29udGFpbmVyJywgW2ldKVxuICAgICAgICAgICAgbGV0IG5ld0NoZWNrYm94ID0gY3JlYXRlQ2hlY2tib3gocHJvamVjdExpc3Rbc3VibWl0QnV0dG9uSURdW2ldLCBuZXdUYXNrKTtcbiAgICAgICAgICAgIG5ld0NoZWNrYm94LnNldEF0dHJpYnV0ZSgnZGF0YS1jaGVja2JveCcsIGAke3N1Ym1pdEJ1dHRvbklEfSR7W2ldfWApXG4gICAgICAgICAgICBuZXdDaGVja2JveC5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3BlY2lmaWNjaGVja2JveCcsIFtpXSlcbiAgICAgICAgICAgIGxldCBuZXdEaXYgPSBuZXdJdGVtRGl2KG5ld1Rhc2ssIHByb2plY3RMaXN0W3N1Ym1pdEJ1dHRvbklEXVtpXSlcbiAgICAgICAgICAgIG5ld0Rpdi5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGFzaycsIGAke3N1Ym1pdEJ1dHRvbklEfSR7W2ldfWApO1xuICAgICAgICAgICAgbmV3RGl2LnNldEF0dHJpYnV0ZSgnZGF0YS1zcGVjaWZpY3Rhc2snLCBbaV0pXG5cbiAgICAgICAgICAgIGxldCBpdGVtQnV0dG9ucyA9IG5ld0l0ZW1CdXR0b25zKG5ld1Rhc2spO1xuICAgICAgICAgICAgbGV0IGVkaXRCdXR0b24gPSBuZXdFZGl0QnV0dG9uKGl0ZW1CdXR0b25zKTtcbiAgICAgICAgICAgIGVkaXRCdXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLWVkaXQnLCBgJHtzdWJtaXRCdXR0b25JRH0ke1tpXX1gKVxuICAgICAgICAgICAgZWRpdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3BlY2lmaWNlZGl0JywgW2ldKVxuICAgICAgICAgICAgbGV0IGRlbGV0ZUJ1dHRvbiA9IG5ld0RlbGV0ZVRhc2tCdXR0b24oaXRlbUJ1dHRvbnMpO1xuICAgICAgICAgICAgZGVsZXRlQnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS1kZWxldGVJdGVtJywgYCR7c3VibWl0QnV0dG9uSUR9JHtbaV19YClcbiAgICAgICAgICAgIGRlbGV0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3BlY2lmaWNkZWxldGVJdGVtJywgW2ldKVxuICAgICAgICAgICAgcHVzaENoZWNrYm94VG9MaXN0KG5ld0NoZWNrYm94KTtcbiAgICAgICAgICAgIHB1c2hFZGl0VG9MaXN0KGVkaXRCdXR0b24pO1xuICAgICAgICAgICAgcHVzaERlbGV0ZVRhc2tUb0xpc3QoZGVsZXRlQnV0dG9uKTtcblxuICAgICAgICAgICAgY3JlYXRlRWRpdEJ1dHRvbkxpc3QoKTtcbiAgICAgICAgICAgIGRlbGV0ZVRhc2tCdXR0b25GdW5jdGlvbmFsaXR5KGRlbGV0ZUJ1dHRvbik7XG4gICAgICAgICAgICBhZGRDaGVja2JveFN0YXR1cyhuZXdDaGVja2JveCk7XG4gICAgICAgICAgICBhZGRUYXNrU3RhdHVzKG5ld0NoZWNrYm94KTtcbiAgICAgICAgICAgIGNoYW5nZVN0YXR1c0Jhck9uQ2hlY2tib3hDbGljayhuZXdDaGVja2JveClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlbW92ZUFsbENoaWxkTm9kZXMocGFyZW50LCBwcm9qZWN0VG9Tb3J0KSB7XG4gICAgICAgIGZvciAobGV0IGk9MDsgaTxwcm9qZWN0VG9Tb3J0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQocGFyZW50Lmxhc3RDaGlsZCk7XG4gICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZVN0YXR1c0JhcihzZWN0aW9uKSB7XG4gICAgICAgIGxldCBzdGF0dXNCYXJDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICBzdGF0dXNCYXJDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnc3RhdHVzQmFyQ29udGFpbmVyJylcbiAgICAgICAgbGV0IHN0YXR1c0JhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBsZXQgcGVyY2VudGFnZVRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICBzdGF0dXNCYXIuY2xhc3NMaXN0LmFkZCgnc3RhdHVzQmFyJylcbiAgICAgICAgc3RhdHVzQmFyLnNldEF0dHJpYnV0ZSgnZGF0YS1zdGF0dXNiYXInLCBwcm9qZWN0TGlzdC5sZW5ndGggLTEpXG4gICAgICAgIHBlcmNlbnRhZ2VUZXh0LmNsYXNzTGlzdC5hZGQoJ3BlcmNlbnRhZ2VUZXh0JylcbiAgICAgICAgcGVyY2VudGFnZVRleHQuc2V0QXR0cmlidXRlKCdkYXRhLXBlcmNlbnRhZ2V0ZXh0JywgcHJvamVjdExpc3QubGVuZ3RoLTEpXG4gICAgICAgIHNlY3Rpb24uYXBwZW5kQ2hpbGQoc3RhdHVzQmFyQ29udGFpbmVyKVxuICAgICAgICBzdGF0dXNCYXJDb250YWluZXIuYXBwZW5kQ2hpbGQoc3RhdHVzQmFyKSAgXG4gICAgICAgIHN0YXR1c0JhckNvbnRhaW5lci5hcHBlbmRDaGlsZChwZXJjZW50YWdlVGV4dClcbiAgICAgICAgcmV0dXJuIHN0YXR1c2JhciBcbiAgICB9XG4gIFxuXG4vLyBwcm9qZWN0IGV2ZW50IGxpc3RlbmVyc1xuXG4gICAgYWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHByb2plY3RGb3JtQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpXG4gICAgfSlcbiAgICBcblxuICAgIHByb2plY3RTdWJtaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCFwcm9qZWN0Rm9ybUNvbnRhaW5lci5jbGFzc0xpc3QuY29udGFpbnMoJ2VkaXQnKSkge1xuICAgICAgICBhZGRUb1Byb2plY3RMaXN0KCk7XG4gICAgICAgIGxldCBuZXdQcm9qZWN0ID0gYWRkUHJvamVjdCgpO1xuICAgICAgICBsZXQgcHJvamVjdENvbnRhaW5lciA9IGNyZWF0ZVByb2plY3RDb250YWluZXIoKTtcbiAgICAgICAgbGV0IHByb2plY3QgPSBjcmVhdGVOZXdQcm9qZWN0KHByb2plY3RDb250YWluZXIsIG5ld1Byb2plY3QpO1xuICAgICAgICBhZGRQcm9qZWN0TGlzdEluZm8obmV3UHJvamVjdClcbiAgICAgICAgbGV0IHByb2plY3RJRCA9IHNldE5ld1Byb2plY3RJZChwcm9qZWN0KTtcbiAgICAgICAgbGV0IG5ld1N0YXR1c0JhciA9IGNyZWF0ZVN0YXR1c0Jhcihwcm9qZWN0KVxuICAgICAgICBsZXQgc29ydEJ1dHRvbnMgPSBhZGRTb3J0QnV0dG9ucyhwcm9qZWN0KTtcbiAgICAgICAgc3VibWl0QnV0dG9uU29ydChzb3J0QnV0dG9ucylcbiAgICAgICAgbGV0IGJ1dHRvblNlY3Rpb24gPSBhZGRCdXR0b25TZWN0aW9uKHByb2plY3RDb250YWluZXIpO1xuICAgICAgICBsZXQgZWRpdFByb2plY3RCdXR0b24gPSBhZGRQcm9qZWN0RWRpdEJ1dHRvbihidXR0b25TZWN0aW9uKTtcbiAgICAgICAgcHJvakVkaXRCdXR0b25MaXN0KGVkaXRQcm9qZWN0QnV0dG9uKVxuICAgICAgICBsZXQgYWRkSXRlbVRvUHJvamVjdEJ1dHRvbiA9IGFkZFByb2plY3RBZGRCdXR0b24oYnV0dG9uU2VjdGlvbik7XG4gICAgICAgIHByb2plY3RUb0RvQnV0dG9uTGlzdChhZGRJdGVtVG9Qcm9qZWN0QnV0dG9uKTtcbiAgICAgICAgbGV0IGRlbGV0ZVByb2plY3RCdXR0b24gPSBhZGRQcm9qZWN0RGVsZXRlQnV0dG9uKGJ1dHRvblNlY3Rpb24pO1xuICAgICAgICBwcm9qZWN0RGVsZXRlQnV0dG9uTGlzdChkZWxldGVQcm9qZWN0QnV0dG9uKTtcbiAgICAgICAgYWRkSXRlbVRvUHJvamVjdChhZGRJdGVtVG9Qcm9qZWN0QnV0dG9uKTtcbiAgICAgICAgZGVsZXRlQnV0dG9uRnVuY3Rpb25hbGl0eShkZWxldGVQcm9qZWN0QnV0dG9uKTtcbiAgICAgICAgcHJvamVjdEVkaXRCdXR0b25GdW5jdGlvbmFsaXR5KGVkaXRQcm9qZWN0QnV0dG9uKTtcblxuICAgICAgICBwcm9qZWN0Rm9ybUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgY2xlYXJJbnB1dHMoKTtcblxuICAgICAgICBzYXZlVG9Mb2NhbFN0b3JhZ2UoKTtcbiAgICAgICAgY29uc29sZS5sb2cocHJvamVjdExpc3QpXG4gICAgfVxuICAgIH0pXG5cbiAgICBwcm9qZWN0U3VibWl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChwcm9qZWN0Rm9ybUNvbnRhaW5lci5jbGFzc0xpc3QuY29udGFpbnMoJ2VkaXQnKSkge1xuICAgICAgICAgICAgbGV0IHByb2plY3RUb1JldmlzZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXByb2plY3RpbmZvPVwiJHtwcm9qZWN0RWRpdElEfVwiXWApOyBcbiAgICAgICAgICAgIGxldCByZXZpc2VkUHJvamVjdCA9IGFkZFByb2plY3QoKTtcbiAgICAgICAgICAgIHByb2plY3RMaXN0SW5mby5zcGxpY2UocHJvamVjdEVkaXRJRCwgMSwgcmV2aXNlZFByb2plY3QpXG4gICAgICAgICAgICBwcm9qZWN0VG9SZXZpc2UudGV4dENvbnRlbnQgPSByZXZpc2VkUHJvamVjdC5pbmZvXG4gICAgICAgICAgICBjbGVhcklucHV0cygpXG4gICAgICAgICAgICBwcm9qZWN0Rm9ybUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIHByb2plY3RGb3JtQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2VkaXQnKVxuICAgICAgICAgICAgc2F2ZVRvTG9jYWxTdG9yYWdlKCkgXG4gICAgICAgIH1cbiAgICB9KVxuXG4gICAgcHJvamVjdENsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHByb2plY3RGb3JtQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpXG4gICAgfSlcblxuLy8gdGFzayBzZWN0aW9uXG5cbiAgICBjb25zdCBpdGVtRm9ybUNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaXRlbUZvcm1Db250YWluZXJcIik7XG4gICAgbGV0IGl0ZW1Gb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2l0ZW1Gb3JtJyk7XG4gICAgbGV0IGRlbGV0ZVRhc2tCdXR0b25JZCA9IFwiXCI7XG4gICAgbGV0IGVkaXRUYXNrQnV0dG9uTGlzdCA9IFtdXG4gICAgbGV0IGRlbGV0ZVRhc2tCdXR0b25MaXN0ID0gW11cbiAgICBjb25zdCBpdGVtU3VibWl0QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2l0ZW1TdWJtaXRCdXR0b24nKTtcbiAgICBsZXQgZWRpdEJ1dHRvbklkID0gXCJcIjtcbiAgICBsZXQgc2VsZWN0ZWRUYXNrVG9FZGl0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWRpdEJ1dHRvbklkKTtcbiAgICBsZXQgdGFza1RvRGVsZXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGVsZXRlVGFza0J1dHRvbklkKTtcbiAgICBsZXQgcmVzZXRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzZXQnKVxuICAgIGNvbnN0IHRhc2tDbG9zZUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YXNrQ2xvc2UnKTtcbiAgICBsZXQgY2hlY2tCb3hUb0NoYW5nZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWNoZWNrYm94PVwiJHtlZGl0QnV0dG9uSWR9XCJdYClcbiAgICBsZXQgY2hlY2tib3hMaXN0ID0gW11cbiAgICBsZXQgdGFza0xpc3QgPSBbXVxuXG5cbiAgICAvLyB0YXNrIGZ1bmN0aW9ucyBcbiAgICBcbiAgICBmdW5jdGlvbiBhZGRUYXNrKCkge1xuICAgICAgICAgICAgbGV0IGl0ZW0gPSBhZGRJdGVtKCk7XG4gICAgICAgICAgICBpZiAoaXRlbSAhPSB1bmRlZmluZWQgJiYgaXRlbS5kdWVEYXRlICE9IFwiXCIpIHtcbiAgICAgICAgICAgICAgICBhZGRJdGVtVG9Qcm9qZWN0TGlzdChpdGVtKVxuICAgICAgICAgICAgICAgIGxldCBuZXdUYXNrID0gbmV3VGFza0NvbnRhaW5lcigpO1xuICAgICAgICAgICAgICAgIG5ld1Rhc2suc2V0QXR0cmlidXRlKCdkYXRhLXRhc2tjb250YWluZXInLCBgJHtbYWRkVGFza0lkXX0ke3Byb2plY3RMaXN0W2FkZFRhc2tJZF0ubGVuZ3RoIC0xfWApXG4gICAgICAgICAgICAgICAgbmV3VGFzay5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3BlY2lmaWN0YXNrY29udGFpbmVyJywgYCR7cHJvamVjdExpc3RbYWRkVGFza0lkXS5sZW5ndGggLTF9YClcbiAgICAgICAgICAgICAgICBsZXQgbmV3Q2hlY2tib3ggPSBjcmVhdGVDaGVja2JveChpdGVtLCBuZXdUYXNrKTtcbiAgICAgICAgICAgICAgICBuZXdDaGVja2JveC5zZXRBdHRyaWJ1dGUoJ2RhdGEtY2hlY2tib3gnLCBgJHtbYWRkVGFza0lkXX0ke3Byb2plY3RMaXN0W2FkZFRhc2tJZF0ubGVuZ3RoIC0xfWApXG4gICAgICAgICAgICAgICAgbmV3Q2hlY2tib3guc2V0QXR0cmlidXRlKCdkYXRhLXNwZWNpZmljY2hlY2tib3gnLCBgJHtwcm9qZWN0TGlzdFthZGRUYXNrSWRdLmxlbmd0aCAtMX1gKVxuICAgICAgICAgICAgICAgIGxldCBuZXdEaXYgPSBuZXdJdGVtRGl2KG5ld1Rhc2ssIGl0ZW0pO1xuICAgICAgICAgICAgICAgIG5ld0Rpdi5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGFzaycsIGAke1thZGRUYXNrSWRdfSR7cHJvamVjdExpc3RbYWRkVGFza0lkXS5sZW5ndGggLTF9YCk7XG4gICAgICAgICAgICAgICAgbmV3RGl2LnNldEF0dHJpYnV0ZSgnZGF0YS1zcGVjaWZpY3Rhc2snLCBgJHtwcm9qZWN0TGlzdFthZGRUYXNrSWRdLmxlbmd0aCAtMX1gKTtcblxuICAgICAgICAgICAgICAgIGZpbGxPdXRTdGF0dXNCYXIoKTtcblxuICAgICAgICAgICAgICAgIGxldCBpdGVtQnV0dG9ucyA9IG5ld0l0ZW1CdXR0b25zKG5ld1Rhc2spO1xuICAgICAgICAgICAgICAgIGxldCBlZGl0QnV0dG9uID0gbmV3RWRpdEJ1dHRvbihpdGVtQnV0dG9ucyk7XG4gICAgICAgICAgICAgICAgZWRpdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtZWRpdCcsIGAke1thZGRUYXNrSWRdfSR7cHJvamVjdExpc3RbYWRkVGFza0lkXS5sZW5ndGggLTF9YClcbiAgICAgICAgICAgICAgICBlZGl0QnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS1zcGVjaWZpY2VkaXQnLCBgJHtwcm9qZWN0TGlzdFthZGRUYXNrSWRdLmxlbmd0aCAtMX1gKVxuICAgICAgICAgICAgICAgIGxldCBkZWxldGVCdXR0b24gPSBuZXdEZWxldGVUYXNrQnV0dG9uKGl0ZW1CdXR0b25zKTtcbiAgICAgICAgICAgICAgICBkZWxldGVCdXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLWRlbGV0ZUl0ZW0nLCBgJHtbYWRkVGFza0lkXX0ke3Byb2plY3RMaXN0W2FkZFRhc2tJZF0ubGVuZ3RoIC0xfWApXG4gICAgICAgICAgICAgICAgZGVsZXRlQnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS1zcGVjaWZpY2RlbGV0ZUl0ZW0nLCBgJHtwcm9qZWN0TGlzdFthZGRUYXNrSWRdLmxlbmd0aCAtMX1gKVxuICAgICAgICAgICAgICAgIHB1c2hDaGVja2JveFRvTGlzdChuZXdDaGVja2JveCk7XG4gICAgICAgICAgICAgICAgcHVzaEVkaXRUb0xpc3QoZWRpdEJ1dHRvbik7XG4gICAgICAgICAgICAgICAgcHVzaERlbGV0ZVRhc2tUb0xpc3QoZGVsZXRlQnV0dG9uKTtcblxuICAgICAgICAgICAgICAgIGNyZWF0ZUVkaXRCdXR0b25MaXN0KCk7XG4gICAgICAgICAgICAgICAgZGVsZXRlVGFza0J1dHRvbkZ1bmN0aW9uYWxpdHkoZGVsZXRlQnV0dG9uKTtcbiAgICAgICAgICAgICAgICBhZGRDaGVja2JveFN0YXR1cyhuZXdDaGVja2JveCk7XG4gICAgICAgICAgICAgICAgY2hhbmdlU3RhdHVzQmFyT25DaGVja2JveENsaWNrKG5ld0NoZWNrYm94KTtcbiAgICAgICAgICAgICAgICBhZGRUYXNrU3RhdHVzKG5ld0NoZWNrYm94KTtcblxuICAgICAgICAgICAgICAgIGNsZWFySW5wdXRzKCk7XG4gICAgICAgICAgICAgICAgaXRlbUZvcm1Db250YWluZXIuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG5cbiAgICAgICAgICAgICAgICBzYXZlVG9Mb2NhbFN0b3JhZ2UoKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhbGVydCAoXCJQbGVhc2UgRmlsbCBPdXQgUmVxdWlyZWQgRmllbGRzXCIpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuXG4gICAgZnVuY3Rpb24gbmV3VGFza0NvbnRhaW5lcigpIHtcbiAgICAgICAgbGV0IHRhc2tDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGFza0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwidGFza0NvbnRhaW5lclwiKTtcbiAgICAgICAgc2VsZWN0ZWRQcm9qZWN0LmFwcGVuZENoaWxkKHRhc2tDb250YWluZXIpO1xuICAgICAgICByZXR1cm4gdGFza0NvbnRhaW5lclxuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gbmV3SXRlbURpdih0YXNrQ29udGFpbmVyLCBpdGVtKSB7XG4gICAgICAgIGxldCBuZXdUYXNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIG5ld1Rhc2suY2xhc3NMaXN0LmFkZCgnbmV3VGFzaycpO1xuICAgICAgICBpZiAoaXRlbS5zdGF0dXMgIT0gJ0NvbXBsZXRlJykge1xuICAgICAgICAgICAgbmV3VGFzay5jbGFzc0xpc3QuYWRkKCd0YXNrTm90Q29tcGxldGUnKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV3VGFzay5jbGFzc0xpc3QuYWRkKCd0YXNrQ29tcGxldGUnKVxuICAgICAgICB9XG4gICAgICAgIG5ld1Rhc2sudGV4dENvbnRlbnQgPSBpdGVtLmluZm87XG4gICAgICAgIHRhc2tDb250YWluZXIuYXBwZW5kQ2hpbGQobmV3VGFzayk7XG4gICAgICAgIHJldHVybiBuZXdUYXNrXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkSXRlbVRvUHJvamVjdExpc3QoaXRlbSl7XG4gICAgICAgIHByb2plY3RMaXN0W2FkZFRhc2tJZF0ucHVzaChpdGVtKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVDaGVja2JveChpdGVtLCB0YXNrQ29udGFpbmVyKSB7XG4gICAgICAgIGxldCBjaGVja2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBjaGVja2JveC5jbGFzc0xpc3QuYWRkKCdjaGVja2JveCcpO1xuICAgICAgICBpZiAoaXRlbS5zdGF0dXMgIT0gJ0NvbXBsZXRlJykge1xuICAgICAgICAgICAgaWYgKGl0ZW0uX3N0YXR1cyAhPSAnQ29tcGxldGUnKSB7XG4gICAgICAgICAgICBjaGVja2JveC5jbGFzc0xpc3QuYWRkKCdub3RDb21wbGV0ZScpO1xuICAgICAgICAgICAgdGFza0NvbnRhaW5lci5hcHBlbmRDaGlsZChjaGVja2JveCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uX3N0YXR1cyA9PSAnQ29tcGxldGUnKSB7XG4gICAgICAgICAgICAgICAgY2hlY2tib3guY2xhc3NMaXN0LmFkZCgnQ29tcGxldGUnKTtcbiAgICAgICAgICAgICAgICB0YXNrQ29udGFpbmVyLmFwcGVuZENoaWxkKGNoZWNrYm94KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChpdGVtLl9zdGF0dXMgPT0gJ0NvbXBsZXRlJykge1xuICAgICAgICAgICAgY2hlY2tib3guY2xhc3NMaXN0LmFkZCgnQ29tcGxldGUnKTtcbiAgICAgICAgICAgIHRhc2tDb250YWluZXIuYXBwZW5kQ2hpbGQoY2hlY2tib3gpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGVja2JveFxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG5ld0l0ZW1CdXR0b25zKHRhc2tDb250YWluZXIpIHtcbiAgICAgICAgbGV0IGl0ZW1CdXR0b25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGl0ZW1CdXR0b25zLmNsYXNzTGlzdC5hZGQoJ2l0ZW1CdXR0b25zJyk7XG4gICAgICAgIHRhc2tDb250YWluZXIuYXBwZW5kQ2hpbGQoaXRlbUJ1dHRvbnMpO1xuICAgICAgICByZXR1cm4gaXRlbUJ1dHRvbnMgXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbmV3RWRpdEJ1dHRvbihpdGVtQnV0dG9ucykge1xuICAgICAgICBsZXQgZWRpdFRhc2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgZWRpdFRhc2suaW5uZXJUZXh0ID0gXCJFZGl0IFRhc2tcIjtcbiAgICAgICAgZWRpdFRhc2suY2xhc3NMaXN0LmFkZCgnZWRpdFRhc2tCdXR0b24nKTtcbiAgICAgICAgaXRlbUJ1dHRvbnMuYXBwZW5kQ2hpbGQoZWRpdFRhc2spO1xuICAgICAgICByZXR1cm4gZWRpdFRhc2tcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBuZXdEZWxldGVUYXNrQnV0dG9uKGl0ZW1CdXR0b25zKSB7XG4gICAgICAgIGxldCBkZWxldGVUYXNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGRlbGV0ZVRhc2suaW5uZXJUZXh0ID0gXCJEZWxldGUgVGFza1wiO1xuICAgICAgICBkZWxldGVUYXNrLmNsYXNzTGlzdC5hZGQoJ2RlbGV0ZVRhc2tCdXR0b24nKTtcbiAgICAgICAgaXRlbUJ1dHRvbnMuYXBwZW5kQ2hpbGQoZGVsZXRlVGFzayk7XG4gICAgICAgIHJldHVybiBkZWxldGVUYXNrXG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBwdXNoQ2hlY2tib3hUb0xpc3QoY2hlY2tib3gpIHtcbiAgICAgICAgY2hlY2tib3hMaXN0LnB1c2goY2hlY2tib3gpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHVzaEVkaXRUb0xpc3QobmV3RWRpdEJ1dHRvbikge1xuICAgICAgICBlZGl0VGFza0J1dHRvbkxpc3QucHVzaChuZXdFZGl0QnV0dG9uKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwdXNoRGVsZXRlVGFza1RvTGlzdChuZXdEZWxldGVCdXR0b24pIHtcbiAgICAgICAgZGVsZXRlVGFza0J1dHRvbkxpc3QucHVzaChuZXdEZWxldGVCdXR0b24pXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlRWRpdEJ1dHRvbkxpc3QoKXtcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpIDwgZWRpdFRhc2tCdXR0b25MaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBlZGl0VGFza0J1dHRvbkxpc3RbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIGl0ZW1Gb3JtQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgICAgIGl0ZW1Gb3JtLmNsYXNzTGlzdC5yZW1vdmUoJ2FkZEl0ZW0nKTtcbiAgICAgICAgICAgICAgICBpdGVtRm9ybS5jbGFzc0xpc3QuYWRkKCdlZGl0SXRlbScpO1xuICAgICAgICAgICAgICAgIGVkaXRCdXR0b25JZCA9IGVkaXRUYXNrQnV0dG9uTGlzdFtpXS5kYXRhc2V0LmVkaXQ7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRUYXNrVG9FZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtdGFzaz1cIiR7ZWRpdEJ1dHRvbklkfVwiXWApO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiBkZWxldGVUYXNrQnV0dG9uRnVuY3Rpb25hbGl0eShidXR0b24pIHtcbiAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBkZWxldGVUYXNrQnV0dG9uSWQgPSAgYnV0dG9uLmRhdGFzZXQuZGVsZXRlaXRlbTtcbiAgICAgICAgICAgIGxldCBzcGVjaWZpY0lEID0gYnV0dG9uLmRhdGFzZXQuc3BlY2lmaWNkZWxldGVpdGVtO1xuICAgICAgICAgICAgdGFza1RvRGVsZXRlID0gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXRhc2tDb250YWluZXI9XCIke2RlbGV0ZVRhc2tCdXR0b25JZH1cIl1gKTtcbiAgICAgICAgICAgIGxldCBwcm9qZWN0UGFyZW50ID0gdGFza1RvRGVsZXRlLnBhcmVudE5vZGU7XG4gICAgICAgICAgICBwcm9qZWN0UGFyZW50LnJlbW92ZUNoaWxkKHRhc2tUb0RlbGV0ZSk7XG4gICAgICAgICAgICBkZWxldGVUYXNrQnV0dG9uTGlzdC5zcGxpY2Uoc3BlY2lmaWNJRCwgMSk7XG4gICAgICAgICAgICBlZGl0VGFza0J1dHRvbkxpc3Quc3BsaWNlKHNwZWNpZmljSUQsIDEpO1xuICAgICAgICAgICAgY2hlY2tib3hMaXN0LnNwbGljZShzcGVjaWZpY0lELCAxKTtcbiAgICAgICAgICAgIGxldCBwcm9qZWN0UGFyZW50SWQgPSBwcm9qZWN0UGFyZW50LmlkXG4gICAgICAgICAgICBwcm9qZWN0TGlzdFtwcm9qZWN0UGFyZW50SWRdLnNwbGljZShzcGVjaWZpY0lELCAxKTtcbiAgICAgICAgICAgIGZpbGxEZWxldGVkU3RhdHVzQmFyKHByb2plY3RQYXJlbnRJZCk7XG4gICAgICAgICAgICBzYXZlVG9Mb2NhbFN0b3JhZ2UoKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgZnVuY3Rpb24gZWRpdEl0ZW0oKXtcbiAgICAgICAgaXRlbUZvcm0uY2xhc3NMaXN0LnJlbW92ZSgnYWRkSXRlbScpO1xuICAgICAgICBsZXQgcmV2aXNlZEl0ZW0gPSBhZGRJdGVtKCk7XG4gICAgICAgIGlmIChyZXZpc2VkSXRlbSAhPSB1bmRlZmluZWQgJiYgcmV2aXNlZEl0ZW0uZHVlRGF0ZSAhPSBcIlwiKSB7XG4gICAgICAgICAgICBzZWxlY3RlZFRhc2tUb0VkaXQuaW5uZXJUZXh0ID0gXCJcIjtcbiAgICAgICAgICAgIHNlbGVjdGVkVGFza1RvRWRpdC5pbm5lclRleHQgPSByZXZpc2VkSXRlbS5pbmZvO1xuICAgICAgICAgICAgZWRpdFByb2plY3RMaXN0KHJldmlzZWRJdGVtKTtcbiAgICAgICAgICAgIGVkaXRUYXNrU3RhdHVzKHJldmlzZWRJdGVtKTtcbiAgICAgICAgICAgIGVkaXRDaGVja2JveFN0YXR1cyhyZXZpc2VkSXRlbSk7XG4gICAgICAgICAgICBmaWxsRWRpdGVkU3RhdHVzQmFyKCk7XG4gICAgICAgICAgICBjbGVhcklucHV0cygpO1xuICAgICAgICAgICAgaXRlbUZvcm1Db250YWluZXIuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgICBzYXZlVG9Mb2NhbFN0b3JhZ2UoKVxuICAgICAgICB9IGVsc2UgIHtcbiAgICAgICAgICAgIGFsZXJ0IChcIlBsZWFzZSBGaWxsIE91dCBSZXF1aXJlZCBGaWVsZHNcIilcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gZWRpdFByb2plY3RMaXN0KHJldmlzZWRJdGVtKSB7XG4gICAgICAgIGxldCB0YXNrSUR0YXNrQ29udGFpbmVyID0gc2VsZWN0ZWRUYXNrVG9FZGl0LnBhcmVudE5vZGVcbiAgICAgICAgbGV0IHRhc2tJRCA9IHNlbGVjdGVkVGFza1RvRWRpdC5kYXRhc2V0LnNwZWNpZmljdGFza1xuICAgICAgICBsZXQgcGFyZW50UHJvamVjdCA9IHRhc2tJRHRhc2tDb250YWluZXIucGFyZW50Tm9kZS5pZFxuICAgICAgICBwcm9qZWN0TGlzdFtwYXJlbnRQcm9qZWN0XS5zcGxpY2UodGFza0lELCAxLCByZXZpc2VkSXRlbSlcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBlZGl0Q2hlY2tib3hTdGF0dXMoaXRlbSl7XG4gICAgICAgIGlmIChpdGVtLnN0YXR1cyAhPSAnQ29tcGxldGUnKSB7XG4gICAgICAgICAgICBjaGVja0JveFRvQ2hhbmdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtY2hlY2tib3g9XCIke2VkaXRCdXR0b25JZH1cIl1gKTtcbiAgICAgICAgICAgICBjaGVja0JveFRvQ2hhbmdlLmNsYXNzTGlzdC5hZGQoJ25vdENvbXBsZXRlJyk7XG4gICAgICAgICAgICBjaGVja0JveFRvQ2hhbmdlLmNsYXNzTGlzdC5yZW1vdmUoJ0NvbXBsZXRlJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXRlbS5zdGF0dXMgPT0gJ0NvbXBsZXRlJykge1xuICAgICAgICAgICAgY2hlY2tCb3hUb0NoYW5nZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWNoZWNrYm94PVwiJHtlZGl0QnV0dG9uSWR9XCJdYClcbiAgICAgICAgICAgIGNoZWNrQm94VG9DaGFuZ2UuY2xhc3NMaXN0LmFkZCgnQ29tcGxldGUnKTtcbiAgICAgICAgICAgIGNoZWNrQm94VG9DaGFuZ2UuY2xhc3NMaXN0LnJlbW92ZSgnbm90Q29tcGxldGUnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGVkaXRUYXNrU3RhdHVzKGl0ZW0pIHtcbiAgICAgICAgbGV0IGNoYW5nZWRUYXNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtdGFzaz1cIiR7ZWRpdEJ1dHRvbklkfVwiXWApO1xuICAgICAgICBsZXQgY2hhbmdlZFRhc2tJRCA9IGNoYW5nZWRUYXNrLmRhdGFzZXQuc3BlY2lmaWN0YXNrXG4gICAgICAgIGxldCB0YXNrQ29udGFpbmVyID0gY2hhbmdlZFRhc2sucGFyZW50Tm9kZTtcbiAgICAgICAgbGV0IHRhc2tQcm9qZWN0ID0gdGFza0NvbnRhaW5lci5wYXJlbnROb2RlLmlkO1xuICAgICAgICBpZiAoaXRlbS5zdGF0dXMgIT0gJ0NvbXBsZXRlJykge1xuICAgICAgICAgICAgY2hhbmdlZFRhc2suY2xhc3NMaXN0LmFkZCgndGFza05vdENvbXBsZXRlJyk7XG4gICAgICAgICAgICBjaGFuZ2VkVGFzay5jbGFzc0xpc3QucmVtb3ZlKCd0YXNrQ29tcGxldGUnKTtcbiAgICAgICAgICAgIHByb2plY3RMaXN0W3Rhc2tQcm9qZWN0XVtjaGFuZ2VkVGFza0lEXS5zdGF0dXMgPSAnTm90IENvbXBsZXRlJ1xuICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uc3RhdHVzID09ICdDb21wbGV0ZScpIHtcbiAgICAgICAgICAgIGNoYW5nZWRUYXNrLmNsYXNzTGlzdC5yZW1vdmUoJ3Rhc2tOb3RDb21wbGV0ZScpO1xuICAgICAgICAgICAgY2hhbmdlZFRhc2suY2xhc3NMaXN0LmFkZCgndGFza0NvbXBsZXRlJyk7XG4gICAgICAgICAgICBwcm9qZWN0TGlzdFt0YXNrUHJvamVjdF1bY2hhbmdlZFRhc2tJRF0uc3RhdHVzID0gJ0NvbXBsZXRlJ1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2hhbmdlU3RhdHVzQmFyT25DaGVja2JveENsaWNrKGNoZWNrYm94KSB7XG4gICAgICAgIGNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGxldCBmaWx0ZXJlZFByb2plY3QgPSBmaWx0ZXJQcm9qZWN0KCk7XG4gICAgICAgIGxldCB0YXNrQ29udGFpbmVyID0gY2hlY2tib3gucGFyZW50Tm9kZTtcbiAgICAgICAgbGV0IHNlbGVjdGVkUHJvamVjdCA9IHRhc2tDb250YWluZXIucGFyZW50Tm9kZS5pZFxuICAgICAgICBsZXQgc2VsZWN0ZWRTdGF0dXNCYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1zdGF0dXNiYXI9XCIke3NlbGVjdGVkUHJvamVjdH1cIl1gKTtcbiAgICAgICAgbGV0IHN0YXR1c0Jsb2NrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGlmIChzZWxlY3RlZFN0YXR1c0Jhci5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICBzZWxlY3RlZFN0YXR1c0Jhci5yZW1vdmVDaGlsZChzZWxlY3RlZFN0YXR1c0Jhci5maXJzdENoaWxkKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICB9XG4gICAgICAgIHN0YXR1c0Jsb2NrLnN0eWxlLndpZHRoID0gYCR7ZmlsdGVyZWRQcm9qZWN0LnBlcmNlbnRhZ2VBcnJheVtzZWxlY3RlZFByb2plY3RdfSVgXG4gICAgICAgIHN0YXR1c0Jsb2NrLnN0eWxlLmhlaWdodCA9IFwiMTAwJVwiICAgICAgICAgICAgXG4gICAgICAgIHNlbGVjdGVkU3RhdHVzQmFyLmFwcGVuZENoaWxkKHN0YXR1c0Jsb2NrKVxuICAgICAgICBkaXNwbGF5UGVyY2VudGFnZShzZWxlY3RlZFN0YXR1c0JhciwgZmlsdGVyZWRQcm9qZWN0LnBlcmNlbnRhZ2VBcnJheVtzZWxlY3RlZFByb2plY3RdKTtcbiAgICB9KVxufVxuXG4gICAgZnVuY3Rpb24gYWRkQ2hlY2tib3hTdGF0dXMoY2hlY2tib3gpIHtcbiAgICAgIGNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBsZXQgY2hlY2tib3hJRCA9IGNoZWNrYm94LmRhdGFzZXQuc3BlY2lmaWNjaGVja2JveDtcbiAgICAgICAgICAgIGxldCBjaGVja2JveENvbnRhaW5lciA9IGNoZWNrYm94LnBhcmVudE5vZGU7XG4gICAgICAgICAgICBsZXQgY2hlY2tib3hQcm9qZWN0ID0gY2hlY2tib3hDb250YWluZXIucGFyZW50Tm9kZS5pZFxuICAgICAgICAgICAgaWYgKGNoZWNrYm94LmNsYXNzTGlzdC5jb250YWlucygnbm90Q29tcGxldGUnKSkge1xuICAgICAgICAgICAgICAgIGNoZWNrYm94LmNsYXNzTGlzdC5yZW1vdmUoJ25vdENvbXBsZXRlJyk7XG4gICAgICAgICAgICAgICAgY2hlY2tib3guY2xhc3NMaXN0LmFkZCgnQ29tcGxldGUnKTtcbiAgICAgICAgICAgICAgICBwcm9qZWN0TGlzdFtjaGVja2JveFByb2plY3RdW2NoZWNrYm94SURdLnN0YXR1cyA9ICdDb21wbGV0ZSdcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hlY2tib3guY2xhc3NMaXN0LmNvbnRhaW5zKCdDb21wbGV0ZScpKSB7XG4gICAgICAgICAgICAgICAgY2hlY2tib3guY2xhc3NMaXN0LmFkZCgnbm90Q29tcGxldGUnKTtcbiAgICAgICAgICAgICAgICBjaGVja2JveC5jbGFzc0xpc3QucmVtb3ZlKCdDb21wbGV0ZScpO1xuICAgICAgICAgICAgICAgIHByb2plY3RMaXN0W2NoZWNrYm94UHJvamVjdF1bY2hlY2tib3hJRF0uc3RhdHVzID0gJ05vdCBDb21wbGV0ZSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNhdmVUb0xvY2FsU3RvcmFnZSgpO1xuICAgICAgICB9KVxuXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkVGFza1N0YXR1cyhjaGVja2JveCkge1xuICAgICAgICBjaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbGV0IGNoZWNrYm94SUQgPSBjaGVja2JveC5kYXRhc2V0LmNoZWNrYm94XG4gICAgICAgICAgICBsZXQgdGFza1RvQ2hhbmdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtdGFzaz1cIiR7Y2hlY2tib3hJRH1cIl1gKVxuICAgICAgICAgICAgaWYgKGNoZWNrYm94LmNsYXNzTGlzdC5jb250YWlucygnQ29tcGxldGUnKSkge1xuICAgICAgICAgICAgICAgIHRhc2tUb0NoYW5nZS5jbGFzc0xpc3QucmVtb3ZlKCd0YXNrTm90Q29tcGxldGUnKTtcbiAgICAgICAgICAgICAgICB0YXNrVG9DaGFuZ2UuY2xhc3NMaXN0LmFkZCgndGFza0NvbXBsZXRlJyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoZWNrYm94LmNsYXNzTGlzdC5jb250YWlucygnbm90Q29tcGxldGUnKSkge1xuICAgICAgICAgICAgICAgIHRhc2tUb0NoYW5nZS5jbGFzc0xpc3QuYWRkKCd0YXNrTm90Q29tcGxldGUnKTtcbiAgICAgICAgICAgICAgICB0YXNrVG9DaGFuZ2UuY2xhc3NMaXN0LnJlbW92ZSgndGFza0NvbXBsZXRlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuICAgIFxuXG4gICAgZnVuY3Rpb24gZmlsdGVyUHJvamVjdCgpIHtcbiAgICAgICAgbGV0IGZpbHRlcmVkQXJyYXlMaXN0ID0gW11cbiAgICAgICAgbGV0IHBlcmNlbnRhZ2VBcnJheSA9IFtdXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvamVjdExpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcHJvamVjdExpc3RbaV0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgbGV0IGZpbHRlcmVkQXJyYXkgPSBwcm9qZWN0TGlzdFtpXS5maWx0ZXIoZmlsdGVyQnlDb21wbGV0ZSlcbiAgICAgICAgICAgICAgICBmaWx0ZXJlZEFycmF5TGlzdC5wdXNoKGZpbHRlcmVkQXJyYXkpXG4gICAgICAgICAgICAgICAgbGV0IHBlcmNlbnRhZ2UgPSBNYXRoLnJvdW5kKGZpbHRlcmVkQXJyYXkubGVuZ3RoIC8gcHJvamVjdExpc3RbaV0ubGVuZ3RoICogMTAwKTsgXG4gICAgICAgICAgICAgICAgcGVyY2VudGFnZUFycmF5LnB1c2gocGVyY2VudGFnZSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZmlsdGVyZWRBcnJheUxpc3QucHVzaChcIlwiKVxuICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2VBcnJheS5wdXNoKFwiXCIpXG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtmaWx0ZXJlZEFycmF5TGlzdCwgcGVyY2VudGFnZUFycmF5fVxuICAgICAgICB9XG4gICAgXG5cbiAgICBmdW5jdGlvbiBmaWx0ZXJCeUNvbXBsZXRlKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0uX3N0YXR1cyA9PSAnQ29tcGxldGUnXG4gICAgfSBcblxuICAgIFxuICAgIGZ1bmN0aW9uIGFkZFRvU3RhdHVzQmFyKHBlcmNlbnRhZ2UpIHtcbiAgICAgICAgbGV0IHNlbGVjdGVkU3RhdHVzQmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtc3RhdHVzYmFyPVwiJHthZGRUYXNrSWR9XCJdYCk7XG4gICAgICAgIGxldCBzdGF0dXNCbG9jayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBpZiAoc2VsZWN0ZWRTdGF0dXNCYXIuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgc2VsZWN0ZWRTdGF0dXNCYXIucmVtb3ZlQ2hpbGQoc2VsZWN0ZWRTdGF0dXNCYXIuZmlyc3RDaGlsZClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgfVxuICAgICAgICBzdGF0dXNCbG9jay5zdHlsZS53aWR0aCA9IGAke3BlcmNlbnRhZ2V9JWBcbiAgICAgICAgc3RhdHVzQmxvY2suc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCIgICAgICAgICAgICBcbiAgICAgICAgc2VsZWN0ZWRTdGF0dXNCYXIuYXBwZW5kQ2hpbGQoc3RhdHVzQmxvY2spXG4gICAgICAgIHJldHVybiBzZWxlY3RlZFN0YXR1c0JhclxuICAgICAgICB9ICAgXG4gICAgXG5cbiAgICBmdW5jdGlvbiBlZGl0U3RhdHVzQmFyKHBlcmNlbnRhZ2UpIHtcbiAgICAgICAgbGV0IHRhc2tDb250YWluZXIgPSBzZWxlY3RlZFRhc2tUb0VkaXQucGFyZW50Tm9kZVxuICAgICAgICBsZXQgcGFyZW50UHJvamVjdCA9IHRhc2tDb250YWluZXIucGFyZW50Tm9kZS5pZFxuICAgICAgICBsZXQgc2VsZWN0ZWRTdGF0dXNCYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1zdGF0dXNiYXI9XCIke3BhcmVudFByb2plY3R9XCJdYCk7XG4gICAgICAgIGxldCBzdGF0dXNCbG9jayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBpZiAoc2VsZWN0ZWRTdGF0dXNCYXIuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgc2VsZWN0ZWRTdGF0dXNCYXIucmVtb3ZlQ2hpbGQoc2VsZWN0ZWRTdGF0dXNCYXIuZmlyc3RDaGlsZClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB9XG4gICAgICAgIHN0YXR1c0Jsb2NrLnN0eWxlLndpZHRoID0gYCR7cGVyY2VudGFnZX0lYFxuICAgICAgICBzdGF0dXNCbG9jay5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIlxuICAgICAgICBzZWxlY3RlZFN0YXR1c0Jhci5hcHBlbmRDaGlsZChzdGF0dXNCbG9jaylcbiAgICAgICAgcmV0dXJuIHNlbGVjdGVkU3RhdHVzQmFyXG4gICAgICAgICAgICB9ICAgXG5cbiAgICBmdW5jdGlvbiBkZWxldGVTdGF0dXNCYXIocGVyY2VudGFnZSwgcHJvamVjdCkge1xuICAgICAgICBsZXQgc2VsZWN0ZWRTdGF0dXNCYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1zdGF0dXNiYXI9XCIke3Byb2plY3R9XCJdYCk7XG4gICAgICAgIGxldCBzdGF0dXNCbG9jayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBpZiAoc2VsZWN0ZWRTdGF0dXNCYXIuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgc2VsZWN0ZWRTdGF0dXNCYXIucmVtb3ZlQ2hpbGQoc2VsZWN0ZWRTdGF0dXNCYXIuZmlyc3RDaGlsZClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB9XG4gICAgICAgIHN0YXR1c0Jsb2NrLnN0eWxlLndpZHRoID0gYCR7cGVyY2VudGFnZX0lYFxuICAgICAgICBzdGF0dXNCbG9jay5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIlxuICAgICAgICBzZWxlY3RlZFN0YXR1c0Jhci5hcHBlbmRDaGlsZChzdGF0dXNCbG9jaylcbiAgICAgICAgcmV0dXJuIHNlbGVjdGVkU3RhdHVzQmFyXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGlzcGxheVBlcmNlbnRhZ2Uoc3RhdHVzQmFyLCBwZXJjZW50YWdlKSB7XG4gICAgICAgIGxldCBzZWxlY3RlZFN0YXR1c0JhcklEID0gc3RhdHVzQmFyLmRhdGFzZXQuc3RhdHVzYmFyO1xuICAgICAgICBsZXQgc2VsZWN0ZWRQZXJjZW50YWdlVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXBlcmNlbnRhZ2V0ZXh0PVwiJHtzZWxlY3RlZFN0YXR1c0JhcklEfVwiXWApO1xuICAgICAgICBzZWxlY3RlZFBlcmNlbnRhZ2VUZXh0LmlubmVyVGV4dCA9IGAke3BlcmNlbnRhZ2V9JSBDb21wbGV0ZWA7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBmaWxsT3V0U3RhdHVzQmFyKCkge1xuICAgICAgICBsZXQgZmlsdGVyZWRQcm9qZWN0ID0gZmlsdGVyUHJvamVjdCgpO1xuICAgICAgICBsZXQgc3RhdHVzQmFyID0gYWRkVG9TdGF0dXNCYXIoZmlsdGVyZWRQcm9qZWN0LnBlcmNlbnRhZ2VBcnJheVthZGRUYXNrSWRdKTtcbiAgICAgICAgZGlzcGxheVBlcmNlbnRhZ2Uoc3RhdHVzQmFyLCBmaWx0ZXJlZFByb2plY3QucGVyY2VudGFnZUFycmF5W2FkZFRhc2tJZF0pO1xuICAgICAgICB9XG5cbiAgICBmdW5jdGlvbiBmaWxsRWRpdGVkU3RhdHVzQmFyKCkge1xuICAgICAgICBsZXQgZmlsdGVyZWRQcm9qZWN0ID0gZmlsdGVyUHJvamVjdCgpO1xuICAgICAgICBsZXQgdGFza0NvbnRhaW5lciA9IHNlbGVjdGVkVGFza1RvRWRpdC5wYXJlbnROb2RlXG4gICAgICAgIGxldCBwYXJlbnRQcm9qZWN0ID0gdGFza0NvbnRhaW5lci5wYXJlbnROb2RlLmlkXG4gICAgICAgIGxldCBzdGF0dXNCYXIgPSBlZGl0U3RhdHVzQmFyKGZpbHRlcmVkUHJvamVjdC5wZXJjZW50YWdlQXJyYXlbcGFyZW50UHJvamVjdF0pO1xuICAgICAgICBpZiAoZmlsdGVyZWRQcm9qZWN0LnBlcmNlbnRhZ2VBcnJheVtwYXJlbnRQcm9qZWN0XSAhPSBOYU4pIHtcbiAgICAgICAgZGlzcGxheVBlcmNlbnRhZ2Uoc3RhdHVzQmFyLCBmaWx0ZXJlZFByb2plY3QucGVyY2VudGFnZUFycmF5W3BhcmVudFByb2plY3RdKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZpbGxEZWxldGVkU3RhdHVzQmFyKHByb2plY3RUb0RlbGV0ZSkge1xuICAgICAgICBsZXQgZmlsdGVyZWRQcm9qZWN0ID0gZmlsdGVyUHJvamVjdCgpO1xuICAgICAgICBsZXQgcGFyZW50UHJvamVjdCA9IHByb2plY3RUb0RlbGV0ZVxuICAgICAgICBsZXQgc3RhdHVzQmFyID0gZGVsZXRlU3RhdHVzQmFyKGZpbHRlcmVkUHJvamVjdC5wZXJjZW50YWdlQXJyYXlbcGFyZW50UHJvamVjdF0sIHBhcmVudFByb2plY3QpO1xuICAgICAgICBpZiAoaXNOYU4oZmlsdGVyZWRQcm9qZWN0LnBlcmNlbnRhZ2VBcnJheVtwYXJlbnRQcm9qZWN0XSkgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGRpc3BsYXlQZXJjZW50YWdlKHN0YXR1c0JhciwgZmlsdGVyZWRQcm9qZWN0LnBlcmNlbnRhZ2VBcnJheVtwYXJlbnRQcm9qZWN0XSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgc2VsZWN0ZWRTdGF0dXNCYXJJRCA9IHN0YXR1c0Jhci5kYXRhc2V0LnN0YXR1c2JhcjtcbiAgICAgICAgICAgIGxldCBzZWxlY3RlZFBlcmNlbnRhZ2VUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtcGVyY2VudGFnZXRleHQ9XCIke3NlbGVjdGVkU3RhdHVzQmFySUR9XCJdYCk7XG4gICAgICAgICAgICBzZWxlY3RlZFBlcmNlbnRhZ2VUZXh0LmlubmVyVGV4dCA9IFwiXCJcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLy9ldmVudCBsaXN0ZW5lclxuICAgIFxuICAgIGl0ZW1TdWJtaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGl0ZW1Gb3JtLmNsYXNzTGlzdC5jb250YWlucygnYWRkSXRlbScpKSB7XG4gICAgICAgIGFkZFRhc2soKTtcbiAgICB9IGVsc2UgaWYgKGl0ZW1Gb3JtLmNsYXNzTGlzdC5jb250YWlucygnZWRpdEl0ZW0nKSkge1xuICAgICAgICBlZGl0SXRlbSgpO1xuICAgIH1cbn0pXG5cbiAgICByZXNldEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGNsZWFySW5wdXRzKCkpXG5cbiAgICB0YXNrQ2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBpdGVtRm9ybUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKSlcblxuLy8gbG9jYWwgc3RvcmFnZSBcblxuZnVuY3Rpb24gc2F2ZVRvTG9jYWxTdG9yYWdlKCkge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGBzdG9yZWRQcm9qZWN0TGlzdGAsIEpTT04uc3RyaW5naWZ5KHByb2plY3RMaXN0KSk7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oYHByb2plY3RJbmZvYCwgSlNPTi5zdHJpbmdpZnkocHJvamVjdExpc3RJbmZvKSlcbn1cblxuZnVuY3Rpb24gZ2V0SXRlbUZyb21Mb2NhbFN0b3JhZ2UoKSB7XG4gICBsZXQgcHVsbFRhc2tzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc3RvcmVkUHJvamVjdExpc3QnKSk7XG4gICBsZXQgcHVsbFByb2plY3RzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvamVjdEluZm8nKSk7XG4gICBmb3IgKGNvbnN0IHByb2plY3RJbmZvIGluIHB1bGxQcm9qZWN0cykge1xuICAgICAgICBsZXQgc3RvcmVkUHJvamVjdEluZm8gPSBwdWxsUHJvamVjdHNbcHJvamVjdEluZm9dXG4gICAgICAgIGlmIChzdG9yZWRQcm9qZWN0SW5mby5fdGl0bGUgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGFkZEJhY2tQcm9qZWN0TWV0aG9kcyhzdG9yZWRQcm9qZWN0SW5mbyk7XG4gICAgICAgIGRpc3BsYXlTdG9yZWRQcm9qZWN0KHN0b3JlZFByb2plY3RJbmZvKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcHJvamVjdExpc3RJbmZvLnB1c2goXCJcIik7XG4gICAgICAgICAgICBwcm9qZWN0TGlzdC5wdXNoKFwiXCIpXG4gICAgICAgIH1cbiAgICBjb25zb2xlLmxvZyhwcm9qZWN0TGlzdClcbiAgICAgICAgXG4gICB9XG4gICAgZm9yIChjb25zdCBwcm9qZWN0IGluIHB1bGxUYXNrcykge1xuICAgICAgICBjb25zb2xlLmxvZyhwdWxsVGFza3MpXG4gICAgICAgICAgICBpZiAocHVsbFRhc2tzW3Byb2plY3RdICE9IFwiXCIpIHtcbiAgICAgICAgICAgICAgICBwdWxsVGFza3NbcHJvamVjdF0uZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRQcm9qZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocHJvamVjdCk7XG4gICAgICAgICAgICAgICAgYWRkVGFza0lkID0gcHJvamVjdDtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhhZGRUYXNrSWQpXG4gICAgICAgICAgICAgICAgbGV0IHN0b3JlZEl0ZW0gPSBpdGVtXG4gICAgICAgICAgICAgICAgYWRkQmFja1Rhc2tNZXRob2RzKHN0b3JlZEl0ZW0pXG4gICAgICAgICAgICAgICAgY3JlYXRlU3RvcmVkVGFzayhzdG9yZWRJdGVtKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgIH0gICAgICAgIFxuICAgICAgICB9XG4gICAgfVxuXG5cbmZ1bmN0aW9uIGFkZEJhY2tUYXNrTWV0aG9kcyhpdGVtKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGl0ZW0sICdzdGF0dXMnLCB7XG4gICAgICAgIHNldCh4KSB7IGl0ZW0uX3N0YXR1cyA9IHg7IH1cbiAgICB9KVxuXG4gICAgZnVuY3Rpb24gaW5mbyhpdGVtKSB7XG4gICAgICAgIHJldHVybiAoYFRpdGxlOiAke2l0ZW0uX3RpdGxlfSBcXHJcXG5cbiAgICAgICAgRGVzY3JpcHRpb246ICR7aXRlbS5fZGVzY3JpcHRpb259IFxcclxcblxuICAgICAgICBEdWUgRGF0ZTogJHtpdGVtLl9kdWVEYXRlfSBcXHJcXG5cbiAgICAgICAgUHJpb3JpdHk6ICR7aXRlbS5fcHJpb3JpdHl9IFxcclxcblxuICAgICAgICBOb3RlczogJHtpdGVtLl9ub3Rlc30gYCkgXG4gICAgfVxuICAgIGl0ZW0uaW5mbyA9IGluZm8oaXRlbSlcbn1cblxuZnVuY3Rpb24gYWRkQmFja1Byb2plY3RNZXRob2RzKHByb2plY3QpIHtcbiAgICBmdW5jdGlvbiBpbmZvKHByb2plY3QpIHtcbiAgICAgICAgcmV0dXJuIChgUHJvamVjdCBUaXRsZTogJHtwcm9qZWN0Ll90aXRsZX0gXFxyXFxuXG4gICAgICAgIFByb2plY3QgRGVzY3JpcHRpb246ICR7cHJvamVjdC5fZGVzY3JpcHRpb259IFxcclxcbmApXG4gICAgfVxuICAgIHByb2plY3QuaW5mbyA9IGluZm8ocHJvamVjdClcbn1cblxuZnVuY3Rpb24gZGlzcGxheVN0b3JlZFByb2plY3Qoc3RvcmVkUHJvamVjdCkge1xuICAgIGFkZFRvUHJvamVjdExpc3QoKTtcbiAgICBsZXQgcHJvamVjdENvbnRhaW5lciA9IGNyZWF0ZVByb2plY3RDb250YWluZXIoKTtcbiAgICBsZXQgcHJvamVjdCA9IGNyZWF0ZU5ld1Byb2plY3QocHJvamVjdENvbnRhaW5lciwgc3RvcmVkUHJvamVjdCk7XG4gICAgYWRkUHJvamVjdExpc3RJbmZvKHN0b3JlZFByb2plY3QpXG4gICAgbGV0IHByb2plY3RJRCA9IHNldE5ld1Byb2plY3RJZChwcm9qZWN0KTtcbiAgICBsZXQgbmV3U3RhdHVzQmFyID0gY3JlYXRlU3RhdHVzQmFyKHByb2plY3QpXG4gICAgbGV0IHNvcnRCdXR0b25zID0gYWRkU29ydEJ1dHRvbnMocHJvamVjdCk7XG4gICAgc3VibWl0QnV0dG9uU29ydChzb3J0QnV0dG9ucylcbiAgICBsZXQgYnV0dG9uU2VjdGlvbiA9IGFkZEJ1dHRvblNlY3Rpb24ocHJvamVjdENvbnRhaW5lcik7XG4gICAgbGV0IGVkaXRQcm9qZWN0QnV0dG9uID0gYWRkUHJvamVjdEVkaXRCdXR0b24oYnV0dG9uU2VjdGlvbik7XG4gICAgcHJvakVkaXRCdXR0b25MaXN0KGVkaXRQcm9qZWN0QnV0dG9uKVxuICAgIGxldCBhZGRJdGVtVG9Qcm9qZWN0QnV0dG9uID0gYWRkUHJvamVjdEFkZEJ1dHRvbihidXR0b25TZWN0aW9uKTtcbiAgICBwcm9qZWN0VG9Eb0J1dHRvbkxpc3QoYWRkSXRlbVRvUHJvamVjdEJ1dHRvbik7XG4gICAgbGV0IGRlbGV0ZVByb2plY3RCdXR0b24gPSBhZGRQcm9qZWN0RGVsZXRlQnV0dG9uKGJ1dHRvblNlY3Rpb24pO1xuICAgIHByb2plY3REZWxldGVCdXR0b25MaXN0KGRlbGV0ZVByb2plY3RCdXR0b24pO1xuICAgIGFkZEl0ZW1Ub1Byb2plY3QoYWRkSXRlbVRvUHJvamVjdEJ1dHRvbik7XG4gICAgZGVsZXRlQnV0dG9uRnVuY3Rpb25hbGl0eShkZWxldGVQcm9qZWN0QnV0dG9uKTtcbiAgICBwcm9qZWN0RWRpdEJ1dHRvbkZ1bmN0aW9uYWxpdHkoZWRpdFByb2plY3RCdXR0b24pO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVTdG9yZWRUYXNrKGl0ZW0pIHtcbiAgICBhZGRJdGVtVG9Qcm9qZWN0TGlzdChpdGVtKVxuICAgIGxldCBuZXdUYXNrID0gbmV3VGFza0NvbnRhaW5lcigpO1xuICAgIG5ld1Rhc2suc2V0QXR0cmlidXRlKCdkYXRhLXRhc2tjb250YWluZXInLCBgJHtbYWRkVGFza0lkXX0ke3Byb2plY3RMaXN0W2FkZFRhc2tJZF0ubGVuZ3RoIC0xfWApXG4gICAgbmV3VGFzay5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3BlY2lmaWN0YXNrY29udGFpbmVyJywgYCR7cHJvamVjdExpc3RbYWRkVGFza0lkXS5sZW5ndGggLTF9YClcbiAgICBsZXQgbmV3Q2hlY2tib3ggPSBjcmVhdGVDaGVja2JveChpdGVtLCBuZXdUYXNrKTtcbiAgICBuZXdDaGVja2JveC5zZXRBdHRyaWJ1dGUoJ2RhdGEtY2hlY2tib3gnLCBgJHtbYWRkVGFza0lkXX0ke3Byb2plY3RMaXN0W2FkZFRhc2tJZF0ubGVuZ3RoIC0xfWApXG4gICAgbmV3Q2hlY2tib3guc2V0QXR0cmlidXRlKCdkYXRhLXNwZWNpZmljY2hlY2tib3gnLCBgJHtwcm9qZWN0TGlzdFthZGRUYXNrSWRdLmxlbmd0aCAtMX1gKVxuICAgIGxldCBuZXdEaXYgPSBuZXdJdGVtRGl2KG5ld1Rhc2ssIGl0ZW0pO1xuICAgIG5ld0Rpdi5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGFzaycsIGAke1thZGRUYXNrSWRdfSR7cHJvamVjdExpc3RbYWRkVGFza0lkXS5sZW5ndGggLTF9YCk7XG4gICAgbmV3RGl2LnNldEF0dHJpYnV0ZSgnZGF0YS1zcGVjaWZpY3Rhc2snLCBgJHtwcm9qZWN0TGlzdFthZGRUYXNrSWRdLmxlbmd0aCAtMX1gKTtcblxuICAgIGZpbGxPdXRTdGF0dXNCYXIoKTtcblxuICAgIGxldCBpdGVtQnV0dG9ucyA9IG5ld0l0ZW1CdXR0b25zKG5ld1Rhc2spO1xuICAgIGxldCBlZGl0QnV0dG9uID0gbmV3RWRpdEJ1dHRvbihpdGVtQnV0dG9ucyk7XG4gICAgZWRpdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtZWRpdCcsIGAke1thZGRUYXNrSWRdfSR7cHJvamVjdExpc3RbYWRkVGFza0lkXS5sZW5ndGggLTF9YClcbiAgICBlZGl0QnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS1zcGVjaWZpY2VkaXQnLCBgJHtwcm9qZWN0TGlzdFthZGRUYXNrSWRdLmxlbmd0aCAtMX1gKVxuICAgIGxldCBkZWxldGVCdXR0b24gPSBuZXdEZWxldGVUYXNrQnV0dG9uKGl0ZW1CdXR0b25zKTtcbiAgICBkZWxldGVCdXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLWRlbGV0ZUl0ZW0nLCBgJHtbYWRkVGFza0lkXX0ke3Byb2plY3RMaXN0W2FkZFRhc2tJZF0ubGVuZ3RoIC0xfWApXG4gICAgZGVsZXRlQnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS1zcGVjaWZpY2RlbGV0ZUl0ZW0nLCBgJHtwcm9qZWN0TGlzdFthZGRUYXNrSWRdLmxlbmd0aCAtMX1gKVxuICAgIHB1c2hDaGVja2JveFRvTGlzdChuZXdDaGVja2JveCk7XG4gICAgcHVzaEVkaXRUb0xpc3QoZWRpdEJ1dHRvbik7XG4gICAgcHVzaERlbGV0ZVRhc2tUb0xpc3QoZGVsZXRlQnV0dG9uKTtcblxuICAgIGNyZWF0ZUVkaXRCdXR0b25MaXN0KCk7XG4gICAgZGVsZXRlVGFza0J1dHRvbkZ1bmN0aW9uYWxpdHkoZGVsZXRlQnV0dG9uKTtcbiAgICBhZGRDaGVja2JveFN0YXR1cyhuZXdDaGVja2JveCk7XG4gICAgY2hhbmdlU3RhdHVzQmFyT25DaGVja2JveENsaWNrKG5ld0NoZWNrYm94KTtcbiAgICBhZGRUYXNrU3RhdHVzKG5ld0NoZWNrYm94KTtcbn1cblxud2luZG93Lm9ubG9hZCA9ICgpID0+IHtcbiAgICBnZXRJdGVtRnJvbUxvY2FsU3RvcmFnZSgpO1xufVxuXG5cbn1cblxuIiwiaW1wb3J0IGZ1bmN0aW9uYWxpdHkgZnJvbSBcIi4vZG9tLmpzXCI7IFxuXG5cbmZ1bmN0aW9uYWxpdHkoKSJdLCJuYW1lcyI6WyJUb0RvSXRlbSIsImNvbnN0cnVjdG9yIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImR1ZURhdGUiLCJwcmlvcml0eSIsIm5vdGVzIiwic3RhdHVzIiwidGhpcyIsIl9zdGF0dXMiLCJpbmZvIiwiX3RpdGxlIiwiX2Rlc2NyaXB0aW9uIiwiX2R1ZURhdGUiLCJfcHJpb3JpdHkiLCJfbm90ZXMiLCJuZXdUaXRsZSIsIm5ld0Rlc2NyaXB0aW9uIiwibmV3UHJpb3JpdHkiLCJuZXdEdWVEYXRlIiwibmV3Tm90ZXMiLCJuZXdTdGF0dXMiLCJQcm9qZWN0IiwiYWRkSXRlbSIsIml0ZW1OYW1lIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInZhbHVlIiwiaXRlbURlc2NyaXB0aW9uIiwiY29tcGxldGUiLCJhZGRQcm9qZWN0IiwicHJvamVjdFRpdGxlIiwicHJvamVjdERlc2NyaXB0aW9uIiwibWFpbkJvZHkiLCJhZGRCdXR0b24iLCJwcm9qZWN0Rm9ybUNvbnRhaW5lciIsInByb2plY3RTdWJtaXRCdXR0b24iLCJwcm9qZWN0Q2xvc2VCdXR0b24iLCJhZGRUYXNrSWQiLCJkZWxldGVQcm9qZWN0SWQiLCJwcm9qZWN0RWRpdElEIiwicHJvamVjdFRvRGVsZXRlIiwidG9Eb0J1dHRvbkxpc3QiLCJkZWxldGVCdXR0b25MaXN0IiwicHJvamVjdExpc3QiLCJwcm9qZWN0RWRpdEJ1dHRvbkxpc3QiLCJwcm9qZWN0TGlzdEluZm8iLCJzdG9yZWRQcm9qZWN0TGlzdEluZm8iLCJzZWxlY3RlZFByb2plY3QiLCJhZGRUb1Byb2plY3RMaXN0IiwicHVzaCIsImFkZFByb2plY3RMaXN0SW5mbyIsInByb2plY3QiLCJjcmVhdGVQcm9qZWN0Q29udGFpbmVyIiwicHJvamVjdENvbnRhaW5lciIsImNyZWF0ZUVsZW1lbnQiLCJhcHBlbmRDaGlsZCIsImNyZWF0ZU5ld1Byb2plY3QiLCJuZXdQcm9qZWN0IiwiY2xhc3NMaXN0IiwiYWRkIiwicHJvamVjdEluZm8iLCJzZXRBdHRyaWJ1dGUiLCJsZW5ndGgiLCJ0ZXh0Q29udGVudCIsInNldE5ld1Byb2plY3RJZCIsImlkIiwiYWRkU29ydEJ1dHRvbnMiLCJzb3J0QnV0dG9ucyIsInNvcnRPcHRpb25zIiwic29ydE5hbWUiLCJzb3J0UHJpb3JpdHkiLCJzb3J0RHVlRGF0ZSIsInNvcnRDb21wbGV0ZSIsInNvcnRTdWJtaXQiLCJhZGRCdXR0b25TZWN0aW9uIiwiYnV0dG9uU2VjdGlvbiIsImFkZFByb2plY3RBZGRCdXR0b24iLCJhZGRUb0RvIiwiaW5uZXJUZXh0IiwicHJvamVjdFRvRG9CdXR0b25MaXN0IiwiYWRkUHJvamVjdERlbGV0ZUJ1dHRvbiIsImRlbGV0ZUJ1dHRvbiIsInByb2plY3REZWxldGVCdXR0b25MaXN0IiwiYWRkUHJvamVjdEVkaXRCdXR0b24iLCJlZGl0QnV0dG9uIiwicHJvakVkaXRCdXR0b25MaXN0IiwicHJvamVjdEVkaXRCdXR0b25GdW5jdGlvbmFsaXR5IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZSIsImRhdGFzZXQiLCJwcm9qZWN0ZWRpdCIsImNsZWFySW5wdXRzIiwiaW5wdXRWYWx1ZXMiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiaSIsImFkZEl0ZW1Ub1Byb2plY3QiLCJidXR0b24iLCJpdGVtRm9ybUNvbnRhaW5lciIsIml0ZW1Gb3JtIiwiZGVsZXRlQnV0dG9uRnVuY3Rpb25hbGl0eSIsImRlbGV0ZSIsInNwbGljZSIsInF1ZXJ5U2VsZWN0b3IiLCJyZW1vdmVDaGlsZCIsInBhcmVudE5vZGUiLCJjb25zb2xlIiwibG9nIiwic2F2ZVRvTG9jYWxTdG9yYWdlIiwic3VibWl0QnV0dG9uU29ydCIsInN1Ym1pdEJ1dHRvbiIsInN1Ym1pdEJ1dHRvbklEIiwic29ydCIsInR5cGVvZlNvcnQiLCJwcm9qZWN0VG9Tb3J0IiwiYSIsImIiLCJzb3J0UHJvamVjdFRhc2tzIiwicHJvamVjdFRvQ2xlYXIiLCJwYXJlbnQiLCJsYXN0Q2hpbGQiLCJyZW1vdmVBbGxDaGlsZE5vZGVzIiwibmV3VGFzayIsIm5ld0NoZWNrYm94IiwiY3JlYXRlQ2hlY2tib3giLCJuZXdEaXYiLCJuZXdJdGVtRGl2IiwiaXRlbUJ1dHRvbnMiLCJuZXdJdGVtQnV0dG9ucyIsIm5ld0VkaXRCdXR0b24iLCJuZXdEZWxldGVUYXNrQnV0dG9uIiwicHVzaENoZWNrYm94VG9MaXN0IiwicHVzaEVkaXRUb0xpc3QiLCJwdXNoRGVsZXRlVGFza1RvTGlzdCIsImNyZWF0ZUVkaXRCdXR0b25MaXN0IiwiZGVsZXRlVGFza0J1dHRvbkZ1bmN0aW9uYWxpdHkiLCJhZGRDaGVja2JveFN0YXR1cyIsImFkZFRhc2tTdGF0dXMiLCJjaGFuZ2VTdGF0dXNCYXJPbkNoZWNrYm94Q2xpY2siLCJkaXNwbGF5U29ydGVkUHJvamVjdCIsImNyZWF0ZVN0YXR1c0JhciIsInNlY3Rpb24iLCJzdGF0dXNCYXJDb250YWluZXIiLCJzdGF0dXNCYXIiLCJwZXJjZW50YWdlVGV4dCIsInN0YXR1c2JhciIsImNvbnRhaW5zIiwiZWRpdFByb2plY3RCdXR0b24iLCJhZGRJdGVtVG9Qcm9qZWN0QnV0dG9uIiwiZGVsZXRlUHJvamVjdEJ1dHRvbiIsInByb2plY3RUb1JldmlzZSIsInJldmlzZWRQcm9qZWN0IiwiZGVsZXRlVGFza0J1dHRvbklkIiwiZWRpdFRhc2tCdXR0b25MaXN0IiwiZGVsZXRlVGFza0J1dHRvbkxpc3QiLCJpdGVtU3VibWl0QnV0dG9uIiwiZWRpdEJ1dHRvbklkIiwic2VsZWN0ZWRUYXNrVG9FZGl0IiwidGFza1RvRGVsZXRlIiwicmVzZXRCdXR0b24iLCJ0YXNrQ2xvc2VCdXR0b24iLCJjaGVja0JveFRvQ2hhbmdlIiwiY2hlY2tib3hMaXN0IiwibmV3VGFza0NvbnRhaW5lciIsInRhc2tDb250YWluZXIiLCJpdGVtIiwiYWRkSXRlbVRvUHJvamVjdExpc3QiLCJjaGVja2JveCIsImVkaXRUYXNrIiwiZGVsZXRlVGFzayIsIm5ld0RlbGV0ZUJ1dHRvbiIsImVkaXQiLCJkZWxldGVpdGVtIiwic3BlY2lmaWNJRCIsInNwZWNpZmljZGVsZXRlaXRlbSIsInByb2plY3RQYXJlbnQiLCJwcm9qZWN0UGFyZW50SWQiLCJmaWx0ZXJlZFByb2plY3QiLCJmaWx0ZXJQcm9qZWN0IiwicGFyZW50UHJvamVjdCIsInBlcmNlbnRhZ2UiLCJzZWxlY3RlZFN0YXR1c0JhciIsInN0YXR1c0Jsb2NrIiwiZmlyc3RDaGlsZCIsInN0eWxlIiwid2lkdGgiLCJoZWlnaHQiLCJkZWxldGVTdGF0dXNCYXIiLCJwZXJjZW50YWdlQXJyYXkiLCJpc05hTiIsImRpc3BsYXlQZXJjZW50YWdlIiwic2VsZWN0ZWRTdGF0dXNCYXJJRCIsImZpbGxEZWxldGVkU3RhdHVzQmFyIiwiY2hlY2tib3hJRCIsInNwZWNpZmljY2hlY2tib3giLCJjaGVja2JveFByb2plY3QiLCJ0YXNrVG9DaGFuZ2UiLCJmaWx0ZXJlZEFycmF5TGlzdCIsImZpbHRlcmVkQXJyYXkiLCJmaWx0ZXIiLCJmaWx0ZXJCeUNvbXBsZXRlIiwiTWF0aCIsInJvdW5kIiwiZmlsbE91dFN0YXR1c0JhciIsImFkZFRvU3RhdHVzQmFyIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhZGRCYWNrVGFza01ldGhvZHMiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsInNldCIsIngiLCJkaXNwbGF5U3RvcmVkUHJvamVjdCIsInN0b3JlZFByb2plY3QiLCJjcmVhdGVTdG9yZWRUYXNrIiwidW5kZWZpbmVkIiwiYWxlcnQiLCJhZGRUYXNrIiwicmV2aXNlZEl0ZW0iLCJ0YXNrSUR0YXNrQ29udGFpbmVyIiwidGFza0lEIiwic3BlY2lmaWN0YXNrIiwiZWRpdFByb2plY3RMaXN0IiwiY2hhbmdlZFRhc2siLCJjaGFuZ2VkVGFza0lEIiwidGFza1Byb2plY3QiLCJlZGl0VGFza1N0YXR1cyIsImVkaXRTdGF0dXNCYXIiLCJOYU4iLCJmaWxsRWRpdGVkU3RhdHVzQmFyIiwiZWRpdEl0ZW0iLCJ3aW5kb3ciLCJvbmxvYWQiLCJwdWxsVGFza3MiLCJwYXJzZSIsImdldEl0ZW0iLCJwdWxsUHJvamVjdHMiLCJzdG9yZWRQcm9qZWN0SW5mbyIsImZvckVhY2giLCJzdG9yZWRJdGVtIiwiZ2V0SXRlbUZyb21Mb2NhbFN0b3JhZ2UiLCJmdW5jdGlvbmFsaXR5Il0sInNvdXJjZVJvb3QiOiIifQ==