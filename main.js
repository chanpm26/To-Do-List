(()=>{"use strict";class t{constructor(t,e,n,i,s,a){this.title=t,this.description=e,this.dueDate=n,this.priority=i,this.notes=s,this.status=a}get title(){return this._title}get status(){return`${this._status}`}get dueDate(){return this._dueDate}get priority(){return this._priority}get info(){return`Title: ${this._title} \r\n\n        Description: ${this._description} \r\n\n        Due Date: ${this._dueDate} \r\n\n        Priority: ${this._priority} \r\n\n        Notes: ${this._notes} `}set title(t){this._title=t}set description(t){this._description=t}set priority(t){this._priority=t}set dueDate(t){this._dueDate=t}set notes(t){this._notes=t}set status(t){this._status=t}}class e{constructor(t,e){this.title=t,this.description=e}get title(){return this._title}get description(){return this._description}get info(){return`Project Title: ${this._title} \r\n\n        Project Description: ${this._description} `}set title(t){this._title=t}set description(t){this._description=t}}function n(){let e=document.getElementById("itemName").value,n=document.getElementById("itemDescription").value,i=document.getElementById("dueDate").value,s=document.getElementById("priority").value,a=document.getElementById("notes").value,d=document.getElementById("complete").value;return new t(e,n,i,s,a,d)}function i(){const t=document.getElementById("projectName").value,n=document.getElementById("projectDescription").value;return new e(t,n)}!function(){const t=document.getElementById("main"),e=document.getElementById("addButton"),s=document.getElementById("projectFormContainer"),a=document.getElementById("projectSubmitButton"),d=document.getElementById("projectClose");let o="",l="",c="",r=document.getElementById(l),u=[],m=[],p=[],h=[],f=[],g=[],C=[],y=document.getElementById(o);function L(){p.push([]),h.push([])}function b(t){g.push(t),C.push(t)}function E(){let e=document.createElement("div");return t.appendChild(e),e}function v(t,e){let n=document.createElement("div");n.classList.add("project");let i=document.createElement("p");return i.classList.add("projectInfo"),i.setAttribute("data-projectInfo",p.length-1),i.textContent=e.info,t.appendChild(n),n.appendChild(i),n}function $(t){return t.setAttribute("id",p.length-1),t.id}function k(t){let e=document.createElement("div"),n=document.createElement("select");n.setAttribute("data-sortinput",p.length-1),e.classList.add("sortButtons");let i=document.createElement("option");i.setAttribute("value","Name"),i.textContent="Sort By Name";let s=document.createElement("option");s.setAttribute("value","Priority"),s.textContent="Sort By Priority";let a=document.createElement("option");a.setAttribute("value","dueDate"),a.textContent="Sort By Due Date";let d=document.createElement("option");d.setAttribute("value","Completion"),d.textContent="Sort By Completion";let o=document.createElement("button");return o.setAttribute("data-sort",p.length-1),o.textContent="Submit",t.appendChild(e),e.appendChild(n),n.appendChild(i),n.appendChild(s),n.appendChild(a),n.appendChild(d),e.appendChild(o),o}function A(t){let e=document.createElement("div");return e.classList.add("buttonSection"),e.setAttribute("data-projectButtons",p.length-1),t.appendChild(e),e}function I(t){let e=document.createElement("button");return e.classList.add("addToDoButton"),e.setAttribute("data-add",p.length-1),e.innerText="Add Task",t.appendChild(e),e}function B(t){u.push(t)}function N(t){let e=document.createElement("button");return e.classList.add("deleteButton"),e.setAttribute("data-delete",p.length-1),e.innerText="Delete",t.appendChild(e),e}function x(t){m.push(t)}function S(t){let e=document.createElement("button");return e.classList.add("projectEditButton"),e.setAttribute("data-projectedit",p.length-1),e.innerText="Edit Project",t.appendChild(e),e}function _(t){f.push(t)}function D(t){t.addEventListener("click",(function(){s.classList.remove("hidden"),s.classList.add("edit"),c=t.dataset.projectedit}))}function j(){let t=Array.from(document.querySelectorAll("input"));for(let e=0;e<t.length;e++)t[e].value=""}function T(){for(let t=0;t<u.length;t++)u[t].addEventListener("click",(function(){F.classList.remove("hidden"),o=u[t].dataset.add,y=document.getElementById(o),O.classList.remove("editItem"),O.classList.add("addItem")}))}function q(e){e.addEventListener("click",(function(){l=e.dataset.delete,r=document.getElementById(l),p.splice(l,1),g.splice(l,1),u.splice(l,1),m.splice(l,1),u.splice(l,1),document.querySelector(`[data-projectbuttons="${l}"]`),t.removeChild(r.parentNode),console.log(p),gt()}))}function P(t){t.addEventListener("click",(function(){let e=t.dataset.sort,n=document.querySelector(`[data-sortinput="${e}"]`),i=p[e];0!=i.length&&(function(t,e){"Name"==e.value?t.sort(((t,e)=>t.title>e.title?1:-1)):"Priority"==e.value?t.sort(((t,e)=>t.priority>e.priority?1:-1)):"Completion"==e.value?t.sort(((t,e)=>t.status>e.status?-1:1)):"dueDate"==e.value&&t.sort(((t,e)=>t.dueDate>e.dueDate?1:-1))}(i,n),function(t,e){let n=document.getElementById(t);!function(t,e){for(let n=0;n<e.length;n++)t.removeChild(t.lastChild)}(n,e);for(let i=0;i<e.length;i++){let e=document.createElement("div");e.classList.add("taskContainer"),n.appendChild(e),e.setAttribute("data-taskcontainer",`${t}${[i]}`),e.setAttribute("data-specifictaskcontainer",[i]);let s=tt(p[t][i],e);s.setAttribute("data-checkbox",`${t}${[i]}`),s.setAttribute("data-specificcheckbox",[i]);let a=Y(e,p[t][i]);a.setAttribute("data-task",`${t}${[i]}`),a.setAttribute("data-specifictask",[i]);let d=et(e),o=nt(d);o.setAttribute("data-edit",`${t}${[i]}`),o.setAttribute("data-specificedit",[i]);let l=it(d);l.setAttribute("data-deleteItem",`${t}${[i]}`),l.setAttribute("data-specificdeleteItem",[i]),st(s),at(o),dt(l),ot(),lt(l),rt(s),ut(s),ct(s)}}(e,i),gt())}))}function w(t){let e=document.createElement("div");e.classList.add("statusBarContainer");let n=document.createElement("div"),i=document.createElement("div");return n.classList.add("statusBar"),n.setAttribute("data-statusbar",p.length-1),i.classList.add("percentageText"),i.setAttribute("data-percentagetext",p.length-1),t.appendChild(e),e.appendChild(n),e.appendChild(i),statusbar}e.addEventListener("click",(function(){s.classList.remove("hidden")})),a.addEventListener("click",(function(){if(!s.classList.contains("edit")){L();let t=i(),e=E(),n=v(e,t);b(t),$(n),w(n),P(k(n));let a=A(e),d=S(a);_(d),B(I(a));let o=N(a);x(o),T(),q(o),D(d),s.classList.add("hidden"),j(),gt()}})),a.addEventListener("click",(function(){if(s.classList.contains("edit")){let t=document.querySelector(`[data-projectinfo="${c}"]`),e=i();g.splice(c,1,e),t.textContent=e.info,j(),s.classList.add("hidden"),s.classList.remove("edit"),gt()}})),d.addEventListener("click",(function(){s.classList.add("hidden")}));const F=document.getElementById("itemFormContainer");let O=document.getElementById("itemForm"),J="",R=[],M=[];const z=document.getElementById("itemSubmitButton");let G="",H=document.getElementById(G),K=document.getElementById(J),Q=document.getElementById("reset");const U=document.getElementById("taskClose");let V=document.querySelector(`[data-checkbox="${G}"]`),W=[];function X(){let t=document.createElement("div");return t.classList.add("taskContainer"),y.appendChild(t),t}function Y(t,e){let n=document.createElement("div");return n.classList.add("newTask"),"Complete"!=e.status?n.classList.add("taskNotComplete"):n.classList.add("taskComplete"),n.textContent=e.info,t.appendChild(n),n}function Z(t){p[o].push(t)}function tt(t,e){let n=document.createElement("button");return n.classList.add("checkbox"),"Complete"!=t.status&&"Complete"!=t._status?(n.classList.add("notComplete"),e.appendChild(n)):"Complete"==t._status&&(n.classList.add("Complete"),e.appendChild(n)),n}function et(t){let e=document.createElement("div");return e.classList.add("itemButtons"),t.appendChild(e),e}function nt(t){let e=document.createElement("button");return e.innerText="Edit Task",e.classList.add("editTaskButton"),t.appendChild(e),e}function it(t){let e=document.createElement("button");return e.innerText="Delete Task",e.classList.add("deleteTaskButton"),t.appendChild(e),e}function st(t){W.push(t)}function at(t){R.push(t)}function dt(t){M.push(t)}function ot(){for(let t=0;t<R.length;t++)R[t].addEventListener("click",(function(){F.classList.remove("hidden"),O.classList.remove("addItem"),O.classList.add("editItem"),G=R[t].dataset.edit,H=document.querySelector(`[data-task="${G}"]`)}))}function lt(t){t.addEventListener("click",(function(){J=t.dataset.deleteitem;let e=t.dataset.specificdeleteitem;K=document.querySelector(`[data-taskContainer="${J}"]`);let n=K.parentNode;n.removeChild(K),M.splice(e,1),R.splice(e,1),W.splice(e,1);let i=n.id;p[i].splice(e,1),function(t){let e=mt(),n=t,i=function(t,e){let n=document.querySelector(`[data-statusbar="${e}"]`),i=document.createElement("div");return n.firstChild&&n.removeChild(n.firstChild),i.style.width=`${t}%`,i.style.height="100%",n.appendChild(i),n}(e.percentageArray[n],n);if(0==isNaN(e.percentageArray[n]))ht(i,e.percentageArray[n]);else{let t=i.dataset.statusbar;document.querySelector(`[data-percentagetext="${t}"]`).innerText=""}}(i),gt()}))}function ct(t){t.addEventListener("click",(function(){let e=mt(),n=t.parentNode.parentNode.id,i=document.querySelector(`[data-statusbar="${n}"]`),s=document.createElement("div");i.firstChild&&i.removeChild(i.firstChild),s.style.width=`${e.percentageArray[n]}%`,s.style.height="100%",i.appendChild(s),ht(i,e.percentageArray[n])}))}function rt(t){t.addEventListener("click",(function(){let e=t.dataset.specificcheckbox,n=t.parentNode.parentNode.id;t.classList.contains("notComplete")?(t.classList.remove("notComplete"),t.classList.add("Complete"),p[n][e].status="Complete"):t.classList.contains("Complete")&&(t.classList.add("notComplete"),t.classList.remove("Complete"),p[n][e].status="Not Complete"),gt()}))}function ut(t){t.addEventListener("click",(function(){let e=t.dataset.checkbox,n=document.querySelector(`[data-task="${e}"]`);t.classList.contains("Complete")?(n.classList.remove("taskNotComplete"),n.classList.add("taskComplete")):t.classList.contains("notComplete")&&(n.classList.add("taskNotComplete"),n.classList.remove("taskComplete"))}))}function mt(){let t=[],e=[];for(let n=0;n<p.length;n++){let i=p[n].filter(pt);t.push(i);let s=Math.round(i.length/p[n].length*100);e.push(s)}return{filteredArrayList:t,percentageArray:e}}function pt(t){return"Complete"==t.status}function ht(t,e){let n=t.dataset.statusbar;document.querySelector(`[data-percentagetext="${n}"]`).innerText=`${e}% Complete`}function ft(){let t=mt();ht(function(t){let e=document.querySelector(`[data-statusbar="${o}"]`),n=document.createElement("div");return e.firstChild&&e.removeChild(e.firstChild),n.style.width=`${t}%`,n.style.height="100%",e.appendChild(n),e}(t.percentageArray[o]),t.percentageArray[o])}function gt(){h=p,C=g,localStorage.setItem("storedProjectList",JSON.stringify(h)),localStorage.setItem("projectInfo",JSON.stringify(C)),console.log(h)}function Ct(t){t.info=function(t){return`Title: ${t._title} \r\n\n        Description: ${t._description} \r\n\n        Due Date: ${t._dueDate} \r\n\n        Priority: ${t._priority} \r\n\n        Notes: ${t._notes} `}(t)}function yt(t){L();let e=E(),n=v(e,t);b(t),$(n),w(n),P(k(n));let i=A(e),s=S(i);_(s),B(I(i));let a=N(i);x(a),T(),q(a),D(s)}function Lt(t){Z(t);let e=X();e.setAttribute("data-taskcontainer",`${[o]}${p[o].length-1}`),e.setAttribute("data-specifictaskcontainer",""+(p[o].length-1));let n=tt(t,e);n.setAttribute("data-checkbox",`${[o]}${p[o].length-1}`),n.setAttribute("data-specificcheckbox",""+(p[o].length-1));let i=Y(e,t);i.setAttribute("data-task",`${[o]}${p[o].length-1}`),i.setAttribute("data-specifictask",""+(p[o].length-1)),ft();let s=et(e),a=nt(s);a.setAttribute("data-edit",`${[o]}${p[o].length-1}`),a.setAttribute("data-specificedit",""+(p[o].length-1));let d=it(s);d.setAttribute("data-deleteItem",`${[o]}${p[o].length-1}`),d.setAttribute("data-specificdeleteItem",""+(p[o].length-1)),st(n),at(a),dt(d),ot(),lt(d),rt(n),ct(n),ut(n)}z.addEventListener("click",(function(){O.classList.contains("addItem")?function(){let t=n();if(null!=t&&""!=t.dueDate){Z(t),console.log(p);let e=X();e.setAttribute("data-taskcontainer",`${[o]}${p[o].length-1}`),e.setAttribute("data-specifictaskcontainer",""+(p[o].length-1));let n=tt(t,e);n.setAttribute("data-checkbox",`${[o]}${p[o].length-1}`),n.setAttribute("data-specificcheckbox",""+(p[o].length-1));let i=Y(e,t);i.setAttribute("data-task",`${[o]}${p[o].length-1}`),i.setAttribute("data-specifictask",""+(p[o].length-1)),ft();let s=et(e),a=nt(s);a.setAttribute("data-edit",`${[o]}${p[o].length-1}`),a.setAttribute("data-specificedit",""+(p[o].length-1));let d=it(s);d.setAttribute("data-deleteItem",`${[o]}${p[o].length-1}`),d.setAttribute("data-specificdeleteItem",""+(p[o].length-1)),st(n),at(a),dt(d),ot(),lt(d),rt(n),ct(n),ut(n),j(),F.classList.add("hidden"),gt()}else alert("Please Fill Out Required Fields")}():O.classList.contains("editItem")&&function(){O.classList.remove("addItem");let t=n();var e;null!=t&&""!=t.dueDate?(H.innerText="",H.innerText=t.info,function(t){let e=H.parentNode,n=H.dataset.specifictask,i=e.parentNode.id;p[i].splice(n,1,t)}(t),function(t){let e=document.querySelector(`[data-task="${G}"]`),n=e.dataset.specifictask,i=e.parentNode.parentNode.id;"Complete"!=t.status?(e.classList.add("taskNotComplete"),e.classList.remove("taskComplete"),p[i][n].status="Not Complete"):"Complete"==t.status&&(e.classList.remove("taskNotComplete"),e.classList.add("taskComplete"),p[i][n].status="Complete")}(t),"Complete"!=(e=t).status?(V=document.querySelector(`[data-checkbox="${G}"]`),V.classList.add("notComplete"),V.classList.remove("Complete")):"Complete"==e.status&&(V=document.querySelector(`[data-checkbox="${G}"]`),V.classList.add("Complete"),V.classList.remove("notComplete")),function(){let t=mt(),e=H.parentNode.parentNode.id,n=function(t){let e=H.parentNode.parentNode.id,n=document.querySelector(`[data-statusbar="${e}"]`),i=document.createElement("div");return n.firstChild&&n.removeChild(n.firstChild),i.style.width=`${t}%`,i.style.height="100%",n.appendChild(i),n}(t.percentageArray[e]);NaN!=t.percentageArray[e]&&ht(n,t.percentageArray[e])}(),j(),F.classList.add("hidden"),gt()):alert("Please Fill Out Required Fields")}()})),Q.addEventListener("click",(()=>j())),U.addEventListener("click",(()=>F.classList.add("hidden"))),window.onload=()=>{!function(){let t=JSON.parse(localStorage.getItem("storedProjectList"));console.log(t);let e=JSON.parse(localStorage.getItem("projectInfo"));for(const t in e){let i=e[t];(n=i).info=function(t){return`Project Title: ${t._title} \r\n\n        Project Description: ${t._description} \r\n`}(n),yt(i)}var n;for(const e in t)""!=t&&t[e].forEach((function(t){y=document.getElementById(e),o=e;let n=t;Ct(n),Lt(n)}))}()}}()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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IjpbIndlYnBhY2s6Ly90by1kby1saXN0Ly4vc3JjL3Rhc2suanMiLCJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC8uL3NyYy9wcm9qZWN0LmpzIiwid2VicGFjazovL3RvLWRvLWxpc3QvLi9zcmMvYXBwbGljYXRpb25Mb2dpYy5qcyIsIndlYnBhY2s6Ly90by1kby1saXN0Ly4vc3JjL2RvbS5qcyIsIndlYnBhY2s6Ly90by1kby1saXN0Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIFRvRG9JdGVtIHtcbiAgICBjb25zdHJ1Y3Rvcih0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5LCBub3Rlcywgc3RhdHVzKSB7XG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgICAgICB0aGlzLmR1ZURhdGUgPSBkdWVEYXRlO1xuICAgICAgICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XG4gICAgICAgIHRoaXMubm90ZXMgPSBub3RlcztcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gICAgfVxuXG4gICAgZ2V0IHRpdGxlKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuX3RpdGxlKVxuICAgIH1cblxuICAgIGdldCBzdGF0dXMoKSB7XG4gICAgICAgIHJldHVybiAoYCR7dGhpcy5fc3RhdHVzfWApXG4gICAgfVxuXG4gICAgZ2V0IGR1ZURhdGUoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5fZHVlRGF0ZSlcbiAgICB9XG5cbiAgICBnZXQgcHJpb3JpdHkoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5fcHJpb3JpdHkpXG4gICAgfVxuXG4gICAgZ2V0IGluZm8oKSB7XG4gICAgICAgIHJldHVybiAoYFRpdGxlOiAke3RoaXMuX3RpdGxlfSBcXHJcXG5cbiAgICAgICAgRGVzY3JpcHRpb246ICR7dGhpcy5fZGVzY3JpcHRpb259IFxcclxcblxuICAgICAgICBEdWUgRGF0ZTogJHt0aGlzLl9kdWVEYXRlfSBcXHJcXG5cbiAgICAgICAgUHJpb3JpdHk6ICR7dGhpcy5fcHJpb3JpdHl9IFxcclxcblxuICAgICAgICBOb3RlczogJHt0aGlzLl9ub3Rlc30gYCkgXG4gICAgfVxuXG4gICAgc2V0IHRpdGxlKG5ld1RpdGxlKSB7XG4gICAgICAgIHRoaXMuX3RpdGxlID0gbmV3VGl0bGVcbiAgICB9XG5cbiAgICBzZXQgZGVzY3JpcHRpb24obmV3RGVzY3JpcHRpb24pIHtcbiAgICAgICAgdGhpcy5fZGVzY3JpcHRpb24gPSBuZXdEZXNjcmlwdGlvblxuICAgIH1cblxuICAgIHNldCBwcmlvcml0eShuZXdQcmlvcml0eSkge1xuICAgICAgICB0aGlzLl9wcmlvcml0eSA9IG5ld1ByaW9yaXR5XG4gICAgfVxuXG4gICAgc2V0IGR1ZURhdGUobmV3RHVlRGF0ZSkge1xuICAgICAgICB0aGlzLl9kdWVEYXRlID0gbmV3RHVlRGF0ZVxuICAgIH1cblxuICAgIHNldCBub3RlcyhuZXdOb3Rlcykge1xuICAgICAgICB0aGlzLl9ub3RlcyA9IG5ld05vdGVzXG4gICAgfVxuXG4gICAgc2V0IHN0YXR1cyhuZXdTdGF0dXMpIHtcbiAgICAgICAgdGhpcy5fc3RhdHVzID0gbmV3U3RhdHVzXG4gICAgfVxuXG4gICAgXG59XG5cblxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvamVjdCB7XG4gICAgY29uc3RydWN0b3IodGl0bGUsIGRlc2NyaXB0aW9uKSB7XG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgIH1cblxuICAgIGdldCB0aXRsZSgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl90aXRsZSlcbiAgICB9XG5cbiAgICBnZXQgZGVzY3JpcHRpb24oKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5fZGVzY3JpcHRpb24pXG4gICAgfVxuXG4gICAgZ2V0IGluZm8oKSB7XG4gICAgICAgIHJldHVybiAoYFByb2plY3QgVGl0bGU6ICR7dGhpcy5fdGl0bGV9IFxcclxcblxuICAgICAgICBQcm9qZWN0IERlc2NyaXB0aW9uOiAke3RoaXMuX2Rlc2NyaXB0aW9ufSBgKSBcbiAgICB9XG5cbiAgICBzZXQgdGl0bGUobmV3VGl0bGUpIHtcbiAgICAgICAgdGhpcy5fdGl0bGUgPSBuZXdUaXRsZVxuICAgIH1cblxuICAgIHNldCBkZXNjcmlwdGlvbihuZXdEZXNjcmlwdGlvbikge1xuICAgICAgICB0aGlzLl9kZXNjcmlwdGlvbiA9IG5ld0Rlc2NyaXB0aW9uXG4gICAgfVxufSIsImltcG9ydCBUb0RvSXRlbSBmcm9tIFwiLi90YXNrLmpzXCI7XG5pbXBvcnQgUHJvamVjdCBmcm9tIFwiLi9wcm9qZWN0LmpzXCI7XG5cbmZ1bmN0aW9uIGFkZEl0ZW0oKSB7XG4gICAgbGV0IGl0ZW1OYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2l0ZW1OYW1lJykudmFsdWU7XG4gICAgbGV0IGl0ZW1EZXNjcmlwdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpdGVtRGVzY3JpcHRpb24nKS52YWx1ZTtcbiAgICBsZXQgZHVlRGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkdWVEYXRlJykudmFsdWU7XG4gICAgbGV0IHByaW9yaXR5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByaW9yaXR5JykudmFsdWU7XG4gICAgbGV0IG5vdGVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25vdGVzJykudmFsdWU7XG4gICAgbGV0IGNvbXBsZXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbXBsZXRlJykudmFsdWU7XG5cbiAgICBsZXQgaXRlbSA9IG5ldyBUb0RvSXRlbShpdGVtTmFtZSwgaXRlbURlc2NyaXB0aW9uLCBkdWVEYXRlLCBwcmlvcml0eSwgbm90ZXMsIGNvbXBsZXRlKTtcbiAgICByZXR1cm4gaXRlbTtcbiAgICBcbn1cblxuZnVuY3Rpb24gYWRkUHJvamVjdCgpIHtcbiAgICBjb25zdCBwcm9qZWN0VGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdE5hbWUnKS52YWx1ZTtcbiAgICBjb25zdCBwcm9qZWN0RGVzY3JpcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdERlc2NyaXB0aW9uJykudmFsdWU7XG5cbiAgICBsZXQgcHJvamVjdCA9IG5ldyBQcm9qZWN0KHByb2plY3RUaXRsZSwgcHJvamVjdERlc2NyaXB0aW9uKVxuICAgIHJldHVybiBwcm9qZWN0O1xufVxuXG5leHBvcnQge2FkZEl0ZW0sIGFkZFByb2plY3R9IiwiaW1wb3J0IHsgYWRkSXRlbSwgYWRkUHJvamVjdCB9IGZyb20gXCIuL2FwcGxpY2F0aW9uTG9naWMuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZnVuY3Rpb25hbGl0eSgpIHtcbiAgICBjb25zdCBtYWluQm9keSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluJyk7XG4gICAgY29uc3QgYWRkQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZEJ1dHRvbicpO1xuICAgIGNvbnN0IHByb2plY3RGb3JtQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3RGb3JtQ29udGFpbmVyJyk7XG4gICAgY29uc3QgcHJvamVjdFN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0U3VibWl0QnV0dG9uJyk7XG4gICAgY29uc3QgcHJvamVjdENsb3NlQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3RDbG9zZScpXG4gICAgbGV0IGFkZFRhc2tJZCA9IFwiXCI7XG4gICAgbGV0IGRlbGV0ZVByb2plY3RJZCA9IFwiXCI7XG4gICAgbGV0IHByb2plY3RFZGl0SUQgPSBcIlwiXG4gICAgbGV0IHByb2plY3RUb0RlbGV0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRlbGV0ZVByb2plY3RJZCk7XG4gICAgbGV0IHRvRG9CdXR0b25MaXN0ID0gW107XG4gICAgbGV0IGRlbGV0ZUJ1dHRvbkxpc3QgPSBbXTtcbiAgICBsZXQgcHJvamVjdExpc3QgPSBbXTtcbiAgICBsZXQgc3RvcmVkUHJvamVjdExpc3QgPSBbXVxuICAgIGxldCBwcm9qZWN0RWRpdEJ1dHRvbkxpc3QgPSBbXVxuICAgIGxldCBwcm9qZWN0TGlzdEluZm8gPSBbXTtcbiAgICBsZXQgc3RvcmVkUHJvamVjdExpc3RJbmZvID0gW11cbiAgICBsZXQgc2VsZWN0ZWRQcm9qZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYWRkVGFza0lkKTtcblxuXG4gICAgLy8gcHJvamVjdCBmdW5jdGlvbnNcblxuICAgIGZ1bmN0aW9uIGFkZFRvUHJvamVjdExpc3QoKSB7XG4gICAgICAgIHByb2plY3RMaXN0LnB1c2goW10pO1xuICAgICAgICBzdG9yZWRQcm9qZWN0TGlzdC5wdXNoKFtdKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZFByb2plY3RMaXN0SW5mbyhwcm9qZWN0KSB7XG4gICAgICAgIHByb2plY3RMaXN0SW5mby5wdXNoKHByb2plY3QpXG4gICAgICAgIHN0b3JlZFByb2plY3RMaXN0SW5mby5wdXNoKHByb2plY3QpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlUHJvamVjdENvbnRhaW5lcigpIHtcbiAgICAgICAgbGV0IHByb2plY3RDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICBtYWluQm9keS5hcHBlbmRDaGlsZChwcm9qZWN0Q29udGFpbmVyKTtcbiAgICAgICAgcmV0dXJuIHByb2plY3RDb250YWluZXJcbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gY3JlYXRlTmV3UHJvamVjdChwcm9qZWN0Q29udGFpbmVyLCBwcm9qZWN0KSB7XG4gICAgICAgIGxldCBuZXdQcm9qZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBuZXdQcm9qZWN0LmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0XCIpXG4gICAgICAgICAgICBsZXQgcHJvamVjdEluZm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICAgICAgICBwcm9qZWN0SW5mby5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0SW5mbycpXG4gICAgICAgICAgICBwcm9qZWN0SW5mby5zZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvamVjdEluZm8nLCBwcm9qZWN0TGlzdC5sZW5ndGggLSAxKVxuICAgICAgICAgICAgcHJvamVjdEluZm8udGV4dENvbnRlbnQgPSBwcm9qZWN0LmluZm9cbiAgICAgICAgICAgIHByb2plY3RDb250YWluZXIuYXBwZW5kQ2hpbGQobmV3UHJvamVjdClcbiAgICAgICAgICAgIG5ld1Byb2plY3QuYXBwZW5kQ2hpbGQocHJvamVjdEluZm8pO1xuICAgICAgICByZXR1cm4gbmV3UHJvamVjdFxuICAgICAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gc2V0TmV3UHJvamVjdElkKG5ld1Byb2plY3QpIHtcbiAgICAgICAgbmV3UHJvamVjdC5zZXRBdHRyaWJ1dGUoJ2lkJywgcHJvamVjdExpc3QubGVuZ3RoIC0gMSk7XG4gICAgICAgIHJldHVybiBuZXdQcm9qZWN0LmlkXG4gICAgfVxuICAgIFxuXG4gICAgZnVuY3Rpb24gYWRkU29ydEJ1dHRvbnMgKG5ld1Byb2plY3QpIHtcbiAgICAgICAgbGV0IHNvcnRCdXR0b25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGxldCBzb3J0T3B0aW9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xuICAgICAgICBzb3J0T3B0aW9ucy5zZXRBdHRyaWJ1dGUoJ2RhdGEtc29ydGlucHV0JywgcHJvamVjdExpc3QubGVuZ3RoLTEpXG4gICAgICAgIHNvcnRCdXR0b25zLmNsYXNzTGlzdC5hZGQoJ3NvcnRCdXR0b25zJylcbiAgICAgICAgbGV0IHNvcnROYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgIHNvcnROYW1lLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIFwiTmFtZVwiKTtcbiAgICAgICAgc29ydE5hbWUudGV4dENvbnRlbnQgPSBcIlNvcnQgQnkgTmFtZVwiXG4gICAgICAgIGxldCBzb3J0UHJpb3JpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgc29ydFByaW9yaXR5LnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIFwiUHJpb3JpdHlcIik7XG4gICAgICAgIHNvcnRQcmlvcml0eS50ZXh0Q29udGVudCA9IFwiU29ydCBCeSBQcmlvcml0eVwiXG4gICAgICAgIGxldCBzb3J0RHVlRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBzb3J0RHVlRGF0ZS5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBcImR1ZURhdGVcIik7XG4gICAgICAgIHNvcnREdWVEYXRlLnRleHRDb250ZW50ID0gXCJTb3J0IEJ5IER1ZSBEYXRlXCJcbiAgICAgICAgbGV0IHNvcnRDb21wbGV0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBzb3J0Q29tcGxldGUuc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgXCJDb21wbGV0aW9uXCIpO1xuICAgICAgICBzb3J0Q29tcGxldGUudGV4dENvbnRlbnQgPSBcIlNvcnQgQnkgQ29tcGxldGlvblwiXG4gICAgICAgIGxldCBzb3J0U3VibWl0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJylcbiAgICAgICAgc29ydFN1Ym1pdC5zZXRBdHRyaWJ1dGUoJ2RhdGEtc29ydCcsIHByb2plY3RMaXN0Lmxlbmd0aC0xKTtcbiAgICAgICAgc29ydFN1Ym1pdC50ZXh0Q29udGVudCA9IFwiU3VibWl0XCJcbiAgICAgICAgbmV3UHJvamVjdC5hcHBlbmRDaGlsZChzb3J0QnV0dG9ucyk7XG4gICAgICAgIHNvcnRCdXR0b25zLmFwcGVuZENoaWxkKHNvcnRPcHRpb25zKTtcbiAgICAgICAgc29ydE9wdGlvbnMuYXBwZW5kQ2hpbGQoc29ydE5hbWUpXG4gICAgICAgIHNvcnRPcHRpb25zLmFwcGVuZENoaWxkKHNvcnRQcmlvcml0eSlcbiAgICAgICAgc29ydE9wdGlvbnMuYXBwZW5kQ2hpbGQoc29ydER1ZURhdGUpO1xuICAgICAgICBzb3J0T3B0aW9ucy5hcHBlbmRDaGlsZChzb3J0Q29tcGxldGUpXG4gICAgICAgIHNvcnRCdXR0b25zLmFwcGVuZENoaWxkKHNvcnRTdWJtaXQpXG5cbiAgICAgICAgcmV0dXJuIHNvcnRTdWJtaXRcbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gYWRkQnV0dG9uU2VjdGlvbihwcm9qZWN0Q29udGFpbmVyKSB7XG4gICAgICAgIGxldCBidXR0b25TZWN0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBidXR0b25TZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ2J1dHRvblNlY3Rpb24nKTtcbiAgICAgICAgICAgIGJ1dHRvblNlY3Rpb24uc2V0QXR0cmlidXRlKCdkYXRhLXByb2plY3RCdXR0b25zJywgcHJvamVjdExpc3QubGVuZ3RoLTEpO1xuICAgICAgICAgICAgcHJvamVjdENvbnRhaW5lci5hcHBlbmRDaGlsZChidXR0b25TZWN0aW9uKTtcbiAgICAgICAgICAgIHJldHVybiBidXR0b25TZWN0aW9uXG4gICAgfSAgIFxuXG4gICAgICBmdW5jdGlvbiBhZGRQcm9qZWN0QWRkQnV0dG9uKGJ1dHRvblNlY3Rpb24pIHtcbiAgICAgICAgbGV0IGFkZFRvRG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgYWRkVG9Eby5jbGFzc0xpc3QuYWRkKCdhZGRUb0RvQnV0dG9uJyk7XG4gICAgICAgIGFkZFRvRG8uc2V0QXR0cmlidXRlKCdkYXRhLWFkZCcsIHByb2plY3RMaXN0Lmxlbmd0aCAtIDEpO1xuICAgICAgICBhZGRUb0RvLmlubmVyVGV4dCA9IFwiQWRkIFRhc2tcIjtcbiAgICAgICAgYnV0dG9uU2VjdGlvbi5hcHBlbmRDaGlsZChhZGRUb0RvKTtcbiAgICAgICAgcmV0dXJuIGFkZFRvRG9cbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gcHJvamVjdFRvRG9CdXR0b25MaXN0KGFkZFRvRG8pIHtcbiAgICAgICAgdG9Eb0J1dHRvbkxpc3QucHVzaChhZGRUb0RvKTtcbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gYWRkUHJvamVjdERlbGV0ZUJ1dHRvbihidXR0b25TZWN0aW9uKSB7XG4gICAgICAgIGxldCBkZWxldGVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgZGVsZXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2RlbGV0ZUJ1dHRvbicpO1xuICAgICAgICBkZWxldGVCdXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLWRlbGV0ZScsIHByb2plY3RMaXN0Lmxlbmd0aCAtIDEpO1xuICAgICAgICBkZWxldGVCdXR0b24uaW5uZXJUZXh0ID0gXCJEZWxldGVcIjtcbiAgICAgICAgYnV0dG9uU2VjdGlvbi5hcHBlbmRDaGlsZChkZWxldGVCdXR0b24pO1xuICAgICAgICByZXR1cm4gZGVsZXRlQnV0dG9uXG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIHByb2plY3REZWxldGVCdXR0b25MaXN0KGRlbGV0ZUJ1dHRvbikge1xuICAgICAgICBkZWxldGVCdXR0b25MaXN0LnB1c2goZGVsZXRlQnV0dG9uKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGRQcm9qZWN0RWRpdEJ1dHRvbihidXR0b25TZWN0aW9uKSB7XG4gICAgICAgIGxldCBlZGl0QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGVkaXRCdXR0b24uY2xhc3NMaXN0LmFkZCgncHJvamVjdEVkaXRCdXR0b24nKTtcbiAgICAgICAgZWRpdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvamVjdGVkaXQnLCBwcm9qZWN0TGlzdC5sZW5ndGggLSAxKTtcbiAgICAgICAgZWRpdEJ1dHRvbi5pbm5lclRleHQgPSBcIkVkaXQgUHJvamVjdFwiO1xuICAgICAgICBidXR0b25TZWN0aW9uLmFwcGVuZENoaWxkKGVkaXRCdXR0b24pO1xuICAgICAgICByZXR1cm4gZWRpdEJ1dHRvblxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHByb2pFZGl0QnV0dG9uTGlzdChlZGl0QnV0dG9uKSB7XG4gICAgICAgIHByb2plY3RFZGl0QnV0dG9uTGlzdC5wdXNoKGVkaXRCdXR0b24pXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJvamVjdEVkaXRCdXR0b25GdW5jdGlvbmFsaXR5KGVkaXRCdXR0b24pIHtcbiAgICAgICAgZWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcHJvamVjdEZvcm1Db250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICBwcm9qZWN0Rm9ybUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdlZGl0JylcbiAgICAgICAgICAgIHByb2plY3RFZGl0SUQgPSBlZGl0QnV0dG9uLmRhdGFzZXQucHJvamVjdGVkaXQ7XG4gICAgICAgIH0pXG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIGNsZWFySW5wdXRzKCkge1xuICAgICAgICBsZXQgaW5wdXRWYWx1ZXMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0JykpXG4gICAgICAgIGZvciAobGV0IGk9MDsgaTxpbnB1dFZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpbnB1dFZhbHVlc1tpXS52YWx1ZSA9IFwiXCJcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZEl0ZW1Ub1Byb2plY3QoKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG9Eb0J1dHRvbkxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdG9Eb0J1dHRvbkxpc3RbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgaXRlbUZvcm1Db250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICBhZGRUYXNrSWQgPSB0b0RvQnV0dG9uTGlzdFtpXS5kYXRhc2V0LmFkZDtcbiAgICAgICAgICAgIHNlbGVjdGVkUHJvamVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGFkZFRhc2tJZCk7XG4gICAgICAgICAgICBpdGVtRm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdlZGl0SXRlbScpO1xuICAgICAgICAgICAgaXRlbUZvcm0uY2xhc3NMaXN0LmFkZCgnYWRkSXRlbScpXG4gICAgICAgICAgICB9KVxuICAgIH19XG5cbiAgICBmdW5jdGlvbiBkZWxldGVCdXR0b25GdW5jdGlvbmFsaXR5KGJ1dHRvbikge1xuICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgZGVsZXRlUHJvamVjdElkID0gYnV0dG9uLmRhdGFzZXQuZGVsZXRlO1xuICAgICAgICAgICAgcHJvamVjdFRvRGVsZXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGVsZXRlUHJvamVjdElkKTtcbiAgICAgICAgICAgIHByb2plY3RMaXN0LnNwbGljZShkZWxldGVQcm9qZWN0SWQsIDEpO1xuICAgICAgICAgICAgcHJvamVjdExpc3RJbmZvLnNwbGljZShkZWxldGVQcm9qZWN0SWQsIDEpXG4gICAgICAgICAgICB0b0RvQnV0dG9uTGlzdC5zcGxpY2UoZGVsZXRlUHJvamVjdElkLDEpO1xuICAgICAgICAgICAgZGVsZXRlQnV0dG9uTGlzdC5zcGxpY2UoZGVsZXRlUHJvamVjdElkLCAxKTtcbiAgICAgICAgICAgIHRvRG9CdXR0b25MaXN0LnNwbGljZShkZWxldGVQcm9qZWN0SWQsIDEpO1xuICAgICAgICAgICAgbGV0IHByb2plY3RCdXR0b25zVG9EZWxldGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1wcm9qZWN0YnV0dG9ucz1cIiR7ZGVsZXRlUHJvamVjdElkfVwiXWApXG4gICAgICAgICAgICBtYWluQm9keS5yZW1vdmVDaGlsZChwcm9qZWN0VG9EZWxldGUucGFyZW50Tm9kZSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhwcm9qZWN0TGlzdClcbiAgICAgICAgICAgIHNhdmVUb0xvY2FsU3RvcmFnZSgpO1xuICAgICAgICAgICAgICBcbiAgICB9KX1cblxuICAgIGZ1bmN0aW9uIHNvcnRQcm9qZWN0VGFza3MocHJvamVjdCwgdHlwZW9mU29ydCkge1xuICAgICAgICBpZiAodHlwZW9mU29ydC52YWx1ZSA9PSBcIk5hbWVcIikge1xuICAgICAgICAgICAgcHJvamVjdC5zb3J0KChhLCBiKSA9PiAoYS50aXRsZSA+IGIudGl0bGUpID8gMSA6IC0xKVxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZlNvcnQudmFsdWUgPT0gXCJQcmlvcml0eVwiKSB7XG4gICAgICAgICAgICBwcm9qZWN0LnNvcnQoKGEsIGIpID0+IChhLnByaW9yaXR5ID4gYi5wcmlvcml0eSkgPyAxIDogLTEpXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mU29ydC52YWx1ZSA9PSBcIkNvbXBsZXRpb25cIikge1xuICAgICAgICAgICAgcHJvamVjdC5zb3J0KChhLCBiKSA9PiAoYS5zdGF0dXMgPiBiLnN0YXR1cykgPyAtMSA6IDEpXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mU29ydC52YWx1ZSA9PSBcImR1ZURhdGVcIikge1xuICAgICAgICAgICAgcHJvamVjdC5zb3J0KChhLCBiKSA9PiAoYS5kdWVEYXRlID4gYi5kdWVEYXRlKSA/IDEgOiAtMSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN1Ym1pdEJ1dHRvblNvcnQoc3VibWl0QnV0dG9uKSB7XG4gICAgICAgIHN1Ym1pdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICBsZXQgc3VibWl0QnV0dG9uSUQgPSBzdWJtaXRCdXR0b24uZGF0YXNldC5zb3J0XG4gICAgICAgIGxldCB0eXBlb2ZTb3J0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtc29ydGlucHV0PVwiJHtzdWJtaXRCdXR0b25JRH1cIl1gKTtcbiAgICAgICAgbGV0IHByb2plY3RUb1NvcnQgPSBwcm9qZWN0TGlzdFtzdWJtaXRCdXR0b25JRF1cbiAgICAgICAgaWYgKHByb2plY3RUb1NvcnQubGVuZ3RoICE9IDApIHtcbiAgICAgICAgICAgIHNvcnRQcm9qZWN0VGFza3MocHJvamVjdFRvU29ydCwgdHlwZW9mU29ydCk7XG4gICAgICAgICAgICBkaXNwbGF5U29ydGVkUHJvamVjdChzdWJtaXRCdXR0b25JRCwgcHJvamVjdFRvU29ydClcbiAgICAgICAgICAgIHNhdmVUb0xvY2FsU3RvcmFnZSgpIFxuICAgICAgICB9XG4gICAgfSlcbiAgICAgIH1cblxuICAgIGZ1bmN0aW9uIGRpc3BsYXlTb3J0ZWRQcm9qZWN0KHN1Ym1pdEJ1dHRvbklELCBwcm9qZWN0KXtcbiAgICAgICAgbGV0IHByb2plY3RUb0NsZWFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc3VibWl0QnV0dG9uSUQpO1xuICAgICAgICByZW1vdmVBbGxDaGlsZE5vZGVzKHByb2plY3RUb0NsZWFyLCBwcm9qZWN0KTtcbiAgICAgICAgZm9yIChsZXQgaSA9MDsgaTwgcHJvamVjdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IG5ld1Rhc2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIG5ld1Rhc2suY2xhc3NMaXN0LmFkZChcInRhc2tDb250YWluZXJcIik7XG4gICAgICAgICAgICBwcm9qZWN0VG9DbGVhci5hcHBlbmRDaGlsZChuZXdUYXNrKTsgICAgICAgICAgICBcbiAgICAgICAgICAgIG5ld1Rhc2suc2V0QXR0cmlidXRlKCdkYXRhLXRhc2tjb250YWluZXInLCBgJHtzdWJtaXRCdXR0b25JRH0ke1tpXX1gKVxuICAgICAgICAgICAgbmV3VGFzay5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3BlY2lmaWN0YXNrY29udGFpbmVyJywgW2ldKVxuICAgICAgICAgICAgbGV0IG5ld0NoZWNrYm94ID0gY3JlYXRlQ2hlY2tib3gocHJvamVjdExpc3Rbc3VibWl0QnV0dG9uSURdW2ldLCBuZXdUYXNrKTtcbiAgICAgICAgICAgIG5ld0NoZWNrYm94LnNldEF0dHJpYnV0ZSgnZGF0YS1jaGVja2JveCcsIGAke3N1Ym1pdEJ1dHRvbklEfSR7W2ldfWApXG4gICAgICAgICAgICBuZXdDaGVja2JveC5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3BlY2lmaWNjaGVja2JveCcsIFtpXSlcbiAgICAgICAgICAgIGxldCBuZXdEaXYgPSBuZXdJdGVtRGl2KG5ld1Rhc2ssIHByb2plY3RMaXN0W3N1Ym1pdEJ1dHRvbklEXVtpXSlcbiAgICAgICAgICAgIG5ld0Rpdi5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGFzaycsIGAke3N1Ym1pdEJ1dHRvbklEfSR7W2ldfWApO1xuICAgICAgICAgICAgbmV3RGl2LnNldEF0dHJpYnV0ZSgnZGF0YS1zcGVjaWZpY3Rhc2snLCBbaV0pXG5cbiAgICAgICAgICAgIGxldCBpdGVtQnV0dG9ucyA9IG5ld0l0ZW1CdXR0b25zKG5ld1Rhc2spO1xuICAgICAgICAgICAgbGV0IGVkaXRCdXR0b24gPSBuZXdFZGl0QnV0dG9uKGl0ZW1CdXR0b25zKTtcbiAgICAgICAgICAgIGVkaXRCdXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLWVkaXQnLCBgJHtzdWJtaXRCdXR0b25JRH0ke1tpXX1gKVxuICAgICAgICAgICAgZWRpdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3BlY2lmaWNlZGl0JywgW2ldKVxuICAgICAgICAgICAgbGV0IGRlbGV0ZUJ1dHRvbiA9IG5ld0RlbGV0ZVRhc2tCdXR0b24oaXRlbUJ1dHRvbnMpO1xuICAgICAgICAgICAgZGVsZXRlQnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS1kZWxldGVJdGVtJywgYCR7c3VibWl0QnV0dG9uSUR9JHtbaV19YClcbiAgICAgICAgICAgIGRlbGV0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3BlY2lmaWNkZWxldGVJdGVtJywgW2ldKVxuICAgICAgICAgICAgcHVzaENoZWNrYm94VG9MaXN0KG5ld0NoZWNrYm94KTtcbiAgICAgICAgICAgIHB1c2hFZGl0VG9MaXN0KGVkaXRCdXR0b24pO1xuICAgICAgICAgICAgcHVzaERlbGV0ZVRhc2tUb0xpc3QoZGVsZXRlQnV0dG9uKTtcblxuICAgICAgICAgICAgY3JlYXRlRWRpdEJ1dHRvbkxpc3QoKTtcbiAgICAgICAgICAgIGRlbGV0ZVRhc2tCdXR0b25GdW5jdGlvbmFsaXR5KGRlbGV0ZUJ1dHRvbik7XG4gICAgICAgICAgICBhZGRDaGVja2JveFN0YXR1cyhuZXdDaGVja2JveCk7XG4gICAgICAgICAgICBhZGRUYXNrU3RhdHVzKG5ld0NoZWNrYm94KTtcbiAgICAgICAgICAgIGNoYW5nZVN0YXR1c0Jhck9uQ2hlY2tib3hDbGljayhuZXdDaGVja2JveClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlbW92ZUFsbENoaWxkTm9kZXMocGFyZW50LCBwcm9qZWN0VG9Tb3J0KSB7XG4gICAgICAgIGZvciAobGV0IGk9MDsgaTxwcm9qZWN0VG9Tb3J0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQocGFyZW50Lmxhc3RDaGlsZCk7XG4gICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZVN0YXR1c0JhcihzZWN0aW9uKSB7XG4gICAgICAgIGxldCBzdGF0dXNCYXJDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICBzdGF0dXNCYXJDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnc3RhdHVzQmFyQ29udGFpbmVyJylcbiAgICAgICAgbGV0IHN0YXR1c0JhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBsZXQgcGVyY2VudGFnZVRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICBzdGF0dXNCYXIuY2xhc3NMaXN0LmFkZCgnc3RhdHVzQmFyJylcbiAgICAgICAgc3RhdHVzQmFyLnNldEF0dHJpYnV0ZSgnZGF0YS1zdGF0dXNiYXInLCBwcm9qZWN0TGlzdC5sZW5ndGggLTEpXG4gICAgICAgIHBlcmNlbnRhZ2VUZXh0LmNsYXNzTGlzdC5hZGQoJ3BlcmNlbnRhZ2VUZXh0JylcbiAgICAgICAgcGVyY2VudGFnZVRleHQuc2V0QXR0cmlidXRlKCdkYXRhLXBlcmNlbnRhZ2V0ZXh0JywgcHJvamVjdExpc3QubGVuZ3RoLTEpXG4gICAgICAgIHNlY3Rpb24uYXBwZW5kQ2hpbGQoc3RhdHVzQmFyQ29udGFpbmVyKVxuICAgICAgICBzdGF0dXNCYXJDb250YWluZXIuYXBwZW5kQ2hpbGQoc3RhdHVzQmFyKSAgXG4gICAgICAgIHN0YXR1c0JhckNvbnRhaW5lci5hcHBlbmRDaGlsZChwZXJjZW50YWdlVGV4dClcbiAgICAgICAgcmV0dXJuIHN0YXR1c2JhciBcbiAgICB9XG4gIFxuXG4vLyBwcm9qZWN0IGV2ZW50IGxpc3RlbmVyc1xuXG4gICAgYWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHByb2plY3RGb3JtQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpXG4gICAgfSlcbiAgICBcblxuICAgIHByb2plY3RTdWJtaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCFwcm9qZWN0Rm9ybUNvbnRhaW5lci5jbGFzc0xpc3QuY29udGFpbnMoJ2VkaXQnKSkge1xuICAgICAgICBhZGRUb1Byb2plY3RMaXN0KCk7XG4gICAgICAgIGxldCBuZXdQcm9qZWN0ID0gYWRkUHJvamVjdCgpO1xuICAgICAgICBsZXQgcHJvamVjdENvbnRhaW5lciA9IGNyZWF0ZVByb2plY3RDb250YWluZXIoKTtcbiAgICAgICAgbGV0IHByb2plY3QgPSBjcmVhdGVOZXdQcm9qZWN0KHByb2plY3RDb250YWluZXIsIG5ld1Byb2plY3QpO1xuICAgICAgICBhZGRQcm9qZWN0TGlzdEluZm8obmV3UHJvamVjdClcbiAgICAgICAgbGV0IHByb2plY3RJRCA9IHNldE5ld1Byb2plY3RJZChwcm9qZWN0KTtcbiAgICAgICAgbGV0IG5ld1N0YXR1c0JhciA9IGNyZWF0ZVN0YXR1c0Jhcihwcm9qZWN0KVxuICAgICAgICBsZXQgc29ydEJ1dHRvbnMgPSBhZGRTb3J0QnV0dG9ucyhwcm9qZWN0KTtcbiAgICAgICAgc3VibWl0QnV0dG9uU29ydChzb3J0QnV0dG9ucylcbiAgICAgICAgbGV0IGJ1dHRvblNlY3Rpb24gPSBhZGRCdXR0b25TZWN0aW9uKHByb2plY3RDb250YWluZXIpO1xuICAgICAgICBsZXQgZWRpdFByb2plY3RCdXR0b24gPSBhZGRQcm9qZWN0RWRpdEJ1dHRvbihidXR0b25TZWN0aW9uKTtcbiAgICAgICAgcHJvakVkaXRCdXR0b25MaXN0KGVkaXRQcm9qZWN0QnV0dG9uKVxuICAgICAgICBsZXQgYWRkSXRlbVRvUHJvamVjdEJ1dHRvbiA9IGFkZFByb2plY3RBZGRCdXR0b24oYnV0dG9uU2VjdGlvbik7XG4gICAgICAgIHByb2plY3RUb0RvQnV0dG9uTGlzdChhZGRJdGVtVG9Qcm9qZWN0QnV0dG9uKTtcbiAgICAgICAgbGV0IGRlbGV0ZVByb2plY3RCdXR0b24gPSBhZGRQcm9qZWN0RGVsZXRlQnV0dG9uKGJ1dHRvblNlY3Rpb24pO1xuICAgICAgICBwcm9qZWN0RGVsZXRlQnV0dG9uTGlzdChkZWxldGVQcm9qZWN0QnV0dG9uKTtcbiAgICAgICAgYWRkSXRlbVRvUHJvamVjdCgpO1xuICAgICAgICBkZWxldGVCdXR0b25GdW5jdGlvbmFsaXR5KGRlbGV0ZVByb2plY3RCdXR0b24pO1xuICAgICAgICBwcm9qZWN0RWRpdEJ1dHRvbkZ1bmN0aW9uYWxpdHkoZWRpdFByb2plY3RCdXR0b24pO1xuXG4gICAgICAgIHByb2plY3RGb3JtQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBjbGVhcklucHV0cygpO1xuXG4gICAgICAgIHNhdmVUb0xvY2FsU3RvcmFnZSgpXG4gICAgfVxuICAgIH0pXG5cbiAgICBwcm9qZWN0U3VibWl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChwcm9qZWN0Rm9ybUNvbnRhaW5lci5jbGFzc0xpc3QuY29udGFpbnMoJ2VkaXQnKSkge1xuICAgICAgICAgICAgbGV0IHByb2plY3RUb1JldmlzZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXByb2plY3RpbmZvPVwiJHtwcm9qZWN0RWRpdElEfVwiXWApOyBcbiAgICAgICAgICAgIGxldCByZXZpc2VkUHJvamVjdCA9IGFkZFByb2plY3QoKTtcbiAgICAgICAgICAgIHByb2plY3RMaXN0SW5mby5zcGxpY2UocHJvamVjdEVkaXRJRCwgMSwgcmV2aXNlZFByb2plY3QpXG4gICAgICAgICAgICBwcm9qZWN0VG9SZXZpc2UudGV4dENvbnRlbnQgPSByZXZpc2VkUHJvamVjdC5pbmZvXG4gICAgICAgICAgICBjbGVhcklucHV0cygpXG4gICAgICAgICAgICBwcm9qZWN0Rm9ybUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIHByb2plY3RGb3JtQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2VkaXQnKVxuICAgICAgICAgICAgc2F2ZVRvTG9jYWxTdG9yYWdlKCkgXG4gICAgICAgIH1cbiAgICB9KVxuXG4gICAgcHJvamVjdENsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHByb2plY3RGb3JtQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpXG4gICAgfSlcblxuLy8gdGFzayBzZWN0aW9uXG5cbiAgICBjb25zdCBpdGVtRm9ybUNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaXRlbUZvcm1Db250YWluZXJcIik7XG4gICAgbGV0IGl0ZW1Gb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2l0ZW1Gb3JtJyk7XG4gICAgbGV0IGRlbGV0ZVRhc2tCdXR0b25JZCA9IFwiXCI7XG4gICAgbGV0IGVkaXRUYXNrQnV0dG9uTGlzdCA9IFtdXG4gICAgbGV0IGRlbGV0ZVRhc2tCdXR0b25MaXN0ID0gW11cbiAgICBjb25zdCBpdGVtU3VibWl0QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2l0ZW1TdWJtaXRCdXR0b24nKTtcbiAgICBsZXQgZWRpdEJ1dHRvbklkID0gXCJcIjtcbiAgICBsZXQgc2VsZWN0ZWRUYXNrVG9FZGl0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWRpdEJ1dHRvbklkKTtcbiAgICBsZXQgdGFza1RvRGVsZXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGVsZXRlVGFza0J1dHRvbklkKTtcbiAgICBsZXQgcmVzZXRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzZXQnKVxuICAgIGNvbnN0IHRhc2tDbG9zZUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YXNrQ2xvc2UnKTtcbiAgICBsZXQgY2hlY2tCb3hUb0NoYW5nZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWNoZWNrYm94PVwiJHtlZGl0QnV0dG9uSWR9XCJdYClcbiAgICBsZXQgY2hlY2tib3hMaXN0ID0gW11cbiAgICBsZXQgdGFza0xpc3QgPSBbXVxuXG5cbiAgICAvLyB0YXNrIGZ1bmN0aW9ucyBcbiAgICBcbiAgICBmdW5jdGlvbiBhZGRUYXNrKCkge1xuICAgICAgICAgICAgbGV0IGl0ZW0gPSBhZGRJdGVtKCk7XG4gICAgICAgICAgICBpZiAoaXRlbSAhPSB1bmRlZmluZWQgJiYgaXRlbS5kdWVEYXRlICE9IFwiXCIpIHtcbiAgICAgICAgICAgICAgICBhZGRJdGVtVG9Qcm9qZWN0TGlzdChpdGVtKVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHByb2plY3RMaXN0KVxuICAgICAgICAgICAgICAgIGxldCBuZXdUYXNrID0gbmV3VGFza0NvbnRhaW5lcigpO1xuICAgICAgICAgICAgICAgIG5ld1Rhc2suc2V0QXR0cmlidXRlKCdkYXRhLXRhc2tjb250YWluZXInLCBgJHtbYWRkVGFza0lkXX0ke3Byb2plY3RMaXN0W2FkZFRhc2tJZF0ubGVuZ3RoIC0xfWApXG4gICAgICAgICAgICAgICAgbmV3VGFzay5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3BlY2lmaWN0YXNrY29udGFpbmVyJywgYCR7cHJvamVjdExpc3RbYWRkVGFza0lkXS5sZW5ndGggLTF9YClcbiAgICAgICAgICAgICAgICBsZXQgbmV3Q2hlY2tib3ggPSBjcmVhdGVDaGVja2JveChpdGVtLCBuZXdUYXNrKTtcbiAgICAgICAgICAgICAgICBuZXdDaGVja2JveC5zZXRBdHRyaWJ1dGUoJ2RhdGEtY2hlY2tib3gnLCBgJHtbYWRkVGFza0lkXX0ke3Byb2plY3RMaXN0W2FkZFRhc2tJZF0ubGVuZ3RoIC0xfWApXG4gICAgICAgICAgICAgICAgbmV3Q2hlY2tib3guc2V0QXR0cmlidXRlKCdkYXRhLXNwZWNpZmljY2hlY2tib3gnLCBgJHtwcm9qZWN0TGlzdFthZGRUYXNrSWRdLmxlbmd0aCAtMX1gKVxuICAgICAgICAgICAgICAgIGxldCBuZXdEaXYgPSBuZXdJdGVtRGl2KG5ld1Rhc2ssIGl0ZW0pO1xuICAgICAgICAgICAgICAgIG5ld0Rpdi5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGFzaycsIGAke1thZGRUYXNrSWRdfSR7cHJvamVjdExpc3RbYWRkVGFza0lkXS5sZW5ndGggLTF9YCk7XG4gICAgICAgICAgICAgICAgbmV3RGl2LnNldEF0dHJpYnV0ZSgnZGF0YS1zcGVjaWZpY3Rhc2snLCBgJHtwcm9qZWN0TGlzdFthZGRUYXNrSWRdLmxlbmd0aCAtMX1gKTtcblxuICAgICAgICAgICAgICAgIGZpbGxPdXRTdGF0dXNCYXIoKTtcblxuICAgICAgICAgICAgICAgIGxldCBpdGVtQnV0dG9ucyA9IG5ld0l0ZW1CdXR0b25zKG5ld1Rhc2spO1xuICAgICAgICAgICAgICAgIGxldCBlZGl0QnV0dG9uID0gbmV3RWRpdEJ1dHRvbihpdGVtQnV0dG9ucyk7XG4gICAgICAgICAgICAgICAgZWRpdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtZWRpdCcsIGAke1thZGRUYXNrSWRdfSR7cHJvamVjdExpc3RbYWRkVGFza0lkXS5sZW5ndGggLTF9YClcbiAgICAgICAgICAgICAgICBlZGl0QnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS1zcGVjaWZpY2VkaXQnLCBgJHtwcm9qZWN0TGlzdFthZGRUYXNrSWRdLmxlbmd0aCAtMX1gKVxuICAgICAgICAgICAgICAgIGxldCBkZWxldGVCdXR0b24gPSBuZXdEZWxldGVUYXNrQnV0dG9uKGl0ZW1CdXR0b25zKTtcbiAgICAgICAgICAgICAgICBkZWxldGVCdXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLWRlbGV0ZUl0ZW0nLCBgJHtbYWRkVGFza0lkXX0ke3Byb2plY3RMaXN0W2FkZFRhc2tJZF0ubGVuZ3RoIC0xfWApXG4gICAgICAgICAgICAgICAgZGVsZXRlQnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS1zcGVjaWZpY2RlbGV0ZUl0ZW0nLCBgJHtwcm9qZWN0TGlzdFthZGRUYXNrSWRdLmxlbmd0aCAtMX1gKVxuICAgICAgICAgICAgICAgIHB1c2hDaGVja2JveFRvTGlzdChuZXdDaGVja2JveCk7XG4gICAgICAgICAgICAgICAgcHVzaEVkaXRUb0xpc3QoZWRpdEJ1dHRvbik7XG4gICAgICAgICAgICAgICAgcHVzaERlbGV0ZVRhc2tUb0xpc3QoZGVsZXRlQnV0dG9uKTtcblxuICAgICAgICAgICAgICAgIGNyZWF0ZUVkaXRCdXR0b25MaXN0KCk7XG4gICAgICAgICAgICAgICAgZGVsZXRlVGFza0J1dHRvbkZ1bmN0aW9uYWxpdHkoZGVsZXRlQnV0dG9uKTtcbiAgICAgICAgICAgICAgICBhZGRDaGVja2JveFN0YXR1cyhuZXdDaGVja2JveCk7XG4gICAgICAgICAgICAgICAgY2hhbmdlU3RhdHVzQmFyT25DaGVja2JveENsaWNrKG5ld0NoZWNrYm94KTtcbiAgICAgICAgICAgICAgICBhZGRUYXNrU3RhdHVzKG5ld0NoZWNrYm94KTtcblxuICAgICAgICAgICAgICAgIGNsZWFySW5wdXRzKCk7XG4gICAgICAgICAgICAgICAgaXRlbUZvcm1Db250YWluZXIuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG5cbiAgICAgICAgICAgICAgICBzYXZlVG9Mb2NhbFN0b3JhZ2UoKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhbGVydCAoXCJQbGVhc2UgRmlsbCBPdXQgUmVxdWlyZWQgRmllbGRzXCIpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuXG4gICAgZnVuY3Rpb24gbmV3VGFza0NvbnRhaW5lcigpIHtcbiAgICAgICAgbGV0IHRhc2tDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGFza0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwidGFza0NvbnRhaW5lclwiKTtcbiAgICAgICAgc2VsZWN0ZWRQcm9qZWN0LmFwcGVuZENoaWxkKHRhc2tDb250YWluZXIpO1xuICAgICAgICByZXR1cm4gdGFza0NvbnRhaW5lclxuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gbmV3SXRlbURpdih0YXNrQ29udGFpbmVyLCBpdGVtKSB7XG4gICAgICAgIGxldCBuZXdUYXNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIG5ld1Rhc2suY2xhc3NMaXN0LmFkZCgnbmV3VGFzaycpO1xuICAgICAgICBpZiAoaXRlbS5zdGF0dXMgIT0gJ0NvbXBsZXRlJykge1xuICAgICAgICAgICAgbmV3VGFzay5jbGFzc0xpc3QuYWRkKCd0YXNrTm90Q29tcGxldGUnKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV3VGFzay5jbGFzc0xpc3QuYWRkKCd0YXNrQ29tcGxldGUnKVxuICAgICAgICB9XG4gICAgICAgIG5ld1Rhc2sudGV4dENvbnRlbnQgPSBpdGVtLmluZm87XG4gICAgICAgIHRhc2tDb250YWluZXIuYXBwZW5kQ2hpbGQobmV3VGFzayk7XG4gICAgICAgIHJldHVybiBuZXdUYXNrXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkSXRlbVRvUHJvamVjdExpc3QoaXRlbSl7XG4gICAgICAgIHByb2plY3RMaXN0W2FkZFRhc2tJZF0ucHVzaChpdGVtKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVDaGVja2JveChpdGVtLCB0YXNrQ29udGFpbmVyKSB7XG4gICAgICAgIGxldCBjaGVja2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBjaGVja2JveC5jbGFzc0xpc3QuYWRkKCdjaGVja2JveCcpO1xuICAgICAgICBpZiAoaXRlbS5zdGF0dXMgIT0gJ0NvbXBsZXRlJykge1xuICAgICAgICAgICAgaWYgKGl0ZW0uX3N0YXR1cyAhPSAnQ29tcGxldGUnKSB7XG4gICAgICAgICAgICBjaGVja2JveC5jbGFzc0xpc3QuYWRkKCdub3RDb21wbGV0ZScpO1xuICAgICAgICAgICAgdGFza0NvbnRhaW5lci5hcHBlbmRDaGlsZChjaGVja2JveCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uX3N0YXR1cyA9PSAnQ29tcGxldGUnKSB7XG4gICAgICAgICAgICAgICAgY2hlY2tib3guY2xhc3NMaXN0LmFkZCgnQ29tcGxldGUnKTtcbiAgICAgICAgICAgICAgICB0YXNrQ29udGFpbmVyLmFwcGVuZENoaWxkKGNoZWNrYm94KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChpdGVtLl9zdGF0dXMgPT0gJ0NvbXBsZXRlJykge1xuICAgICAgICAgICAgY2hlY2tib3guY2xhc3NMaXN0LmFkZCgnQ29tcGxldGUnKTtcbiAgICAgICAgICAgIHRhc2tDb250YWluZXIuYXBwZW5kQ2hpbGQoY2hlY2tib3gpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGVja2JveFxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG5ld0l0ZW1CdXR0b25zKHRhc2tDb250YWluZXIpIHtcbiAgICAgICAgbGV0IGl0ZW1CdXR0b25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGl0ZW1CdXR0b25zLmNsYXNzTGlzdC5hZGQoJ2l0ZW1CdXR0b25zJyk7XG4gICAgICAgIHRhc2tDb250YWluZXIuYXBwZW5kQ2hpbGQoaXRlbUJ1dHRvbnMpO1xuICAgICAgICByZXR1cm4gaXRlbUJ1dHRvbnMgXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbmV3RWRpdEJ1dHRvbihpdGVtQnV0dG9ucykge1xuICAgICAgICBsZXQgZWRpdFRhc2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgZWRpdFRhc2suaW5uZXJUZXh0ID0gXCJFZGl0IFRhc2tcIjtcbiAgICAgICAgZWRpdFRhc2suY2xhc3NMaXN0LmFkZCgnZWRpdFRhc2tCdXR0b24nKTtcbiAgICAgICAgaXRlbUJ1dHRvbnMuYXBwZW5kQ2hpbGQoZWRpdFRhc2spO1xuICAgICAgICByZXR1cm4gZWRpdFRhc2tcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBuZXdEZWxldGVUYXNrQnV0dG9uKGl0ZW1CdXR0b25zKSB7XG4gICAgICAgIGxldCBkZWxldGVUYXNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGRlbGV0ZVRhc2suaW5uZXJUZXh0ID0gXCJEZWxldGUgVGFza1wiO1xuICAgICAgICBkZWxldGVUYXNrLmNsYXNzTGlzdC5hZGQoJ2RlbGV0ZVRhc2tCdXR0b24nKTtcbiAgICAgICAgaXRlbUJ1dHRvbnMuYXBwZW5kQ2hpbGQoZGVsZXRlVGFzayk7XG4gICAgICAgIHJldHVybiBkZWxldGVUYXNrXG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBwdXNoQ2hlY2tib3hUb0xpc3QoY2hlY2tib3gpIHtcbiAgICAgICAgY2hlY2tib3hMaXN0LnB1c2goY2hlY2tib3gpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHVzaEVkaXRUb0xpc3QobmV3RWRpdEJ1dHRvbikge1xuICAgICAgICBlZGl0VGFza0J1dHRvbkxpc3QucHVzaChuZXdFZGl0QnV0dG9uKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwdXNoRGVsZXRlVGFza1RvTGlzdChuZXdEZWxldGVCdXR0b24pIHtcbiAgICAgICAgZGVsZXRlVGFza0J1dHRvbkxpc3QucHVzaChuZXdEZWxldGVCdXR0b24pXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlRWRpdEJ1dHRvbkxpc3QoKXtcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpIDwgZWRpdFRhc2tCdXR0b25MaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBlZGl0VGFza0J1dHRvbkxpc3RbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIGl0ZW1Gb3JtQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgICAgIGl0ZW1Gb3JtLmNsYXNzTGlzdC5yZW1vdmUoJ2FkZEl0ZW0nKTtcbiAgICAgICAgICAgICAgICBpdGVtRm9ybS5jbGFzc0xpc3QuYWRkKCdlZGl0SXRlbScpO1xuICAgICAgICAgICAgICAgIGVkaXRCdXR0b25JZCA9IGVkaXRUYXNrQnV0dG9uTGlzdFtpXS5kYXRhc2V0LmVkaXQ7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRUYXNrVG9FZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtdGFzaz1cIiR7ZWRpdEJ1dHRvbklkfVwiXWApO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiBkZWxldGVUYXNrQnV0dG9uRnVuY3Rpb25hbGl0eShidXR0b24pIHtcbiAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBkZWxldGVUYXNrQnV0dG9uSWQgPSAgYnV0dG9uLmRhdGFzZXQuZGVsZXRlaXRlbTtcbiAgICAgICAgICAgIGxldCBzcGVjaWZpY0lEID0gYnV0dG9uLmRhdGFzZXQuc3BlY2lmaWNkZWxldGVpdGVtO1xuICAgICAgICAgICAgdGFza1RvRGVsZXRlID0gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXRhc2tDb250YWluZXI9XCIke2RlbGV0ZVRhc2tCdXR0b25JZH1cIl1gKTtcbiAgICAgICAgICAgIGxldCBwcm9qZWN0UGFyZW50ID0gdGFza1RvRGVsZXRlLnBhcmVudE5vZGU7XG4gICAgICAgICAgICBwcm9qZWN0UGFyZW50LnJlbW92ZUNoaWxkKHRhc2tUb0RlbGV0ZSk7XG4gICAgICAgICAgICBkZWxldGVUYXNrQnV0dG9uTGlzdC5zcGxpY2Uoc3BlY2lmaWNJRCwgMSk7XG4gICAgICAgICAgICBlZGl0VGFza0J1dHRvbkxpc3Quc3BsaWNlKHNwZWNpZmljSUQsIDEpO1xuICAgICAgICAgICAgY2hlY2tib3hMaXN0LnNwbGljZShzcGVjaWZpY0lELCAxKTtcbiAgICAgICAgICAgIGxldCBwcm9qZWN0UGFyZW50SWQgPSBwcm9qZWN0UGFyZW50LmlkXG4gICAgICAgICAgICBwcm9qZWN0TGlzdFtwcm9qZWN0UGFyZW50SWRdLnNwbGljZShzcGVjaWZpY0lELCAxKTtcbiAgICAgICAgICAgIGZpbGxEZWxldGVkU3RhdHVzQmFyKHByb2plY3RQYXJlbnRJZCk7XG4gICAgICAgICAgICBzYXZlVG9Mb2NhbFN0b3JhZ2UoKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgZnVuY3Rpb24gZWRpdEl0ZW0oKXtcbiAgICAgICAgaXRlbUZvcm0uY2xhc3NMaXN0LnJlbW92ZSgnYWRkSXRlbScpO1xuICAgICAgICBsZXQgcmV2aXNlZEl0ZW0gPSBhZGRJdGVtKCk7XG4gICAgICAgIGlmIChyZXZpc2VkSXRlbSAhPSB1bmRlZmluZWQgJiYgcmV2aXNlZEl0ZW0uZHVlRGF0ZSAhPSBcIlwiKSB7XG4gICAgICAgICAgICBzZWxlY3RlZFRhc2tUb0VkaXQuaW5uZXJUZXh0ID0gXCJcIjtcbiAgICAgICAgICAgIHNlbGVjdGVkVGFza1RvRWRpdC5pbm5lclRleHQgPSByZXZpc2VkSXRlbS5pbmZvO1xuICAgICAgICAgICAgZWRpdFByb2plY3RMaXN0KHJldmlzZWRJdGVtKTtcbiAgICAgICAgICAgIGVkaXRUYXNrU3RhdHVzKHJldmlzZWRJdGVtKTtcbiAgICAgICAgICAgIGVkaXRDaGVja2JveFN0YXR1cyhyZXZpc2VkSXRlbSk7XG4gICAgICAgICAgICBmaWxsRWRpdGVkU3RhdHVzQmFyKCk7XG4gICAgICAgICAgICBjbGVhcklucHV0cygpO1xuICAgICAgICAgICAgaXRlbUZvcm1Db250YWluZXIuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgICBzYXZlVG9Mb2NhbFN0b3JhZ2UoKVxuICAgICAgICB9IGVsc2UgIHtcbiAgICAgICAgICAgIGFsZXJ0IChcIlBsZWFzZSBGaWxsIE91dCBSZXF1aXJlZCBGaWVsZHNcIilcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gZWRpdFByb2plY3RMaXN0KHJldmlzZWRJdGVtKSB7XG4gICAgICAgIGxldCB0YXNrSUR0YXNrQ29udGFpbmVyID0gc2VsZWN0ZWRUYXNrVG9FZGl0LnBhcmVudE5vZGVcbiAgICAgICAgbGV0IHRhc2tJRCA9IHNlbGVjdGVkVGFza1RvRWRpdC5kYXRhc2V0LnNwZWNpZmljdGFza1xuICAgICAgICBsZXQgcGFyZW50UHJvamVjdCA9IHRhc2tJRHRhc2tDb250YWluZXIucGFyZW50Tm9kZS5pZFxuICAgICAgICBwcm9qZWN0TGlzdFtwYXJlbnRQcm9qZWN0XS5zcGxpY2UodGFza0lELCAxLCByZXZpc2VkSXRlbSlcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBlZGl0Q2hlY2tib3hTdGF0dXMoaXRlbSl7XG4gICAgICAgIGlmIChpdGVtLnN0YXR1cyAhPSAnQ29tcGxldGUnKSB7XG4gICAgICAgICAgICBjaGVja0JveFRvQ2hhbmdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtY2hlY2tib3g9XCIke2VkaXRCdXR0b25JZH1cIl1gKTtcbiAgICAgICAgICAgICBjaGVja0JveFRvQ2hhbmdlLmNsYXNzTGlzdC5hZGQoJ25vdENvbXBsZXRlJyk7XG4gICAgICAgICAgICBjaGVja0JveFRvQ2hhbmdlLmNsYXNzTGlzdC5yZW1vdmUoJ0NvbXBsZXRlJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXRlbS5zdGF0dXMgPT0gJ0NvbXBsZXRlJykge1xuICAgICAgICAgICAgY2hlY2tCb3hUb0NoYW5nZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWNoZWNrYm94PVwiJHtlZGl0QnV0dG9uSWR9XCJdYClcbiAgICAgICAgICAgIGNoZWNrQm94VG9DaGFuZ2UuY2xhc3NMaXN0LmFkZCgnQ29tcGxldGUnKTtcbiAgICAgICAgICAgIGNoZWNrQm94VG9DaGFuZ2UuY2xhc3NMaXN0LnJlbW92ZSgnbm90Q29tcGxldGUnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGVkaXRUYXNrU3RhdHVzKGl0ZW0pIHtcbiAgICAgICAgbGV0IGNoYW5nZWRUYXNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtdGFzaz1cIiR7ZWRpdEJ1dHRvbklkfVwiXWApO1xuICAgICAgICBsZXQgY2hhbmdlZFRhc2tJRCA9IGNoYW5nZWRUYXNrLmRhdGFzZXQuc3BlY2lmaWN0YXNrXG4gICAgICAgIGxldCB0YXNrQ29udGFpbmVyID0gY2hhbmdlZFRhc2sucGFyZW50Tm9kZTtcbiAgICAgICAgbGV0IHRhc2tQcm9qZWN0ID0gdGFza0NvbnRhaW5lci5wYXJlbnROb2RlLmlkO1xuICAgICAgICBpZiAoaXRlbS5zdGF0dXMgIT0gJ0NvbXBsZXRlJykge1xuICAgICAgICAgICAgY2hhbmdlZFRhc2suY2xhc3NMaXN0LmFkZCgndGFza05vdENvbXBsZXRlJyk7XG4gICAgICAgICAgICBjaGFuZ2VkVGFzay5jbGFzc0xpc3QucmVtb3ZlKCd0YXNrQ29tcGxldGUnKTtcbiAgICAgICAgICAgIHByb2plY3RMaXN0W3Rhc2tQcm9qZWN0XVtjaGFuZ2VkVGFza0lEXS5zdGF0dXMgPSAnTm90IENvbXBsZXRlJ1xuICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uc3RhdHVzID09ICdDb21wbGV0ZScpIHtcbiAgICAgICAgICAgIGNoYW5nZWRUYXNrLmNsYXNzTGlzdC5yZW1vdmUoJ3Rhc2tOb3RDb21wbGV0ZScpO1xuICAgICAgICAgICAgY2hhbmdlZFRhc2suY2xhc3NMaXN0LmFkZCgndGFza0NvbXBsZXRlJyk7XG4gICAgICAgICAgICBwcm9qZWN0TGlzdFt0YXNrUHJvamVjdF1bY2hhbmdlZFRhc2tJRF0uc3RhdHVzID0gJ0NvbXBsZXRlJ1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2hhbmdlU3RhdHVzQmFyT25DaGVja2JveENsaWNrKGNoZWNrYm94KSB7XG4gICAgICAgIGNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGxldCBmaWx0ZXJlZFByb2plY3QgPSBmaWx0ZXJQcm9qZWN0KCk7XG4gICAgICAgIGxldCB0YXNrQ29udGFpbmVyID0gY2hlY2tib3gucGFyZW50Tm9kZTtcbiAgICAgICAgbGV0IHNlbGVjdGVkUHJvamVjdCA9IHRhc2tDb250YWluZXIucGFyZW50Tm9kZS5pZFxuICAgICAgICBsZXQgc2VsZWN0ZWRTdGF0dXNCYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1zdGF0dXNiYXI9XCIke3NlbGVjdGVkUHJvamVjdH1cIl1gKTtcbiAgICAgICAgbGV0IHN0YXR1c0Jsb2NrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGlmIChzZWxlY3RlZFN0YXR1c0Jhci5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICBzZWxlY3RlZFN0YXR1c0Jhci5yZW1vdmVDaGlsZChzZWxlY3RlZFN0YXR1c0Jhci5maXJzdENoaWxkKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICB9XG4gICAgICAgIHN0YXR1c0Jsb2NrLnN0eWxlLndpZHRoID0gYCR7ZmlsdGVyZWRQcm9qZWN0LnBlcmNlbnRhZ2VBcnJheVtzZWxlY3RlZFByb2plY3RdfSVgXG4gICAgICAgIHN0YXR1c0Jsb2NrLnN0eWxlLmhlaWdodCA9IFwiMTAwJVwiICAgICAgICAgICAgXG4gICAgICAgIHNlbGVjdGVkU3RhdHVzQmFyLmFwcGVuZENoaWxkKHN0YXR1c0Jsb2NrKVxuICAgICAgICBkaXNwbGF5UGVyY2VudGFnZShzZWxlY3RlZFN0YXR1c0JhciwgZmlsdGVyZWRQcm9qZWN0LnBlcmNlbnRhZ2VBcnJheVtzZWxlY3RlZFByb2plY3RdKTtcbiAgICB9KVxufVxuXG4gICAgZnVuY3Rpb24gYWRkQ2hlY2tib3hTdGF0dXMoY2hlY2tib3gpIHtcbiAgICAgIGNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBsZXQgY2hlY2tib3hJRCA9IGNoZWNrYm94LmRhdGFzZXQuc3BlY2lmaWNjaGVja2JveDtcbiAgICAgICAgICAgIGxldCBjaGVja2JveENvbnRhaW5lciA9IGNoZWNrYm94LnBhcmVudE5vZGU7XG4gICAgICAgICAgICBsZXQgY2hlY2tib3hQcm9qZWN0ID0gY2hlY2tib3hDb250YWluZXIucGFyZW50Tm9kZS5pZFxuICAgICAgICAgICAgaWYgKGNoZWNrYm94LmNsYXNzTGlzdC5jb250YWlucygnbm90Q29tcGxldGUnKSkge1xuICAgICAgICAgICAgICAgIGNoZWNrYm94LmNsYXNzTGlzdC5yZW1vdmUoJ25vdENvbXBsZXRlJyk7XG4gICAgICAgICAgICAgICAgY2hlY2tib3guY2xhc3NMaXN0LmFkZCgnQ29tcGxldGUnKTtcbiAgICAgICAgICAgICAgICBwcm9qZWN0TGlzdFtjaGVja2JveFByb2plY3RdW2NoZWNrYm94SURdLnN0YXR1cyA9ICdDb21wbGV0ZSdcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hlY2tib3guY2xhc3NMaXN0LmNvbnRhaW5zKCdDb21wbGV0ZScpKSB7XG4gICAgICAgICAgICAgICAgY2hlY2tib3guY2xhc3NMaXN0LmFkZCgnbm90Q29tcGxldGUnKTtcbiAgICAgICAgICAgICAgICBjaGVja2JveC5jbGFzc0xpc3QucmVtb3ZlKCdDb21wbGV0ZScpO1xuICAgICAgICAgICAgICAgIHByb2plY3RMaXN0W2NoZWNrYm94UHJvamVjdF1bY2hlY2tib3hJRF0uc3RhdHVzID0gJ05vdCBDb21wbGV0ZSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNhdmVUb0xvY2FsU3RvcmFnZSgpO1xuICAgICAgICB9KVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZFRhc2tTdGF0dXMoY2hlY2tib3gpIHtcbiAgICAgICAgY2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGxldCBjaGVja2JveElEID0gY2hlY2tib3guZGF0YXNldC5jaGVja2JveFxuICAgICAgICAgICAgbGV0IHRhc2tUb0NoYW5nZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXRhc2s9XCIke2NoZWNrYm94SUR9XCJdYClcbiAgICAgICAgICAgIGlmIChjaGVja2JveC5jbGFzc0xpc3QuY29udGFpbnMoJ0NvbXBsZXRlJykpIHtcbiAgICAgICAgICAgICAgICB0YXNrVG9DaGFuZ2UuY2xhc3NMaXN0LnJlbW92ZSgndGFza05vdENvbXBsZXRlJyk7XG4gICAgICAgICAgICAgICAgdGFza1RvQ2hhbmdlLmNsYXNzTGlzdC5hZGQoJ3Rhc2tDb21wbGV0ZScpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjaGVja2JveC5jbGFzc0xpc3QuY29udGFpbnMoJ25vdENvbXBsZXRlJykpIHtcbiAgICAgICAgICAgICAgICB0YXNrVG9DaGFuZ2UuY2xhc3NMaXN0LmFkZCgndGFza05vdENvbXBsZXRlJyk7XG4gICAgICAgICAgICAgICAgdGFza1RvQ2hhbmdlLmNsYXNzTGlzdC5yZW1vdmUoJ3Rhc2tDb21wbGV0ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cbiAgICBcblxuICAgIGZ1bmN0aW9uIGZpbHRlclByb2plY3QoKSB7XG4gICAgICAgIGxldCBmaWx0ZXJlZEFycmF5TGlzdCA9IFtdXG4gICAgICAgIGxldCBwZXJjZW50YWdlQXJyYXkgPSBbXVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb2plY3RMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IGZpbHRlcmVkQXJyYXkgPSBwcm9qZWN0TGlzdFtpXS5maWx0ZXIoZmlsdGVyQnlDb21wbGV0ZSlcbiAgICAgICAgICAgICAgICBmaWx0ZXJlZEFycmF5TGlzdC5wdXNoKGZpbHRlcmVkQXJyYXkpXG4gICAgICAgICAgICAgICAgbGV0IHBlcmNlbnRhZ2UgPSBNYXRoLnJvdW5kKGZpbHRlcmVkQXJyYXkubGVuZ3RoIC8gcHJvamVjdExpc3RbaV0ubGVuZ3RoICogMTAwKTsgXG4gICAgICAgICAgICAgICAgcGVyY2VudGFnZUFycmF5LnB1c2gocGVyY2VudGFnZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7ZmlsdGVyZWRBcnJheUxpc3QsIHBlcmNlbnRhZ2VBcnJheX1cbiAgICAgICAgfVxuICAgIFxuXG4gICAgZnVuY3Rpb24gZmlsdGVyQnlDb21wbGV0ZShpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtLnN0YXR1cyA9PSAnQ29tcGxldGUnXG4gICAgfSBcblxuICAgIFxuICAgIGZ1bmN0aW9uIGFkZFRvU3RhdHVzQmFyKHBlcmNlbnRhZ2UpIHtcbiAgICAgICAgbGV0IHNlbGVjdGVkU3RhdHVzQmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtc3RhdHVzYmFyPVwiJHthZGRUYXNrSWR9XCJdYCk7XG4gICAgICAgIGxldCBzdGF0dXNCbG9jayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBpZiAoc2VsZWN0ZWRTdGF0dXNCYXIuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgc2VsZWN0ZWRTdGF0dXNCYXIucmVtb3ZlQ2hpbGQoc2VsZWN0ZWRTdGF0dXNCYXIuZmlyc3RDaGlsZClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgfVxuICAgICAgICBzdGF0dXNCbG9jay5zdHlsZS53aWR0aCA9IGAke3BlcmNlbnRhZ2V9JWBcbiAgICAgICAgc3RhdHVzQmxvY2suc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCIgICAgICAgICAgICBcbiAgICAgICAgc2VsZWN0ZWRTdGF0dXNCYXIuYXBwZW5kQ2hpbGQoc3RhdHVzQmxvY2spXG4gICAgICAgIHJldHVybiBzZWxlY3RlZFN0YXR1c0JhclxuICAgICAgICB9ICAgXG4gICAgXG4gXG5cbiAgICBmdW5jdGlvbiBlZGl0U3RhdHVzQmFyKHBlcmNlbnRhZ2UpIHtcbiAgICAgICAgbGV0IHRhc2tDb250YWluZXIgPSBzZWxlY3RlZFRhc2tUb0VkaXQucGFyZW50Tm9kZVxuICAgICAgICBsZXQgcGFyZW50UHJvamVjdCA9IHRhc2tDb250YWluZXIucGFyZW50Tm9kZS5pZFxuICAgICAgICBsZXQgc2VsZWN0ZWRTdGF0dXNCYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1zdGF0dXNiYXI9XCIke3BhcmVudFByb2plY3R9XCJdYCk7XG4gICAgICAgIGxldCBzdGF0dXNCbG9jayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBpZiAoc2VsZWN0ZWRTdGF0dXNCYXIuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgc2VsZWN0ZWRTdGF0dXNCYXIucmVtb3ZlQ2hpbGQoc2VsZWN0ZWRTdGF0dXNCYXIuZmlyc3RDaGlsZClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB9XG4gICAgICAgIHN0YXR1c0Jsb2NrLnN0eWxlLndpZHRoID0gYCR7cGVyY2VudGFnZX0lYFxuICAgICAgICBzdGF0dXNCbG9jay5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIlxuICAgICAgICBzZWxlY3RlZFN0YXR1c0Jhci5hcHBlbmRDaGlsZChzdGF0dXNCbG9jaylcbiAgICAgICAgcmV0dXJuIHNlbGVjdGVkU3RhdHVzQmFyXG4gICAgICAgICAgICB9ICAgXG5cbiAgICBmdW5jdGlvbiBkZWxldGVTdGF0dXNCYXIocGVyY2VudGFnZSwgcHJvamVjdCkge1xuICAgICAgICBsZXQgc2VsZWN0ZWRTdGF0dXNCYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1zdGF0dXNiYXI9XCIke3Byb2plY3R9XCJdYCk7XG4gICAgICAgIGxldCBzdGF0dXNCbG9jayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBpZiAoc2VsZWN0ZWRTdGF0dXNCYXIuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgc2VsZWN0ZWRTdGF0dXNCYXIucmVtb3ZlQ2hpbGQoc2VsZWN0ZWRTdGF0dXNCYXIuZmlyc3RDaGlsZClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB9XG4gICAgICAgIHN0YXR1c0Jsb2NrLnN0eWxlLndpZHRoID0gYCR7cGVyY2VudGFnZX0lYFxuICAgICAgICBzdGF0dXNCbG9jay5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIlxuICAgICAgICBzZWxlY3RlZFN0YXR1c0Jhci5hcHBlbmRDaGlsZChzdGF0dXNCbG9jaylcbiAgICAgICAgcmV0dXJuIHNlbGVjdGVkU3RhdHVzQmFyXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGlzcGxheVBlcmNlbnRhZ2Uoc3RhdHVzQmFyLCBwZXJjZW50YWdlKSB7XG4gICAgICAgIGxldCBzZWxlY3RlZFN0YXR1c0JhcklEID0gc3RhdHVzQmFyLmRhdGFzZXQuc3RhdHVzYmFyO1xuICAgICAgICBsZXQgc2VsZWN0ZWRQZXJjZW50YWdlVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXBlcmNlbnRhZ2V0ZXh0PVwiJHtzZWxlY3RlZFN0YXR1c0JhcklEfVwiXWApO1xuICAgICAgICBzZWxlY3RlZFBlcmNlbnRhZ2VUZXh0LmlubmVyVGV4dCA9IGAke3BlcmNlbnRhZ2V9JSBDb21wbGV0ZWA7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBmaWxsT3V0U3RhdHVzQmFyKCkge1xuICAgICAgICBsZXQgZmlsdGVyZWRQcm9qZWN0ID0gZmlsdGVyUHJvamVjdCgpO1xuICAgICAgICBsZXQgc3RhdHVzQmFyID0gYWRkVG9TdGF0dXNCYXIoZmlsdGVyZWRQcm9qZWN0LnBlcmNlbnRhZ2VBcnJheVthZGRUYXNrSWRdKTtcbiAgICAgICAgZGlzcGxheVBlcmNlbnRhZ2Uoc3RhdHVzQmFyLCBmaWx0ZXJlZFByb2plY3QucGVyY2VudGFnZUFycmF5W2FkZFRhc2tJZF0pO1xuICAgICAgICB9XG5cbiAgICBmdW5jdGlvbiBmaWxsRWRpdGVkU3RhdHVzQmFyKCkge1xuICAgICAgICBsZXQgZmlsdGVyZWRQcm9qZWN0ID0gZmlsdGVyUHJvamVjdCgpO1xuICAgICAgICBsZXQgdGFza0NvbnRhaW5lciA9IHNlbGVjdGVkVGFza1RvRWRpdC5wYXJlbnROb2RlXG4gICAgICAgIGxldCBwYXJlbnRQcm9qZWN0ID0gdGFza0NvbnRhaW5lci5wYXJlbnROb2RlLmlkXG4gICAgICAgIGxldCBzdGF0dXNCYXIgPSBlZGl0U3RhdHVzQmFyKGZpbHRlcmVkUHJvamVjdC5wZXJjZW50YWdlQXJyYXlbcGFyZW50UHJvamVjdF0pO1xuICAgICAgICBpZiAoZmlsdGVyZWRQcm9qZWN0LnBlcmNlbnRhZ2VBcnJheVtwYXJlbnRQcm9qZWN0XSAhPSBOYU4pIHtcbiAgICAgICAgZGlzcGxheVBlcmNlbnRhZ2Uoc3RhdHVzQmFyLCBmaWx0ZXJlZFByb2plY3QucGVyY2VudGFnZUFycmF5W3BhcmVudFByb2plY3RdKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZpbGxEZWxldGVkU3RhdHVzQmFyKHByb2plY3RUb0RlbGV0ZSkge1xuICAgICAgICBsZXQgZmlsdGVyZWRQcm9qZWN0ID0gZmlsdGVyUHJvamVjdCgpO1xuICAgICAgICBsZXQgcGFyZW50UHJvamVjdCA9IHByb2plY3RUb0RlbGV0ZVxuICAgICAgICBsZXQgc3RhdHVzQmFyID0gZGVsZXRlU3RhdHVzQmFyKGZpbHRlcmVkUHJvamVjdC5wZXJjZW50YWdlQXJyYXlbcGFyZW50UHJvamVjdF0sIHBhcmVudFByb2plY3QpO1xuICAgICAgICBpZiAoaXNOYU4oZmlsdGVyZWRQcm9qZWN0LnBlcmNlbnRhZ2VBcnJheVtwYXJlbnRQcm9qZWN0XSkgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGRpc3BsYXlQZXJjZW50YWdlKHN0YXR1c0JhciwgZmlsdGVyZWRQcm9qZWN0LnBlcmNlbnRhZ2VBcnJheVtwYXJlbnRQcm9qZWN0XSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgc2VsZWN0ZWRTdGF0dXNCYXJJRCA9IHN0YXR1c0Jhci5kYXRhc2V0LnN0YXR1c2JhcjtcbiAgICAgICAgICAgIGxldCBzZWxlY3RlZFBlcmNlbnRhZ2VUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtcGVyY2VudGFnZXRleHQ9XCIke3NlbGVjdGVkU3RhdHVzQmFySUR9XCJdYCk7XG4gICAgICAgICAgICBzZWxlY3RlZFBlcmNlbnRhZ2VUZXh0LmlubmVyVGV4dCA9IFwiXCJcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLy9ldmVudCBsaXN0ZW5lclxuICAgIFxuICAgIGl0ZW1TdWJtaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGl0ZW1Gb3JtLmNsYXNzTGlzdC5jb250YWlucygnYWRkSXRlbScpKSB7XG4gICAgICAgIGFkZFRhc2soKTtcbiAgICB9IGVsc2UgaWYgKGl0ZW1Gb3JtLmNsYXNzTGlzdC5jb250YWlucygnZWRpdEl0ZW0nKSkge1xuICAgICAgICBlZGl0SXRlbSgpO1xuICAgIH1cbn0pXG5cbiAgICByZXNldEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGNsZWFySW5wdXRzKCkpXG5cbiAgICB0YXNrQ2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBpdGVtRm9ybUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKSlcblxuLy8gbG9jYWwgc3RvcmFnZSBcblxuZnVuY3Rpb24gc2F2ZVRvTG9jYWxTdG9yYWdlKCkge1xuICAgIHN0b3JlZFByb2plY3RMaXN0ID0gcHJvamVjdExpc3RcbiAgICBzdG9yZWRQcm9qZWN0TGlzdEluZm8gPSBwcm9qZWN0TGlzdEluZm9cbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShgc3RvcmVkUHJvamVjdExpc3RgLCBKU09OLnN0cmluZ2lmeShzdG9yZWRQcm9qZWN0TGlzdCkpO1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGBwcm9qZWN0SW5mb2AsIEpTT04uc3RyaW5naWZ5KHN0b3JlZFByb2plY3RMaXN0SW5mbykpXG4gICAgY29uc29sZS5sb2coc3RvcmVkUHJvamVjdExpc3QpXG59XG5cbmZ1bmN0aW9uIGdldEl0ZW1Gcm9tTG9jYWxTdG9yYWdlKCkge1xuICAgbGV0IHB1bGxUYXNrcyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3N0b3JlZFByb2plY3RMaXN0JykpO1xuICAgY29uc29sZS5sb2cocHVsbFRhc2tzKVxuICAgbGV0IHB1bGxQcm9qZWN0cyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2plY3RJbmZvJykpO1xuICAgZm9yIChjb25zdCBwcm9qZWN0SW5mbyBpbiBwdWxsUHJvamVjdHMpIHtcbiAgICAgICAgbGV0IHN0b3JlZFByb2plY3RJbmZvID0gcHVsbFByb2plY3RzW3Byb2plY3RJbmZvXVxuICAgICAgICBhZGRCYWNrUHJvamVjdE1ldGhvZHMoc3RvcmVkUHJvamVjdEluZm8pO1xuICAgICAgICBkaXNwbGF5U3RvcmVkUHJvamVjdChzdG9yZWRQcm9qZWN0SW5mbylcbiAgIH1cbiAgICBmb3IgKGNvbnN0IHByb2plY3QgaW4gcHVsbFRhc2tzKSB7XG4gICAgICAgICAgICBpZiAocHVsbFRhc2tzICE9IFwiXCIpIHtcbiAgICAgICAgICAgIHB1bGxUYXNrc1twcm9qZWN0XS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgIHNlbGVjdGVkUHJvamVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHByb2plY3QpO1xuICAgICAgICAgICAgYWRkVGFza0lkID0gcHJvamVjdDtcbiAgICAgICAgICAgIGxldCBzdG9yZWRJdGVtID0gaXRlbVxuICAgICAgICAgICAgYWRkQmFja1Rhc2tNZXRob2RzKHN0b3JlZEl0ZW0pXG4gICAgICAgICAgICBjcmVhdGVTdG9yZWRUYXNrKHN0b3JlZEl0ZW0pXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBhZGRCYWNrVGFza01ldGhvZHMoaXRlbSkge1xuICAgIGZ1bmN0aW9uIGluZm8oaXRlbSkge1xuICAgICAgICByZXR1cm4gKGBUaXRsZTogJHtpdGVtLl90aXRsZX0gXFxyXFxuXG4gICAgICAgIERlc2NyaXB0aW9uOiAke2l0ZW0uX2Rlc2NyaXB0aW9ufSBcXHJcXG5cbiAgICAgICAgRHVlIERhdGU6ICR7aXRlbS5fZHVlRGF0ZX0gXFxyXFxuXG4gICAgICAgIFByaW9yaXR5OiAke2l0ZW0uX3ByaW9yaXR5fSBcXHJcXG5cbiAgICAgICAgTm90ZXM6ICR7aXRlbS5fbm90ZXN9IGApIFxuICAgIH1cbiAgICBpdGVtLmluZm8gPSBpbmZvKGl0ZW0pXG59XG5cbmZ1bmN0aW9uIGFkZEJhY2tQcm9qZWN0TWV0aG9kcyhwcm9qZWN0KSB7XG4gICAgZnVuY3Rpb24gaW5mbyhwcm9qZWN0KSB7XG4gICAgICAgIHJldHVybiAoYFByb2plY3QgVGl0bGU6ICR7cHJvamVjdC5fdGl0bGV9IFxcclxcblxuICAgICAgICBQcm9qZWN0IERlc2NyaXB0aW9uOiAke3Byb2plY3QuX2Rlc2NyaXB0aW9ufSBcXHJcXG5gKVxuICAgIH1cbiAgICBwcm9qZWN0LmluZm8gPSBpbmZvKHByb2plY3QpXG59XG5cbmZ1bmN0aW9uIGRpc3BsYXlTdG9yZWRQcm9qZWN0KHN0b3JlZFByb2plY3QpIHtcbiAgICBhZGRUb1Byb2plY3RMaXN0KCk7XG4gICAgbGV0IHByb2plY3RDb250YWluZXIgPSBjcmVhdGVQcm9qZWN0Q29udGFpbmVyKCk7XG4gICAgbGV0IHByb2plY3QgPSBjcmVhdGVOZXdQcm9qZWN0KHByb2plY3RDb250YWluZXIsIHN0b3JlZFByb2plY3QpO1xuICAgIGFkZFByb2plY3RMaXN0SW5mbyhzdG9yZWRQcm9qZWN0KVxuICAgIGxldCBwcm9qZWN0SUQgPSBzZXROZXdQcm9qZWN0SWQocHJvamVjdCk7XG4gICAgbGV0IG5ld1N0YXR1c0JhciA9IGNyZWF0ZVN0YXR1c0Jhcihwcm9qZWN0KVxuICAgIGxldCBzb3J0QnV0dG9ucyA9IGFkZFNvcnRCdXR0b25zKHByb2plY3QpO1xuICAgIHN1Ym1pdEJ1dHRvblNvcnQoc29ydEJ1dHRvbnMpXG4gICAgbGV0IGJ1dHRvblNlY3Rpb24gPSBhZGRCdXR0b25TZWN0aW9uKHByb2plY3RDb250YWluZXIpO1xuICAgIGxldCBlZGl0UHJvamVjdEJ1dHRvbiA9IGFkZFByb2plY3RFZGl0QnV0dG9uKGJ1dHRvblNlY3Rpb24pO1xuICAgIHByb2pFZGl0QnV0dG9uTGlzdChlZGl0UHJvamVjdEJ1dHRvbilcbiAgICBsZXQgYWRkSXRlbVRvUHJvamVjdEJ1dHRvbiA9IGFkZFByb2plY3RBZGRCdXR0b24oYnV0dG9uU2VjdGlvbik7XG4gICAgcHJvamVjdFRvRG9CdXR0b25MaXN0KGFkZEl0ZW1Ub1Byb2plY3RCdXR0b24pO1xuICAgIGxldCBkZWxldGVQcm9qZWN0QnV0dG9uID0gYWRkUHJvamVjdERlbGV0ZUJ1dHRvbihidXR0b25TZWN0aW9uKTtcbiAgICBwcm9qZWN0RGVsZXRlQnV0dG9uTGlzdChkZWxldGVQcm9qZWN0QnV0dG9uKTtcbiAgICBhZGRJdGVtVG9Qcm9qZWN0KCk7XG4gICAgZGVsZXRlQnV0dG9uRnVuY3Rpb25hbGl0eShkZWxldGVQcm9qZWN0QnV0dG9uKTtcbiAgICBwcm9qZWN0RWRpdEJ1dHRvbkZ1bmN0aW9uYWxpdHkoZWRpdFByb2plY3RCdXR0b24pO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVTdG9yZWRUYXNrKGl0ZW0pIHtcbiAgICBhZGRJdGVtVG9Qcm9qZWN0TGlzdChpdGVtKVxuICAgIGxldCBuZXdUYXNrID0gbmV3VGFza0NvbnRhaW5lcigpO1xuICAgIG5ld1Rhc2suc2V0QXR0cmlidXRlKCdkYXRhLXRhc2tjb250YWluZXInLCBgJHtbYWRkVGFza0lkXX0ke3Byb2plY3RMaXN0W2FkZFRhc2tJZF0ubGVuZ3RoIC0xfWApXG4gICAgbmV3VGFzay5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3BlY2lmaWN0YXNrY29udGFpbmVyJywgYCR7cHJvamVjdExpc3RbYWRkVGFza0lkXS5sZW5ndGggLTF9YClcbiAgICBsZXQgbmV3Q2hlY2tib3ggPSBjcmVhdGVDaGVja2JveChpdGVtLCBuZXdUYXNrKTtcbiAgICBuZXdDaGVja2JveC5zZXRBdHRyaWJ1dGUoJ2RhdGEtY2hlY2tib3gnLCBgJHtbYWRkVGFza0lkXX0ke3Byb2plY3RMaXN0W2FkZFRhc2tJZF0ubGVuZ3RoIC0xfWApXG4gICAgbmV3Q2hlY2tib3guc2V0QXR0cmlidXRlKCdkYXRhLXNwZWNpZmljY2hlY2tib3gnLCBgJHtwcm9qZWN0TGlzdFthZGRUYXNrSWRdLmxlbmd0aCAtMX1gKVxuICAgIGxldCBuZXdEaXYgPSBuZXdJdGVtRGl2KG5ld1Rhc2ssIGl0ZW0pO1xuICAgIG5ld0Rpdi5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGFzaycsIGAke1thZGRUYXNrSWRdfSR7cHJvamVjdExpc3RbYWRkVGFza0lkXS5sZW5ndGggLTF9YCk7XG4gICAgbmV3RGl2LnNldEF0dHJpYnV0ZSgnZGF0YS1zcGVjaWZpY3Rhc2snLCBgJHtwcm9qZWN0TGlzdFthZGRUYXNrSWRdLmxlbmd0aCAtMX1gKTtcblxuICAgIGZpbGxPdXRTdGF0dXNCYXIoKTtcblxuICAgIGxldCBpdGVtQnV0dG9ucyA9IG5ld0l0ZW1CdXR0b25zKG5ld1Rhc2spO1xuICAgIGxldCBlZGl0QnV0dG9uID0gbmV3RWRpdEJ1dHRvbihpdGVtQnV0dG9ucyk7XG4gICAgZWRpdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtZWRpdCcsIGAke1thZGRUYXNrSWRdfSR7cHJvamVjdExpc3RbYWRkVGFza0lkXS5sZW5ndGggLTF9YClcbiAgICBlZGl0QnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS1zcGVjaWZpY2VkaXQnLCBgJHtwcm9qZWN0TGlzdFthZGRUYXNrSWRdLmxlbmd0aCAtMX1gKVxuICAgIGxldCBkZWxldGVCdXR0b24gPSBuZXdEZWxldGVUYXNrQnV0dG9uKGl0ZW1CdXR0b25zKTtcbiAgICBkZWxldGVCdXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLWRlbGV0ZUl0ZW0nLCBgJHtbYWRkVGFza0lkXX0ke3Byb2plY3RMaXN0W2FkZFRhc2tJZF0ubGVuZ3RoIC0xfWApXG4gICAgZGVsZXRlQnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS1zcGVjaWZpY2RlbGV0ZUl0ZW0nLCBgJHtwcm9qZWN0TGlzdFthZGRUYXNrSWRdLmxlbmd0aCAtMX1gKVxuICAgIHB1c2hDaGVja2JveFRvTGlzdChuZXdDaGVja2JveCk7XG4gICAgcHVzaEVkaXRUb0xpc3QoZWRpdEJ1dHRvbik7XG4gICAgcHVzaERlbGV0ZVRhc2tUb0xpc3QoZGVsZXRlQnV0dG9uKTtcblxuICAgIGNyZWF0ZUVkaXRCdXR0b25MaXN0KCk7XG4gICAgZGVsZXRlVGFza0J1dHRvbkZ1bmN0aW9uYWxpdHkoZGVsZXRlQnV0dG9uKTtcbiAgICBhZGRDaGVja2JveFN0YXR1cyhuZXdDaGVja2JveCk7XG4gICAgY2hhbmdlU3RhdHVzQmFyT25DaGVja2JveENsaWNrKG5ld0NoZWNrYm94KTtcbiAgICBhZGRUYXNrU3RhdHVzKG5ld0NoZWNrYm94KTtcbn1cblxud2luZG93Lm9ubG9hZCA9ICgpID0+IHtcbiAgICBnZXRJdGVtRnJvbUxvY2FsU3RvcmFnZSgpO1xufVxuXG5cbn1cblxuIiwiaW1wb3J0IGZ1bmN0aW9uYWxpdHkgZnJvbSBcIi4vZG9tLmpzXCI7IFxuXG5cbmZ1bmN0aW9uYWxpdHkoKSJdLCJuYW1lcyI6WyJUb0RvSXRlbSIsImNvbnN0cnVjdG9yIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImR1ZURhdGUiLCJwcmlvcml0eSIsIm5vdGVzIiwic3RhdHVzIiwidGhpcyIsIl9zdGF0dXMiLCJpbmZvIiwiX3RpdGxlIiwiX2Rlc2NyaXB0aW9uIiwiX2R1ZURhdGUiLCJfcHJpb3JpdHkiLCJfbm90ZXMiLCJuZXdUaXRsZSIsIm5ld0Rlc2NyaXB0aW9uIiwibmV3UHJpb3JpdHkiLCJuZXdEdWVEYXRlIiwibmV3Tm90ZXMiLCJuZXdTdGF0dXMiLCJQcm9qZWN0IiwiYWRkSXRlbSIsIml0ZW1OYW1lIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInZhbHVlIiwiaXRlbURlc2NyaXB0aW9uIiwiY29tcGxldGUiLCJhZGRQcm9qZWN0IiwicHJvamVjdFRpdGxlIiwicHJvamVjdERlc2NyaXB0aW9uIiwibWFpbkJvZHkiLCJhZGRCdXR0b24iLCJwcm9qZWN0Rm9ybUNvbnRhaW5lciIsInByb2plY3RTdWJtaXRCdXR0b24iLCJwcm9qZWN0Q2xvc2VCdXR0b24iLCJhZGRUYXNrSWQiLCJkZWxldGVQcm9qZWN0SWQiLCJwcm9qZWN0RWRpdElEIiwicHJvamVjdFRvRGVsZXRlIiwidG9Eb0J1dHRvbkxpc3QiLCJkZWxldGVCdXR0b25MaXN0IiwicHJvamVjdExpc3QiLCJzdG9yZWRQcm9qZWN0TGlzdCIsInByb2plY3RFZGl0QnV0dG9uTGlzdCIsInByb2plY3RMaXN0SW5mbyIsInN0b3JlZFByb2plY3RMaXN0SW5mbyIsInNlbGVjdGVkUHJvamVjdCIsImFkZFRvUHJvamVjdExpc3QiLCJwdXNoIiwiYWRkUHJvamVjdExpc3RJbmZvIiwicHJvamVjdCIsImNyZWF0ZVByb2plY3RDb250YWluZXIiLCJwcm9qZWN0Q29udGFpbmVyIiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZENoaWxkIiwiY3JlYXRlTmV3UHJvamVjdCIsIm5ld1Byb2plY3QiLCJjbGFzc0xpc3QiLCJhZGQiLCJwcm9qZWN0SW5mbyIsInNldEF0dHJpYnV0ZSIsImxlbmd0aCIsInRleHRDb250ZW50Iiwic2V0TmV3UHJvamVjdElkIiwiaWQiLCJhZGRTb3J0QnV0dG9ucyIsInNvcnRCdXR0b25zIiwic29ydE9wdGlvbnMiLCJzb3J0TmFtZSIsInNvcnRQcmlvcml0eSIsInNvcnREdWVEYXRlIiwic29ydENvbXBsZXRlIiwic29ydFN1Ym1pdCIsImFkZEJ1dHRvblNlY3Rpb24iLCJidXR0b25TZWN0aW9uIiwiYWRkUHJvamVjdEFkZEJ1dHRvbiIsImFkZFRvRG8iLCJpbm5lclRleHQiLCJwcm9qZWN0VG9Eb0J1dHRvbkxpc3QiLCJhZGRQcm9qZWN0RGVsZXRlQnV0dG9uIiwiZGVsZXRlQnV0dG9uIiwicHJvamVjdERlbGV0ZUJ1dHRvbkxpc3QiLCJhZGRQcm9qZWN0RWRpdEJ1dHRvbiIsImVkaXRCdXR0b24iLCJwcm9qRWRpdEJ1dHRvbkxpc3QiLCJwcm9qZWN0RWRpdEJ1dHRvbkZ1bmN0aW9uYWxpdHkiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlIiwiZGF0YXNldCIsInByb2plY3RlZGl0IiwiY2xlYXJJbnB1dHMiLCJpbnB1dFZhbHVlcyIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpIiwiYWRkSXRlbVRvUHJvamVjdCIsIml0ZW1Gb3JtQ29udGFpbmVyIiwiaXRlbUZvcm0iLCJkZWxldGVCdXR0b25GdW5jdGlvbmFsaXR5IiwiYnV0dG9uIiwiZGVsZXRlIiwic3BsaWNlIiwicXVlcnlTZWxlY3RvciIsInJlbW92ZUNoaWxkIiwicGFyZW50Tm9kZSIsImNvbnNvbGUiLCJsb2ciLCJzYXZlVG9Mb2NhbFN0b3JhZ2UiLCJzdWJtaXRCdXR0b25Tb3J0Iiwic3VibWl0QnV0dG9uIiwic3VibWl0QnV0dG9uSUQiLCJzb3J0IiwidHlwZW9mU29ydCIsInByb2plY3RUb1NvcnQiLCJhIiwiYiIsInNvcnRQcm9qZWN0VGFza3MiLCJwcm9qZWN0VG9DbGVhciIsInBhcmVudCIsImxhc3RDaGlsZCIsInJlbW92ZUFsbENoaWxkTm9kZXMiLCJuZXdUYXNrIiwibmV3Q2hlY2tib3giLCJjcmVhdGVDaGVja2JveCIsIm5ld0RpdiIsIm5ld0l0ZW1EaXYiLCJpdGVtQnV0dG9ucyIsIm5ld0l0ZW1CdXR0b25zIiwibmV3RWRpdEJ1dHRvbiIsIm5ld0RlbGV0ZVRhc2tCdXR0b24iLCJwdXNoQ2hlY2tib3hUb0xpc3QiLCJwdXNoRWRpdFRvTGlzdCIsInB1c2hEZWxldGVUYXNrVG9MaXN0IiwiY3JlYXRlRWRpdEJ1dHRvbkxpc3QiLCJkZWxldGVUYXNrQnV0dG9uRnVuY3Rpb25hbGl0eSIsImFkZENoZWNrYm94U3RhdHVzIiwiYWRkVGFza1N0YXR1cyIsImNoYW5nZVN0YXR1c0Jhck9uQ2hlY2tib3hDbGljayIsImRpc3BsYXlTb3J0ZWRQcm9qZWN0IiwiY3JlYXRlU3RhdHVzQmFyIiwic2VjdGlvbiIsInN0YXR1c0JhckNvbnRhaW5lciIsInN0YXR1c0JhciIsInBlcmNlbnRhZ2VUZXh0Iiwic3RhdHVzYmFyIiwiY29udGFpbnMiLCJlZGl0UHJvamVjdEJ1dHRvbiIsImRlbGV0ZVByb2plY3RCdXR0b24iLCJwcm9qZWN0VG9SZXZpc2UiLCJyZXZpc2VkUHJvamVjdCIsImRlbGV0ZVRhc2tCdXR0b25JZCIsImVkaXRUYXNrQnV0dG9uTGlzdCIsImRlbGV0ZVRhc2tCdXR0b25MaXN0IiwiaXRlbVN1Ym1pdEJ1dHRvbiIsImVkaXRCdXR0b25JZCIsInNlbGVjdGVkVGFza1RvRWRpdCIsInRhc2tUb0RlbGV0ZSIsInJlc2V0QnV0dG9uIiwidGFza0Nsb3NlQnV0dG9uIiwiY2hlY2tCb3hUb0NoYW5nZSIsImNoZWNrYm94TGlzdCIsIm5ld1Rhc2tDb250YWluZXIiLCJ0YXNrQ29udGFpbmVyIiwiaXRlbSIsImFkZEl0ZW1Ub1Byb2plY3RMaXN0IiwiY2hlY2tib3giLCJlZGl0VGFzayIsImRlbGV0ZVRhc2siLCJuZXdEZWxldGVCdXR0b24iLCJlZGl0IiwiZGVsZXRlaXRlbSIsInNwZWNpZmljSUQiLCJzcGVjaWZpY2RlbGV0ZWl0ZW0iLCJwcm9qZWN0UGFyZW50IiwicHJvamVjdFBhcmVudElkIiwiZmlsdGVyZWRQcm9qZWN0IiwiZmlsdGVyUHJvamVjdCIsInBhcmVudFByb2plY3QiLCJwZXJjZW50YWdlIiwic2VsZWN0ZWRTdGF0dXNCYXIiLCJzdGF0dXNCbG9jayIsImZpcnN0Q2hpbGQiLCJzdHlsZSIsIndpZHRoIiwiaGVpZ2h0IiwiZGVsZXRlU3RhdHVzQmFyIiwicGVyY2VudGFnZUFycmF5IiwiaXNOYU4iLCJkaXNwbGF5UGVyY2VudGFnZSIsInNlbGVjdGVkU3RhdHVzQmFySUQiLCJmaWxsRGVsZXRlZFN0YXR1c0JhciIsImNoZWNrYm94SUQiLCJzcGVjaWZpY2NoZWNrYm94IiwiY2hlY2tib3hQcm9qZWN0IiwidGFza1RvQ2hhbmdlIiwiZmlsdGVyZWRBcnJheUxpc3QiLCJmaWx0ZXJlZEFycmF5IiwiZmlsdGVyIiwiZmlsdGVyQnlDb21wbGV0ZSIsIk1hdGgiLCJyb3VuZCIsImZpbGxPdXRTdGF0dXNCYXIiLCJhZGRUb1N0YXR1c0JhciIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwiYWRkQmFja1Rhc2tNZXRob2RzIiwiZGlzcGxheVN0b3JlZFByb2plY3QiLCJzdG9yZWRQcm9qZWN0IiwiY3JlYXRlU3RvcmVkVGFzayIsInVuZGVmaW5lZCIsImFsZXJ0IiwiYWRkVGFzayIsInJldmlzZWRJdGVtIiwidGFza0lEdGFza0NvbnRhaW5lciIsInRhc2tJRCIsInNwZWNpZmljdGFzayIsImVkaXRQcm9qZWN0TGlzdCIsImNoYW5nZWRUYXNrIiwiY2hhbmdlZFRhc2tJRCIsInRhc2tQcm9qZWN0IiwiZWRpdFRhc2tTdGF0dXMiLCJlZGl0U3RhdHVzQmFyIiwiTmFOIiwiZmlsbEVkaXRlZFN0YXR1c0JhciIsImVkaXRJdGVtIiwid2luZG93Iiwib25sb2FkIiwicHVsbFRhc2tzIiwicGFyc2UiLCJnZXRJdGVtIiwicHVsbFByb2plY3RzIiwic3RvcmVkUHJvamVjdEluZm8iLCJmb3JFYWNoIiwic3RvcmVkSXRlbSIsImdldEl0ZW1Gcm9tTG9jYWxTdG9yYWdlIiwiZnVuY3Rpb25hbGl0eSJdLCJzb3VyY2VSb290IjoiIn0=