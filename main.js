(()=>{"use strict";class t{constructor(t,e,n,i,s,a){this.title=t,this.description=e,this.dueDate=n,this.priority=i,this.notes=s,this.status=a}get title(){return this._title}get status(){return`${this._status}`}get dueDate(){return this._dueDate}get priority(){return this._priority}get info(){return`Title: ${this._title} \r\n\n        Description: ${this._description} \r\n\n        Due Date: ${this._dueDate} \r\n\n        Priority: ${this._priority} \r\n\n        Notes: ${this._notes} `}set title(t){this._title=t}set description(t){this._description=t}set priority(t){this._priority=t}set dueDate(t){this._dueDate=t}set notes(t){this._notes=t}set status(t){this._status=t}}class e{constructor(t,e){this.title=t,this.description=e}get title(){return this._title}get description(){return this._description}get info(){return`Project Title: ${this._title} \r\n\n        Project Description: ${this._description} `}set title(t){this._title=t}set description(t){this._description=t}}function n(){let e=document.getElementById("itemName").value,n=document.getElementById("itemDescription").value,i=document.getElementById("dueDate").value,s=document.getElementById("priority").value,a=document.getElementById("notes").value,d=document.getElementById("complete").value;return new t(e,n,i,s,a,d)}function i(){const t=document.getElementById("projectName").value,n=document.getElementById("projectDescription").value;return new e(t,n)}!function(){const t=document.getElementById("main"),e=document.getElementById("addButton"),s=document.getElementById("projectFormContainer"),a=document.getElementById("projectSubmitButton"),d=document.getElementById("projectClose");let o="",l="",c="",r=document.getElementById(l),u=[],m=[],p=[],h=[],f=[],C=[],g=document.getElementById(o);function y(){p.push([])}function L(t){f.push(t),C.push(t)}function b(){let e=document.createElement("div");return t.appendChild(e),e}function E(t,e){let n=document.createElement("div");n.classList.add("project");let i=document.createElement("p");return i.classList.add("projectInfo"),i.setAttribute("data-projectInfo",p.length-1),i.textContent=e.info,t.appendChild(n),n.appendChild(i),n}function v(t){return t.setAttribute("id",p.length-1),t.id}function $(t){let e=document.createElement("div"),n=document.createElement("select");n.setAttribute("data-sortinput",p.length-1),e.classList.add("sortButtons");let i=document.createElement("option");i.setAttribute("value","Name"),i.textContent="Sort By Name";let s=document.createElement("option");s.setAttribute("value","Priority"),s.textContent="Sort By Priority";let a=document.createElement("option");a.setAttribute("value","dueDate"),a.textContent="Sort By Due Date";let d=document.createElement("option");d.setAttribute("value","Completion"),d.textContent="Sort By Completion";let o=document.createElement("button");return o.setAttribute("data-sort",p.length-1),o.textContent="Submit",t.appendChild(e),e.appendChild(n),n.appendChild(i),n.appendChild(s),n.appendChild(a),n.appendChild(d),e.appendChild(o),o}function k(t){let e=document.createElement("div");return e.classList.add("buttonSection"),e.setAttribute("data-projectButtons",p.length-1),t.appendChild(e),e}function A(t){let e=document.createElement("button");return e.classList.add("addToDoButton"),e.setAttribute("data-add",p.length-1),e.innerText="Add Task",t.appendChild(e),e}function I(t){u.push(t)}function B(t){let e=document.createElement("button");return e.classList.add("deleteButton"),e.setAttribute("data-delete",p.length-1),e.innerText="Delete",t.appendChild(e),e}function N(t){m.push(t)}function x(t){let e=document.createElement("button");return e.classList.add("projectEditButton"),e.setAttribute("data-projectedit",p.length-1),e.innerText="Edit Project",t.appendChild(e),e}function S(t){h.push(t)}function _(t){t.addEventListener("click",(function(){s.classList.remove("hidden"),s.classList.add("edit"),c=t.dataset.projectedit}))}function D(){let t=Array.from(document.querySelectorAll("input"));for(let e=0;e<t.length;e++)t[e].value=""}function j(){for(let t=0;t<u.length;t++)u[t].addEventListener("click",(function(){w.classList.remove("hidden"),o=u[t].dataset.add,g=document.getElementById(o),F.classList.remove("editItem"),F.classList.add("addItem")}))}function T(e){e.addEventListener("click",(function(){l=e.dataset.delete,r=document.getElementById(l),p.splice(l,1),f.splice(l,1),u.splice(l,1),m.splice(l,1),u.splice(l,1),document.querySelector(`[data-projectbuttons="${l}"]`),t.removeChild(r.parentNode),ft()}))}function q(t){t.addEventListener("click",(function(){let e=t.dataset.sort,n=document.querySelector(`[data-sortinput="${e}"]`),i=p[e];0!=i.length&&(function(t,e){"Name"==e.value?t.sort(((t,e)=>t.title>e.title?1:-1)):"Priority"==e.value?t.sort(((t,e)=>t.priority>e.priority?1:-1)):"Completion"==e.value?t.sort(((t,e)=>t.status>e.status?-1:1)):"dueDate"==e.value&&t.sort(((t,e)=>t.dueDate>e.dueDate?1:-1))}(i,n),function(t,e){let n=document.getElementById(t);!function(t,e){for(let n=0;n<e.length;n++)t.removeChild(t.lastChild)}(n,e);for(let i=0;i<e.length;i++){let e=document.createElement("div");e.classList.add("taskContainer"),n.appendChild(e),e.setAttribute("data-taskcontainer",`${t}${[i]}`),e.setAttribute("data-specifictaskcontainer",[i]);let s=Z(p[t][i],e);s.setAttribute("data-checkbox",`${t}${[i]}`),s.setAttribute("data-specificcheckbox",[i]);let a=X(e,p[t][i]);a.setAttribute("data-task",`${t}${[i]}`),a.setAttribute("data-specifictask",[i]);let d=tt(e),o=et(d);o.setAttribute("data-edit",`${t}${[i]}`),o.setAttribute("data-specificedit",[i]);let l=nt(d);l.setAttribute("data-deleteItem",`${t}${[i]}`),l.setAttribute("data-specificdeleteItem",[i]),it(s),st(o),at(l),dt(),ot(l),ct(s),rt(s),lt(s)}}(e,i),ft())}))}function P(t){let e=document.createElement("div");e.classList.add("statusBarContainer");let n=document.createElement("div"),i=document.createElement("div");return n.classList.add("statusBar"),n.setAttribute("data-statusbar",p.length-1),i.classList.add("percentageText"),i.setAttribute("data-percentagetext",p.length-1),t.appendChild(e),e.appendChild(n),e.appendChild(i),statusbar}e.addEventListener("click",(function(){s.classList.remove("hidden")})),a.addEventListener("click",(function(){if(!s.classList.contains("edit")){y();let t=i(),e=b(),n=E(e,t);L(t),v(n),P(n),q($(n));let a=k(e),d=x(a);S(d),I(A(a));let o=B(a);N(o),j(),T(o),_(d),s.classList.add("hidden"),D(),ft()}})),a.addEventListener("click",(function(){if(s.classList.contains("edit")){let t=document.querySelector(`[data-projectinfo="${c}"]`),e=i();f.splice(c,1,e),t.textContent=e.info,D(),s.classList.add("hidden"),s.classList.remove("edit"),ft()}})),d.addEventListener("click",(function(){s.classList.add("hidden")}));const w=document.getElementById("itemFormContainer");let F=document.getElementById("itemForm"),O="",J=[],R=[];const M=document.getElementById("itemSubmitButton");let z="",G=document.getElementById(z),H=document.getElementById(O),K=document.getElementById("reset");const Q=document.getElementById("taskClose");let U=document.querySelector(`[data-checkbox="${z}"]`),V=[];function W(){let t=document.createElement("div");return t.classList.add("taskContainer"),g.appendChild(t),t}function X(t,e){let n=document.createElement("div");return n.classList.add("newTask"),"Complete"!=e.status?n.classList.add("taskNotComplete"):n.classList.add("taskComplete"),n.textContent=e.info,t.appendChild(n),n}function Y(t){p[o].push(t)}function Z(t,e){let n=document.createElement("button");return n.classList.add("checkbox"),"Complete"!=t.status&&"Complete"!=t._status?(n.classList.add("notComplete"),e.appendChild(n)):"Complete"==t._status&&(n.classList.add("Complete"),e.appendChild(n)),n}function tt(t){let e=document.createElement("div");return e.classList.add("itemButtons"),t.appendChild(e),e}function et(t){let e=document.createElement("button");return e.innerText="Edit Task",e.classList.add("editTaskButton"),t.appendChild(e),e}function nt(t){let e=document.createElement("button");return e.innerText="Delete Task",e.classList.add("deleteTaskButton"),t.appendChild(e),e}function it(t){V.push(t)}function st(t){J.push(t)}function at(t){R.push(t)}function dt(){for(let t=0;t<J.length;t++)J[t].addEventListener("click",(function(){w.classList.remove("hidden"),F.classList.remove("addItem"),F.classList.add("editItem"),z=J[t].dataset.edit,G=document.querySelector(`[data-task="${z}"]`)}))}function ot(t){t.addEventListener("click",(function(){O=t.dataset.deleteitem;let e=t.dataset.specificdeleteitem;H=document.querySelector(`[data-taskContainer="${O}"]`);let n=H.parentNode;n.removeChild(H),R.splice(e,1),J.splice(e,1),V.splice(e,1);let i=n.id;p[i].splice(e,1),function(t){let e=ut(),n=t,i=function(t,e){let n=document.querySelector(`[data-statusbar="${e}"]`),i=document.createElement("div");return n.firstChild&&n.removeChild(n.firstChild),i.style.width=`${t}%`,i.style.height="100%",n.appendChild(i),n}(e.percentageArray[n],n);if(0==isNaN(e.percentageArray[n]))pt(i,e.percentageArray[n]);else{let t=i.dataset.statusbar;document.querySelector(`[data-percentagetext="${t}"]`).innerText=""}}(i),ft()}))}function lt(t){t.addEventListener("click",(function(){let e=ut(),n=t.parentNode.parentNode.id,i=document.querySelector(`[data-statusbar="${n}"]`),s=document.createElement("div");i.firstChild&&i.removeChild(i.firstChild),s.style.width=`${e.percentageArray[n]}%`,s.style.height="100%",i.appendChild(s),pt(i,e.percentageArray[n])}))}function ct(t){t.addEventListener("click",(function(){let e=t.dataset.specificcheckbox,n=t.parentNode.parentNode.id;t.classList.contains("notComplete")?(t.classList.remove("notComplete"),t.classList.add("Complete"),p[n][e].status="Complete"):t.classList.contains("Complete")&&(t.classList.add("notComplete"),t.classList.remove("Complete"),p[n][e].status="Not Complete"),ft()})),console.log(p)}function rt(t){t.addEventListener("click",(function(){let e=t.dataset.checkbox,n=document.querySelector(`[data-task="${e}"]`);t.classList.contains("Complete")?(n.classList.remove("taskNotComplete"),n.classList.add("taskComplete")):t.classList.contains("notComplete")&&(n.classList.add("taskNotComplete"),n.classList.remove("taskComplete"))}))}function ut(){let t=[],e=[];for(let n=0;n<p.length;n++){let i=p[n].filter(mt);t.push(i);let s=Math.round(i.length/p[n].length*100);e.push(s)}return{filteredArrayList:t,percentageArray:e}}function mt(t){return"Complete"==t._status}function pt(t,e){let n=t.dataset.statusbar;document.querySelector(`[data-percentagetext="${n}"]`).innerText=`${e}% Complete`}function ht(){let t=ut();pt(function(t){let e=document.querySelector(`[data-statusbar="${o}"]`),n=document.createElement("div");return e.firstChild&&e.removeChild(e.firstChild),n.style.width=`${t}%`,n.style.height="100%",e.appendChild(n),e}(t.percentageArray[o]),t.percentageArray[o])}function ft(){localStorage.setItem("storedProjectList",JSON.stringify(p)),localStorage.setItem("projectInfo",JSON.stringify(f))}function Ct(t){Object.defineProperty(t,"status",{set(e){t._status=e}}),t.info=function(t){return`Title: ${t._title} \r\n\n        Description: ${t._description} \r\n\n        Due Date: ${t._dueDate} \r\n\n        Priority: ${t._priority} \r\n\n        Notes: ${t._notes} `}(t)}function gt(t){y();let e=b(),n=E(e,t);L(t),v(n),P(n),q($(n));let i=k(e),s=x(i);S(s),I(A(i));let a=B(i);N(a),j(),T(a),_(s)}function yt(t){Y(t);let e=W();e.setAttribute("data-taskcontainer",`${[o]}${p[o].length-1}`),e.setAttribute("data-specifictaskcontainer",""+(p[o].length-1));let n=Z(t,e);n.setAttribute("data-checkbox",`${[o]}${p[o].length-1}`),n.setAttribute("data-specificcheckbox",""+(p[o].length-1));let i=X(e,t);i.setAttribute("data-task",`${[o]}${p[o].length-1}`),i.setAttribute("data-specifictask",""+(p[o].length-1)),ht();let s=tt(e),a=et(s);a.setAttribute("data-edit",`${[o]}${p[o].length-1}`),a.setAttribute("data-specificedit",""+(p[o].length-1));let d=nt(s);d.setAttribute("data-deleteItem",`${[o]}${p[o].length-1}`),d.setAttribute("data-specificdeleteItem",""+(p[o].length-1)),it(n),st(a),at(d),dt(),ot(d),ct(n),lt(n),rt(n)}M.addEventListener("click",(function(){F.classList.contains("addItem")?function(){let t=n();if(null!=t&&""!=t.dueDate){Y(t);let e=W();e.setAttribute("data-taskcontainer",`${[o]}${p[o].length-1}`),e.setAttribute("data-specifictaskcontainer",""+(p[o].length-1));let n=Z(t,e);n.setAttribute("data-checkbox",`${[o]}${p[o].length-1}`),n.setAttribute("data-specificcheckbox",""+(p[o].length-1));let i=X(e,t);i.setAttribute("data-task",`${[o]}${p[o].length-1}`),i.setAttribute("data-specifictask",""+(p[o].length-1)),ht();let s=tt(e),a=et(s);a.setAttribute("data-edit",`${[o]}${p[o].length-1}`),a.setAttribute("data-specificedit",""+(p[o].length-1));let d=nt(s);d.setAttribute("data-deleteItem",`${[o]}${p[o].length-1}`),d.setAttribute("data-specificdeleteItem",""+(p[o].length-1)),it(n),st(a),at(d),dt(),ot(d),ct(n),lt(n),rt(n),D(),w.classList.add("hidden"),ft()}else alert("Please Fill Out Required Fields")}():F.classList.contains("editItem")&&function(){F.classList.remove("addItem");let t=n();var e;null!=t&&""!=t.dueDate?(G.innerText="",G.innerText=t.info,function(t){let e=G.parentNode,n=G.dataset.specifictask,i=e.parentNode.id;p[i].splice(n,1,t)}(t),function(t){let e=document.querySelector(`[data-task="${z}"]`),n=e.dataset.specifictask,i=e.parentNode.parentNode.id;"Complete"!=t.status?(e.classList.add("taskNotComplete"),e.classList.remove("taskComplete"),p[i][n].status="Not Complete"):"Complete"==t.status&&(e.classList.remove("taskNotComplete"),e.classList.add("taskComplete"),p[i][n].status="Complete")}(t),"Complete"!=(e=t).status?(U=document.querySelector(`[data-checkbox="${z}"]`),U.classList.add("notComplete"),U.classList.remove("Complete")):"Complete"==e.status&&(U=document.querySelector(`[data-checkbox="${z}"]`),U.classList.add("Complete"),U.classList.remove("notComplete")),function(){let t=ut(),e=G.parentNode.parentNode.id,n=function(t){let e=G.parentNode.parentNode.id,n=document.querySelector(`[data-statusbar="${e}"]`),i=document.createElement("div");return n.firstChild&&n.removeChild(n.firstChild),i.style.width=`${t}%`,i.style.height="100%",n.appendChild(i),n}(t.percentageArray[e]);NaN!=t.percentageArray[e]&&pt(n,t.percentageArray[e])}(),D(),w.classList.add("hidden"),ft()):alert("Please Fill Out Required Fields")}()})),K.addEventListener("click",(()=>D())),Q.addEventListener("click",(()=>w.classList.add("hidden"))),window.onload=()=>{!function(){let t=JSON.parse(localStorage.getItem("storedProjectList")),e=JSON.parse(localStorage.getItem("projectInfo"));for(const t in e){let i=e[t];(n=i).info=function(t){return`Project Title: ${t._title} \r\n\n        Project Description: ${t._description} \r\n`}(n),gt(i)}var n;for(const e in t)""!=t&&t[e].forEach((function(t){g=document.getElementById(e),o=e;let n=t;Ct(n),yt(n)}))}()}}()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dC8uL3NyYy9wcm9qZWN0LmpzIiwid2VicGFjazovL3RvLWRvLWxpc3QvLi9zcmMvYXBwbGljYXRpb25Mb2dpYy5qcyIsIndlYnBhY2s6Ly90by1kby1saXN0Ly4vc3JjL2RvbS5qcyIsIndlYnBhY2s6Ly90by1kby1saXN0Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIFRvRG9JdGVtIHtcbiAgICBjb25zdHJ1Y3Rvcih0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5LCBub3Rlcywgc3RhdHVzKSB7XG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgICAgICB0aGlzLmR1ZURhdGUgPSBkdWVEYXRlO1xuICAgICAgICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XG4gICAgICAgIHRoaXMubm90ZXMgPSBub3RlcztcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gICAgfVxuXG4gICAgZ2V0IHRpdGxlKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuX3RpdGxlKVxuICAgIH1cblxuICAgIGdldCBzdGF0dXMoKSB7XG4gICAgICAgIHJldHVybiAoYCR7dGhpcy5fc3RhdHVzfWApXG4gICAgfVxuXG4gICAgZ2V0IGR1ZURhdGUoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5fZHVlRGF0ZSlcbiAgICB9XG5cbiAgICBnZXQgcHJpb3JpdHkoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5fcHJpb3JpdHkpXG4gICAgfVxuXG4gICAgZ2V0IGluZm8oKSB7XG4gICAgICAgIHJldHVybiAoYFRpdGxlOiAke3RoaXMuX3RpdGxlfSBcXHJcXG5cbiAgICAgICAgRGVzY3JpcHRpb246ICR7dGhpcy5fZGVzY3JpcHRpb259IFxcclxcblxuICAgICAgICBEdWUgRGF0ZTogJHt0aGlzLl9kdWVEYXRlfSBcXHJcXG5cbiAgICAgICAgUHJpb3JpdHk6ICR7dGhpcy5fcHJpb3JpdHl9IFxcclxcblxuICAgICAgICBOb3RlczogJHt0aGlzLl9ub3Rlc30gYCkgXG4gICAgfVxuXG4gICAgc2V0IHRpdGxlKG5ld1RpdGxlKSB7XG4gICAgICAgIHRoaXMuX3RpdGxlID0gbmV3VGl0bGVcbiAgICB9XG5cbiAgICBzZXQgZGVzY3JpcHRpb24obmV3RGVzY3JpcHRpb24pIHtcbiAgICAgICAgdGhpcy5fZGVzY3JpcHRpb24gPSBuZXdEZXNjcmlwdGlvblxuICAgIH1cblxuICAgIHNldCBwcmlvcml0eShuZXdQcmlvcml0eSkge1xuICAgICAgICB0aGlzLl9wcmlvcml0eSA9IG5ld1ByaW9yaXR5XG4gICAgfVxuXG4gICAgc2V0IGR1ZURhdGUobmV3RHVlRGF0ZSkge1xuICAgICAgICB0aGlzLl9kdWVEYXRlID0gbmV3RHVlRGF0ZVxuICAgIH1cblxuICAgIHNldCBub3RlcyhuZXdOb3Rlcykge1xuICAgICAgICB0aGlzLl9ub3RlcyA9IG5ld05vdGVzXG4gICAgfVxuXG4gICAgc2V0IHN0YXR1cyhuZXdTdGF0dXMpIHtcbiAgICAgICAgdGhpcy5fc3RhdHVzID0gbmV3U3RhdHVzXG4gICAgfVxuXG4gICAgXG59XG5cblxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvamVjdCB7XG4gICAgY29uc3RydWN0b3IodGl0bGUsIGRlc2NyaXB0aW9uKSB7XG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgIH1cblxuICAgIGdldCB0aXRsZSgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl90aXRsZSlcbiAgICB9XG5cbiAgICBnZXQgZGVzY3JpcHRpb24oKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5fZGVzY3JpcHRpb24pXG4gICAgfVxuXG4gICAgZ2V0IGluZm8oKSB7XG4gICAgICAgIHJldHVybiAoYFByb2plY3QgVGl0bGU6ICR7dGhpcy5fdGl0bGV9IFxcclxcblxuICAgICAgICBQcm9qZWN0IERlc2NyaXB0aW9uOiAke3RoaXMuX2Rlc2NyaXB0aW9ufSBgKSBcbiAgICB9XG5cbiAgICBzZXQgdGl0bGUobmV3VGl0bGUpIHtcbiAgICAgICAgdGhpcy5fdGl0bGUgPSBuZXdUaXRsZVxuICAgIH1cblxuICAgIHNldCBkZXNjcmlwdGlvbihuZXdEZXNjcmlwdGlvbikge1xuICAgICAgICB0aGlzLl9kZXNjcmlwdGlvbiA9IG5ld0Rlc2NyaXB0aW9uXG4gICAgfVxufSIsImltcG9ydCBUb0RvSXRlbSBmcm9tIFwiLi90YXNrLmpzXCI7XG5pbXBvcnQgUHJvamVjdCBmcm9tIFwiLi9wcm9qZWN0LmpzXCI7XG5cbmZ1bmN0aW9uIGFkZEl0ZW0oKSB7XG4gICAgbGV0IGl0ZW1OYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2l0ZW1OYW1lJykudmFsdWU7XG4gICAgbGV0IGl0ZW1EZXNjcmlwdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpdGVtRGVzY3JpcHRpb24nKS52YWx1ZTtcbiAgICBsZXQgZHVlRGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkdWVEYXRlJykudmFsdWU7XG4gICAgbGV0IHByaW9yaXR5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByaW9yaXR5JykudmFsdWU7XG4gICAgbGV0IG5vdGVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25vdGVzJykudmFsdWU7XG4gICAgbGV0IGNvbXBsZXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbXBsZXRlJykudmFsdWU7XG5cbiAgICBsZXQgaXRlbSA9IG5ldyBUb0RvSXRlbShpdGVtTmFtZSwgaXRlbURlc2NyaXB0aW9uLCBkdWVEYXRlLCBwcmlvcml0eSwgbm90ZXMsIGNvbXBsZXRlKTtcbiAgICByZXR1cm4gaXRlbTtcbiAgICBcbn1cblxuZnVuY3Rpb24gYWRkUHJvamVjdCgpIHtcbiAgICBjb25zdCBwcm9qZWN0VGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdE5hbWUnKS52YWx1ZTtcbiAgICBjb25zdCBwcm9qZWN0RGVzY3JpcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdERlc2NyaXB0aW9uJykudmFsdWU7XG5cbiAgICBsZXQgcHJvamVjdCA9IG5ldyBQcm9qZWN0KHByb2plY3RUaXRsZSwgcHJvamVjdERlc2NyaXB0aW9uKVxuICAgIHJldHVybiBwcm9qZWN0O1xufVxuXG5leHBvcnQge2FkZEl0ZW0sIGFkZFByb2plY3R9IiwiaW1wb3J0IHsgYWRkSXRlbSwgYWRkUHJvamVjdCB9IGZyb20gXCIuL2FwcGxpY2F0aW9uTG9naWMuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZnVuY3Rpb25hbGl0eSgpIHtcbiAgICBjb25zdCBtYWluQm9keSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluJyk7XG4gICAgY29uc3QgYWRkQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZEJ1dHRvbicpO1xuICAgIGNvbnN0IHByb2plY3RGb3JtQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3RGb3JtQ29udGFpbmVyJyk7XG4gICAgY29uc3QgcHJvamVjdFN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0U3VibWl0QnV0dG9uJyk7XG4gICAgY29uc3QgcHJvamVjdENsb3NlQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3RDbG9zZScpXG4gICAgbGV0IGFkZFRhc2tJZCA9IFwiXCI7XG4gICAgbGV0IGRlbGV0ZVByb2plY3RJZCA9IFwiXCI7XG4gICAgbGV0IHByb2plY3RFZGl0SUQgPSBcIlwiXG4gICAgbGV0IHByb2plY3RUb0RlbGV0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRlbGV0ZVByb2plY3RJZCk7XG4gICAgbGV0IHRvRG9CdXR0b25MaXN0ID0gW107XG4gICAgbGV0IGRlbGV0ZUJ1dHRvbkxpc3QgPSBbXTtcbiAgICBsZXQgcHJvamVjdExpc3QgPSBbXTtcbiAgICBsZXQgc3RvcmVkUHJvamVjdExpc3QgPSBbXVxuICAgIGxldCBwcm9qZWN0RWRpdEJ1dHRvbkxpc3QgPSBbXVxuICAgIGxldCBwcm9qZWN0TGlzdEluZm8gPSBbXTtcbiAgICBsZXQgc3RvcmVkUHJvamVjdExpc3RJbmZvID0gW11cbiAgICBsZXQgc2VsZWN0ZWRQcm9qZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYWRkVGFza0lkKTtcblxuXG4gICAgLy8gcHJvamVjdCBmdW5jdGlvbnNcblxuICAgIGZ1bmN0aW9uIGFkZFRvUHJvamVjdExpc3QoKSB7XG4gICAgICAgIHByb2plY3RMaXN0LnB1c2goW10pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZFByb2plY3RMaXN0SW5mbyhwcm9qZWN0KSB7XG4gICAgICAgIHByb2plY3RMaXN0SW5mby5wdXNoKHByb2plY3QpXG4gICAgICAgIHN0b3JlZFByb2plY3RMaXN0SW5mby5wdXNoKHByb2plY3QpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlUHJvamVjdENvbnRhaW5lcigpIHtcbiAgICAgICAgbGV0IHByb2plY3RDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICBtYWluQm9keS5hcHBlbmRDaGlsZChwcm9qZWN0Q29udGFpbmVyKTtcbiAgICAgICAgcmV0dXJuIHByb2plY3RDb250YWluZXJcbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gY3JlYXRlTmV3UHJvamVjdChwcm9qZWN0Q29udGFpbmVyLCBwcm9qZWN0KSB7XG4gICAgICAgIGxldCBuZXdQcm9qZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBuZXdQcm9qZWN0LmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0XCIpXG4gICAgICAgICAgICBsZXQgcHJvamVjdEluZm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICAgICAgICBwcm9qZWN0SW5mby5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0SW5mbycpXG4gICAgICAgICAgICBwcm9qZWN0SW5mby5zZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvamVjdEluZm8nLCBwcm9qZWN0TGlzdC5sZW5ndGggLSAxKVxuICAgICAgICAgICAgcHJvamVjdEluZm8udGV4dENvbnRlbnQgPSBwcm9qZWN0LmluZm9cbiAgICAgICAgICAgIHByb2plY3RDb250YWluZXIuYXBwZW5kQ2hpbGQobmV3UHJvamVjdClcbiAgICAgICAgICAgIG5ld1Byb2plY3QuYXBwZW5kQ2hpbGQocHJvamVjdEluZm8pO1xuICAgICAgICByZXR1cm4gbmV3UHJvamVjdFxuICAgICAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gc2V0TmV3UHJvamVjdElkKG5ld1Byb2plY3QpIHtcbiAgICAgICAgbmV3UHJvamVjdC5zZXRBdHRyaWJ1dGUoJ2lkJywgcHJvamVjdExpc3QubGVuZ3RoIC0gMSk7XG4gICAgICAgIHJldHVybiBuZXdQcm9qZWN0LmlkXG4gICAgfVxuICAgIFxuXG4gICAgZnVuY3Rpb24gYWRkU29ydEJ1dHRvbnMgKG5ld1Byb2plY3QpIHtcbiAgICAgICAgbGV0IHNvcnRCdXR0b25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGxldCBzb3J0T3B0aW9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xuICAgICAgICBzb3J0T3B0aW9ucy5zZXRBdHRyaWJ1dGUoJ2RhdGEtc29ydGlucHV0JywgcHJvamVjdExpc3QubGVuZ3RoLTEpXG4gICAgICAgIHNvcnRCdXR0b25zLmNsYXNzTGlzdC5hZGQoJ3NvcnRCdXR0b25zJylcbiAgICAgICAgbGV0IHNvcnROYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgIHNvcnROYW1lLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIFwiTmFtZVwiKTtcbiAgICAgICAgc29ydE5hbWUudGV4dENvbnRlbnQgPSBcIlNvcnQgQnkgTmFtZVwiXG4gICAgICAgIGxldCBzb3J0UHJpb3JpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgc29ydFByaW9yaXR5LnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIFwiUHJpb3JpdHlcIik7XG4gICAgICAgIHNvcnRQcmlvcml0eS50ZXh0Q29udGVudCA9IFwiU29ydCBCeSBQcmlvcml0eVwiXG4gICAgICAgIGxldCBzb3J0RHVlRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBzb3J0RHVlRGF0ZS5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBcImR1ZURhdGVcIik7XG4gICAgICAgIHNvcnREdWVEYXRlLnRleHRDb250ZW50ID0gXCJTb3J0IEJ5IER1ZSBEYXRlXCJcbiAgICAgICAgbGV0IHNvcnRDb21wbGV0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBzb3J0Q29tcGxldGUuc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgXCJDb21wbGV0aW9uXCIpO1xuICAgICAgICBzb3J0Q29tcGxldGUudGV4dENvbnRlbnQgPSBcIlNvcnQgQnkgQ29tcGxldGlvblwiXG4gICAgICAgIGxldCBzb3J0U3VibWl0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJylcbiAgICAgICAgc29ydFN1Ym1pdC5zZXRBdHRyaWJ1dGUoJ2RhdGEtc29ydCcsIHByb2plY3RMaXN0Lmxlbmd0aC0xKTtcbiAgICAgICAgc29ydFN1Ym1pdC50ZXh0Q29udGVudCA9IFwiU3VibWl0XCJcbiAgICAgICAgbmV3UHJvamVjdC5hcHBlbmRDaGlsZChzb3J0QnV0dG9ucyk7XG4gICAgICAgIHNvcnRCdXR0b25zLmFwcGVuZENoaWxkKHNvcnRPcHRpb25zKTtcbiAgICAgICAgc29ydE9wdGlvbnMuYXBwZW5kQ2hpbGQoc29ydE5hbWUpXG4gICAgICAgIHNvcnRPcHRpb25zLmFwcGVuZENoaWxkKHNvcnRQcmlvcml0eSlcbiAgICAgICAgc29ydE9wdGlvbnMuYXBwZW5kQ2hpbGQoc29ydER1ZURhdGUpO1xuICAgICAgICBzb3J0T3B0aW9ucy5hcHBlbmRDaGlsZChzb3J0Q29tcGxldGUpXG4gICAgICAgIHNvcnRCdXR0b25zLmFwcGVuZENoaWxkKHNvcnRTdWJtaXQpXG5cbiAgICAgICAgcmV0dXJuIHNvcnRTdWJtaXRcbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gYWRkQnV0dG9uU2VjdGlvbihwcm9qZWN0Q29udGFpbmVyKSB7XG4gICAgICAgIGxldCBidXR0b25TZWN0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBidXR0b25TZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ2J1dHRvblNlY3Rpb24nKTtcbiAgICAgICAgICAgIGJ1dHRvblNlY3Rpb24uc2V0QXR0cmlidXRlKCdkYXRhLXByb2plY3RCdXR0b25zJywgcHJvamVjdExpc3QubGVuZ3RoLTEpO1xuICAgICAgICAgICAgcHJvamVjdENvbnRhaW5lci5hcHBlbmRDaGlsZChidXR0b25TZWN0aW9uKTtcbiAgICAgICAgICAgIHJldHVybiBidXR0b25TZWN0aW9uXG4gICAgfSAgIFxuXG4gICAgICBmdW5jdGlvbiBhZGRQcm9qZWN0QWRkQnV0dG9uKGJ1dHRvblNlY3Rpb24pIHtcbiAgICAgICAgbGV0IGFkZFRvRG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgYWRkVG9Eby5jbGFzc0xpc3QuYWRkKCdhZGRUb0RvQnV0dG9uJyk7XG4gICAgICAgIGFkZFRvRG8uc2V0QXR0cmlidXRlKCdkYXRhLWFkZCcsIHByb2plY3RMaXN0Lmxlbmd0aCAtIDEpO1xuICAgICAgICBhZGRUb0RvLmlubmVyVGV4dCA9IFwiQWRkIFRhc2tcIjtcbiAgICAgICAgYnV0dG9uU2VjdGlvbi5hcHBlbmRDaGlsZChhZGRUb0RvKTtcbiAgICAgICAgcmV0dXJuIGFkZFRvRG9cbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gcHJvamVjdFRvRG9CdXR0b25MaXN0KGFkZFRvRG8pIHtcbiAgICAgICAgdG9Eb0J1dHRvbkxpc3QucHVzaChhZGRUb0RvKTtcbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gYWRkUHJvamVjdERlbGV0ZUJ1dHRvbihidXR0b25TZWN0aW9uKSB7XG4gICAgICAgIGxldCBkZWxldGVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgZGVsZXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2RlbGV0ZUJ1dHRvbicpO1xuICAgICAgICBkZWxldGVCdXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLWRlbGV0ZScsIHByb2plY3RMaXN0Lmxlbmd0aCAtIDEpO1xuICAgICAgICBkZWxldGVCdXR0b24uaW5uZXJUZXh0ID0gXCJEZWxldGVcIjtcbiAgICAgICAgYnV0dG9uU2VjdGlvbi5hcHBlbmRDaGlsZChkZWxldGVCdXR0b24pO1xuICAgICAgICByZXR1cm4gZGVsZXRlQnV0dG9uXG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIHByb2plY3REZWxldGVCdXR0b25MaXN0KGRlbGV0ZUJ1dHRvbikge1xuICAgICAgICBkZWxldGVCdXR0b25MaXN0LnB1c2goZGVsZXRlQnV0dG9uKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGRQcm9qZWN0RWRpdEJ1dHRvbihidXR0b25TZWN0aW9uKSB7XG4gICAgICAgIGxldCBlZGl0QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGVkaXRCdXR0b24uY2xhc3NMaXN0LmFkZCgncHJvamVjdEVkaXRCdXR0b24nKTtcbiAgICAgICAgZWRpdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvamVjdGVkaXQnLCBwcm9qZWN0TGlzdC5sZW5ndGggLSAxKTtcbiAgICAgICAgZWRpdEJ1dHRvbi5pbm5lclRleHQgPSBcIkVkaXQgUHJvamVjdFwiO1xuICAgICAgICBidXR0b25TZWN0aW9uLmFwcGVuZENoaWxkKGVkaXRCdXR0b24pO1xuICAgICAgICByZXR1cm4gZWRpdEJ1dHRvblxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHByb2pFZGl0QnV0dG9uTGlzdChlZGl0QnV0dG9uKSB7XG4gICAgICAgIHByb2plY3RFZGl0QnV0dG9uTGlzdC5wdXNoKGVkaXRCdXR0b24pXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJvamVjdEVkaXRCdXR0b25GdW5jdGlvbmFsaXR5KGVkaXRCdXR0b24pIHtcbiAgICAgICAgZWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcHJvamVjdEZvcm1Db250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICBwcm9qZWN0Rm9ybUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdlZGl0JylcbiAgICAgICAgICAgIHByb2plY3RFZGl0SUQgPSBlZGl0QnV0dG9uLmRhdGFzZXQucHJvamVjdGVkaXQ7XG4gICAgICAgIH0pXG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIGNsZWFySW5wdXRzKCkge1xuICAgICAgICBsZXQgaW5wdXRWYWx1ZXMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0JykpXG4gICAgICAgIGZvciAobGV0IGk9MDsgaTxpbnB1dFZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpbnB1dFZhbHVlc1tpXS52YWx1ZSA9IFwiXCJcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZEl0ZW1Ub1Byb2plY3QoKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG9Eb0J1dHRvbkxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdG9Eb0J1dHRvbkxpc3RbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgaXRlbUZvcm1Db250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICBhZGRUYXNrSWQgPSB0b0RvQnV0dG9uTGlzdFtpXS5kYXRhc2V0LmFkZDtcbiAgICAgICAgICAgIHNlbGVjdGVkUHJvamVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGFkZFRhc2tJZCk7XG4gICAgICAgICAgICBpdGVtRm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdlZGl0SXRlbScpO1xuICAgICAgICAgICAgaXRlbUZvcm0uY2xhc3NMaXN0LmFkZCgnYWRkSXRlbScpXG4gICAgICAgICAgICB9KVxuICAgIH19XG5cbiAgICBmdW5jdGlvbiBkZWxldGVCdXR0b25GdW5jdGlvbmFsaXR5KGJ1dHRvbikge1xuICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgZGVsZXRlUHJvamVjdElkID0gYnV0dG9uLmRhdGFzZXQuZGVsZXRlO1xuICAgICAgICAgICAgcHJvamVjdFRvRGVsZXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGVsZXRlUHJvamVjdElkKTtcbiAgICAgICAgICAgIHByb2plY3RMaXN0LnNwbGljZShkZWxldGVQcm9qZWN0SWQsIDEpO1xuICAgICAgICAgICAgcHJvamVjdExpc3RJbmZvLnNwbGljZShkZWxldGVQcm9qZWN0SWQsIDEpXG4gICAgICAgICAgICB0b0RvQnV0dG9uTGlzdC5zcGxpY2UoZGVsZXRlUHJvamVjdElkLDEpO1xuICAgICAgICAgICAgZGVsZXRlQnV0dG9uTGlzdC5zcGxpY2UoZGVsZXRlUHJvamVjdElkLCAxKTtcbiAgICAgICAgICAgIHRvRG9CdXR0b25MaXN0LnNwbGljZShkZWxldGVQcm9qZWN0SWQsIDEpO1xuICAgICAgICAgICAgbGV0IHByb2plY3RCdXR0b25zVG9EZWxldGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1wcm9qZWN0YnV0dG9ucz1cIiR7ZGVsZXRlUHJvamVjdElkfVwiXWApXG4gICAgICAgICAgICBtYWluQm9keS5yZW1vdmVDaGlsZChwcm9qZWN0VG9EZWxldGUucGFyZW50Tm9kZSk7XG4gICAgICAgICAgICBzYXZlVG9Mb2NhbFN0b3JhZ2UoKTtcbiAgICAgICAgICAgICAgXG4gICAgfSl9XG5cbiAgICBmdW5jdGlvbiBzb3J0UHJvamVjdFRhc2tzKHByb2plY3QsIHR5cGVvZlNvcnQpIHtcbiAgICAgICAgaWYgKHR5cGVvZlNvcnQudmFsdWUgPT0gXCJOYW1lXCIpIHtcbiAgICAgICAgICAgIHByb2plY3Quc29ydCgoYSwgYikgPT4gKGEudGl0bGUgPiBiLnRpdGxlKSA/IDEgOiAtMSlcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2ZTb3J0LnZhbHVlID09IFwiUHJpb3JpdHlcIikge1xuICAgICAgICAgICAgcHJvamVjdC5zb3J0KChhLCBiKSA9PiAoYS5wcmlvcml0eSA+IGIucHJpb3JpdHkpID8gMSA6IC0xKVxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZlNvcnQudmFsdWUgPT0gXCJDb21wbGV0aW9uXCIpIHtcbiAgICAgICAgICAgIHByb2plY3Quc29ydCgoYSwgYikgPT4gKGEuc3RhdHVzID4gYi5zdGF0dXMpID8gLTEgOiAxKVxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZlNvcnQudmFsdWUgPT0gXCJkdWVEYXRlXCIpIHtcbiAgICAgICAgICAgIHByb2plY3Quc29ydCgoYSwgYikgPT4gKGEuZHVlRGF0ZSA+IGIuZHVlRGF0ZSkgPyAxIDogLTEpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzdWJtaXRCdXR0b25Tb3J0KHN1Ym1pdEJ1dHRvbikge1xuICAgICAgICBzdWJtaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgbGV0IHN1Ym1pdEJ1dHRvbklEID0gc3VibWl0QnV0dG9uLmRhdGFzZXQuc29ydFxuICAgICAgICBsZXQgdHlwZW9mU29ydCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXNvcnRpbnB1dD1cIiR7c3VibWl0QnV0dG9uSUR9XCJdYCk7XG4gICAgICAgIGxldCBwcm9qZWN0VG9Tb3J0ID0gcHJvamVjdExpc3Rbc3VibWl0QnV0dG9uSURdXG4gICAgICAgIGlmIChwcm9qZWN0VG9Tb3J0Lmxlbmd0aCAhPSAwKSB7XG4gICAgICAgICAgICBzb3J0UHJvamVjdFRhc2tzKHByb2plY3RUb1NvcnQsIHR5cGVvZlNvcnQpO1xuICAgICAgICAgICAgZGlzcGxheVNvcnRlZFByb2plY3Qoc3VibWl0QnV0dG9uSUQsIHByb2plY3RUb1NvcnQpXG4gICAgICAgICAgICBzYXZlVG9Mb2NhbFN0b3JhZ2UoKSBcbiAgICAgICAgfVxuICAgIH0pXG4gICAgICB9XG5cbiAgICBmdW5jdGlvbiBkaXNwbGF5U29ydGVkUHJvamVjdChzdWJtaXRCdXR0b25JRCwgcHJvamVjdCl7XG4gICAgICAgIGxldCBwcm9qZWN0VG9DbGVhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHN1Ym1pdEJ1dHRvbklEKTtcbiAgICAgICAgcmVtb3ZlQWxsQ2hpbGROb2Rlcyhwcm9qZWN0VG9DbGVhciwgcHJvamVjdCk7XG4gICAgICAgIGZvciAobGV0IGkgPTA7IGk8IHByb2plY3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBuZXdUYXNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBuZXdUYXNrLmNsYXNzTGlzdC5hZGQoXCJ0YXNrQ29udGFpbmVyXCIpO1xuICAgICAgICAgICAgcHJvamVjdFRvQ2xlYXIuYXBwZW5kQ2hpbGQobmV3VGFzayk7ICAgICAgICAgICAgXG4gICAgICAgICAgICBuZXdUYXNrLnNldEF0dHJpYnV0ZSgnZGF0YS10YXNrY29udGFpbmVyJywgYCR7c3VibWl0QnV0dG9uSUR9JHtbaV19YClcbiAgICAgICAgICAgIG5ld1Rhc2suc2V0QXR0cmlidXRlKCdkYXRhLXNwZWNpZmljdGFza2NvbnRhaW5lcicsIFtpXSlcbiAgICAgICAgICAgIGxldCBuZXdDaGVja2JveCA9IGNyZWF0ZUNoZWNrYm94KHByb2plY3RMaXN0W3N1Ym1pdEJ1dHRvbklEXVtpXSwgbmV3VGFzayk7XG4gICAgICAgICAgICBuZXdDaGVja2JveC5zZXRBdHRyaWJ1dGUoJ2RhdGEtY2hlY2tib3gnLCBgJHtzdWJtaXRCdXR0b25JRH0ke1tpXX1gKVxuICAgICAgICAgICAgbmV3Q2hlY2tib3guc2V0QXR0cmlidXRlKCdkYXRhLXNwZWNpZmljY2hlY2tib3gnLCBbaV0pXG4gICAgICAgICAgICBsZXQgbmV3RGl2ID0gbmV3SXRlbURpdihuZXdUYXNrLCBwcm9qZWN0TGlzdFtzdWJtaXRCdXR0b25JRF1baV0pXG4gICAgICAgICAgICBuZXdEaXYuc2V0QXR0cmlidXRlKCdkYXRhLXRhc2snLCBgJHtzdWJtaXRCdXR0b25JRH0ke1tpXX1gKTtcbiAgICAgICAgICAgIG5ld0Rpdi5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3BlY2lmaWN0YXNrJywgW2ldKVxuXG4gICAgICAgICAgICBsZXQgaXRlbUJ1dHRvbnMgPSBuZXdJdGVtQnV0dG9ucyhuZXdUYXNrKTtcbiAgICAgICAgICAgIGxldCBlZGl0QnV0dG9uID0gbmV3RWRpdEJ1dHRvbihpdGVtQnV0dG9ucyk7XG4gICAgICAgICAgICBlZGl0QnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS1lZGl0JywgYCR7c3VibWl0QnV0dG9uSUR9JHtbaV19YClcbiAgICAgICAgICAgIGVkaXRCdXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLXNwZWNpZmljZWRpdCcsIFtpXSlcbiAgICAgICAgICAgIGxldCBkZWxldGVCdXR0b24gPSBuZXdEZWxldGVUYXNrQnV0dG9uKGl0ZW1CdXR0b25zKTtcbiAgICAgICAgICAgIGRlbGV0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtZGVsZXRlSXRlbScsIGAke3N1Ym1pdEJ1dHRvbklEfSR7W2ldfWApXG4gICAgICAgICAgICBkZWxldGVCdXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLXNwZWNpZmljZGVsZXRlSXRlbScsIFtpXSlcbiAgICAgICAgICAgIHB1c2hDaGVja2JveFRvTGlzdChuZXdDaGVja2JveCk7XG4gICAgICAgICAgICBwdXNoRWRpdFRvTGlzdChlZGl0QnV0dG9uKTtcbiAgICAgICAgICAgIHB1c2hEZWxldGVUYXNrVG9MaXN0KGRlbGV0ZUJ1dHRvbik7XG5cbiAgICAgICAgICAgIGNyZWF0ZUVkaXRCdXR0b25MaXN0KCk7XG4gICAgICAgICAgICBkZWxldGVUYXNrQnV0dG9uRnVuY3Rpb25hbGl0eShkZWxldGVCdXR0b24pO1xuICAgICAgICAgICAgYWRkQ2hlY2tib3hTdGF0dXMobmV3Q2hlY2tib3gpO1xuICAgICAgICAgICAgYWRkVGFza1N0YXR1cyhuZXdDaGVja2JveCk7XG4gICAgICAgICAgICBjaGFuZ2VTdGF0dXNCYXJPbkNoZWNrYm94Q2xpY2sobmV3Q2hlY2tib3gpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZW1vdmVBbGxDaGlsZE5vZGVzKHBhcmVudCwgcHJvamVjdFRvU29ydCkge1xuICAgICAgICBmb3IgKGxldCBpPTA7IGk8cHJvamVjdFRvU29ydC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKHBhcmVudC5sYXN0Q2hpbGQpO1xuICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVTdGF0dXNCYXIoc2VjdGlvbikge1xuICAgICAgICBsZXQgc3RhdHVzQmFyQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgc3RhdHVzQmFyQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3N0YXR1c0JhckNvbnRhaW5lcicpXG4gICAgICAgIGxldCBzdGF0dXNCYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgbGV0IHBlcmNlbnRhZ2VUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgc3RhdHVzQmFyLmNsYXNzTGlzdC5hZGQoJ3N0YXR1c0JhcicpXG4gICAgICAgIHN0YXR1c0Jhci5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3RhdHVzYmFyJywgcHJvamVjdExpc3QubGVuZ3RoIC0xKVxuICAgICAgICBwZXJjZW50YWdlVGV4dC5jbGFzc0xpc3QuYWRkKCdwZXJjZW50YWdlVGV4dCcpXG4gICAgICAgIHBlcmNlbnRhZ2VUZXh0LnNldEF0dHJpYnV0ZSgnZGF0YS1wZXJjZW50YWdldGV4dCcsIHByb2plY3RMaXN0Lmxlbmd0aC0xKVxuICAgICAgICBzZWN0aW9uLmFwcGVuZENoaWxkKHN0YXR1c0JhckNvbnRhaW5lcilcbiAgICAgICAgc3RhdHVzQmFyQ29udGFpbmVyLmFwcGVuZENoaWxkKHN0YXR1c0JhcikgIFxuICAgICAgICBzdGF0dXNCYXJDb250YWluZXIuYXBwZW5kQ2hpbGQocGVyY2VudGFnZVRleHQpXG4gICAgICAgIHJldHVybiBzdGF0dXNiYXIgXG4gICAgfVxuICBcblxuLy8gcHJvamVjdCBldmVudCBsaXN0ZW5lcnNcblxuICAgIGFkZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICBwcm9qZWN0Rm9ybUNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKVxuICAgIH0pXG4gICAgXG5cbiAgICBwcm9qZWN0U3VibWl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghcHJvamVjdEZvcm1Db250YWluZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCdlZGl0JykpIHtcbiAgICAgICAgYWRkVG9Qcm9qZWN0TGlzdCgpO1xuICAgICAgICBsZXQgbmV3UHJvamVjdCA9IGFkZFByb2plY3QoKTtcbiAgICAgICAgbGV0IHByb2plY3RDb250YWluZXIgPSBjcmVhdGVQcm9qZWN0Q29udGFpbmVyKCk7XG4gICAgICAgIGxldCBwcm9qZWN0ID0gY3JlYXRlTmV3UHJvamVjdChwcm9qZWN0Q29udGFpbmVyLCBuZXdQcm9qZWN0KTtcbiAgICAgICAgYWRkUHJvamVjdExpc3RJbmZvKG5ld1Byb2plY3QpXG4gICAgICAgIGxldCBwcm9qZWN0SUQgPSBzZXROZXdQcm9qZWN0SWQocHJvamVjdCk7XG4gICAgICAgIGxldCBuZXdTdGF0dXNCYXIgPSBjcmVhdGVTdGF0dXNCYXIocHJvamVjdClcbiAgICAgICAgbGV0IHNvcnRCdXR0b25zID0gYWRkU29ydEJ1dHRvbnMocHJvamVjdCk7XG4gICAgICAgIHN1Ym1pdEJ1dHRvblNvcnQoc29ydEJ1dHRvbnMpXG4gICAgICAgIGxldCBidXR0b25TZWN0aW9uID0gYWRkQnV0dG9uU2VjdGlvbihwcm9qZWN0Q29udGFpbmVyKTtcbiAgICAgICAgbGV0IGVkaXRQcm9qZWN0QnV0dG9uID0gYWRkUHJvamVjdEVkaXRCdXR0b24oYnV0dG9uU2VjdGlvbik7XG4gICAgICAgIHByb2pFZGl0QnV0dG9uTGlzdChlZGl0UHJvamVjdEJ1dHRvbilcbiAgICAgICAgbGV0IGFkZEl0ZW1Ub1Byb2plY3RCdXR0b24gPSBhZGRQcm9qZWN0QWRkQnV0dG9uKGJ1dHRvblNlY3Rpb24pO1xuICAgICAgICBwcm9qZWN0VG9Eb0J1dHRvbkxpc3QoYWRkSXRlbVRvUHJvamVjdEJ1dHRvbik7XG4gICAgICAgIGxldCBkZWxldGVQcm9qZWN0QnV0dG9uID0gYWRkUHJvamVjdERlbGV0ZUJ1dHRvbihidXR0b25TZWN0aW9uKTtcbiAgICAgICAgcHJvamVjdERlbGV0ZUJ1dHRvbkxpc3QoZGVsZXRlUHJvamVjdEJ1dHRvbik7XG4gICAgICAgIGFkZEl0ZW1Ub1Byb2plY3QoKTtcbiAgICAgICAgZGVsZXRlQnV0dG9uRnVuY3Rpb25hbGl0eShkZWxldGVQcm9qZWN0QnV0dG9uKTtcbiAgICAgICAgcHJvamVjdEVkaXRCdXR0b25GdW5jdGlvbmFsaXR5KGVkaXRQcm9qZWN0QnV0dG9uKTtcblxuICAgICAgICBwcm9qZWN0Rm9ybUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgY2xlYXJJbnB1dHMoKTtcblxuICAgICAgICBzYXZlVG9Mb2NhbFN0b3JhZ2UoKVxuICAgIH1cbiAgICB9KVxuXG4gICAgcHJvamVjdFN1Ym1pdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAocHJvamVjdEZvcm1Db250YWluZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCdlZGl0JykpIHtcbiAgICAgICAgICAgIGxldCBwcm9qZWN0VG9SZXZpc2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1wcm9qZWN0aW5mbz1cIiR7cHJvamVjdEVkaXRJRH1cIl1gKTsgXG4gICAgICAgICAgICBsZXQgcmV2aXNlZFByb2plY3QgPSBhZGRQcm9qZWN0KCk7XG4gICAgICAgICAgICBwcm9qZWN0TGlzdEluZm8uc3BsaWNlKHByb2plY3RFZGl0SUQsIDEsIHJldmlzZWRQcm9qZWN0KVxuICAgICAgICAgICAgcHJvamVjdFRvUmV2aXNlLnRleHRDb250ZW50ID0gcmV2aXNlZFByb2plY3QuaW5mb1xuICAgICAgICAgICAgY2xlYXJJbnB1dHMoKVxuICAgICAgICAgICAgcHJvamVjdEZvcm1Db250YWluZXIuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgICBwcm9qZWN0Rm9ybUNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdlZGl0JylcbiAgICAgICAgICAgIHNhdmVUb0xvY2FsU3RvcmFnZSgpIFxuICAgICAgICB9XG4gICAgfSlcblxuICAgIHByb2plY3RDbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICBwcm9qZWN0Rm9ybUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKVxuICAgIH0pXG5cbi8vIHRhc2sgc2VjdGlvblxuXG4gICAgY29uc3QgaXRlbUZvcm1Db250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIml0ZW1Gb3JtQ29udGFpbmVyXCIpO1xuICAgIGxldCBpdGVtRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpdGVtRm9ybScpO1xuICAgIGxldCBkZWxldGVUYXNrQnV0dG9uSWQgPSBcIlwiO1xuICAgIGxldCBlZGl0VGFza0J1dHRvbkxpc3QgPSBbXVxuICAgIGxldCBkZWxldGVUYXNrQnV0dG9uTGlzdCA9IFtdXG4gICAgY29uc3QgaXRlbVN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpdGVtU3VibWl0QnV0dG9uJyk7XG4gICAgbGV0IGVkaXRCdXR0b25JZCA9IFwiXCI7XG4gICAgbGV0IHNlbGVjdGVkVGFza1RvRWRpdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVkaXRCdXR0b25JZCk7XG4gICAgbGV0IHRhc2tUb0RlbGV0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRlbGV0ZVRhc2tCdXR0b25JZCk7XG4gICAgbGV0IHJlc2V0QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc2V0JylcbiAgICBjb25zdCB0YXNrQ2xvc2VCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFza0Nsb3NlJyk7XG4gICAgbGV0IGNoZWNrQm94VG9DaGFuZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1jaGVja2JveD1cIiR7ZWRpdEJ1dHRvbklkfVwiXWApXG4gICAgbGV0IGNoZWNrYm94TGlzdCA9IFtdXG4gICAgbGV0IHRhc2tMaXN0ID0gW11cblxuXG4gICAgLy8gdGFzayBmdW5jdGlvbnMgXG4gICAgXG4gICAgZnVuY3Rpb24gYWRkVGFzaygpIHtcbiAgICAgICAgICAgIGxldCBpdGVtID0gYWRkSXRlbSgpO1xuICAgICAgICAgICAgaWYgKGl0ZW0gIT0gdW5kZWZpbmVkICYmIGl0ZW0uZHVlRGF0ZSAhPSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgYWRkSXRlbVRvUHJvamVjdExpc3QoaXRlbSlcbiAgICAgICAgICAgICAgICBsZXQgbmV3VGFzayA9IG5ld1Rhc2tDb250YWluZXIoKTtcbiAgICAgICAgICAgICAgICBuZXdUYXNrLnNldEF0dHJpYnV0ZSgnZGF0YS10YXNrY29udGFpbmVyJywgYCR7W2FkZFRhc2tJZF19JHtwcm9qZWN0TGlzdFthZGRUYXNrSWRdLmxlbmd0aCAtMX1gKVxuICAgICAgICAgICAgICAgIG5ld1Rhc2suc2V0QXR0cmlidXRlKCdkYXRhLXNwZWNpZmljdGFza2NvbnRhaW5lcicsIGAke3Byb2plY3RMaXN0W2FkZFRhc2tJZF0ubGVuZ3RoIC0xfWApXG4gICAgICAgICAgICAgICAgbGV0IG5ld0NoZWNrYm94ID0gY3JlYXRlQ2hlY2tib3goaXRlbSwgbmV3VGFzayk7XG4gICAgICAgICAgICAgICAgbmV3Q2hlY2tib3guc2V0QXR0cmlidXRlKCdkYXRhLWNoZWNrYm94JywgYCR7W2FkZFRhc2tJZF19JHtwcm9qZWN0TGlzdFthZGRUYXNrSWRdLmxlbmd0aCAtMX1gKVxuICAgICAgICAgICAgICAgIG5ld0NoZWNrYm94LnNldEF0dHJpYnV0ZSgnZGF0YS1zcGVjaWZpY2NoZWNrYm94JywgYCR7cHJvamVjdExpc3RbYWRkVGFza0lkXS5sZW5ndGggLTF9YClcbiAgICAgICAgICAgICAgICBsZXQgbmV3RGl2ID0gbmV3SXRlbURpdihuZXdUYXNrLCBpdGVtKTtcbiAgICAgICAgICAgICAgICBuZXdEaXYuc2V0QXR0cmlidXRlKCdkYXRhLXRhc2snLCBgJHtbYWRkVGFza0lkXX0ke3Byb2plY3RMaXN0W2FkZFRhc2tJZF0ubGVuZ3RoIC0xfWApO1xuICAgICAgICAgICAgICAgIG5ld0Rpdi5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3BlY2lmaWN0YXNrJywgYCR7cHJvamVjdExpc3RbYWRkVGFza0lkXS5sZW5ndGggLTF9YCk7XG5cbiAgICAgICAgICAgICAgICBmaWxsT3V0U3RhdHVzQmFyKCk7XG5cbiAgICAgICAgICAgICAgICBsZXQgaXRlbUJ1dHRvbnMgPSBuZXdJdGVtQnV0dG9ucyhuZXdUYXNrKTtcbiAgICAgICAgICAgICAgICBsZXQgZWRpdEJ1dHRvbiA9IG5ld0VkaXRCdXR0b24oaXRlbUJ1dHRvbnMpO1xuICAgICAgICAgICAgICAgIGVkaXRCdXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLWVkaXQnLCBgJHtbYWRkVGFza0lkXX0ke3Byb2plY3RMaXN0W2FkZFRhc2tJZF0ubGVuZ3RoIC0xfWApXG4gICAgICAgICAgICAgICAgZWRpdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3BlY2lmaWNlZGl0JywgYCR7cHJvamVjdExpc3RbYWRkVGFza0lkXS5sZW5ndGggLTF9YClcbiAgICAgICAgICAgICAgICBsZXQgZGVsZXRlQnV0dG9uID0gbmV3RGVsZXRlVGFza0J1dHRvbihpdGVtQnV0dG9ucyk7XG4gICAgICAgICAgICAgICAgZGVsZXRlQnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS1kZWxldGVJdGVtJywgYCR7W2FkZFRhc2tJZF19JHtwcm9qZWN0TGlzdFthZGRUYXNrSWRdLmxlbmd0aCAtMX1gKVxuICAgICAgICAgICAgICAgIGRlbGV0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3BlY2lmaWNkZWxldGVJdGVtJywgYCR7cHJvamVjdExpc3RbYWRkVGFza0lkXS5sZW5ndGggLTF9YClcbiAgICAgICAgICAgICAgICBwdXNoQ2hlY2tib3hUb0xpc3QobmV3Q2hlY2tib3gpO1xuICAgICAgICAgICAgICAgIHB1c2hFZGl0VG9MaXN0KGVkaXRCdXR0b24pO1xuICAgICAgICAgICAgICAgIHB1c2hEZWxldGVUYXNrVG9MaXN0KGRlbGV0ZUJ1dHRvbik7XG5cbiAgICAgICAgICAgICAgICBjcmVhdGVFZGl0QnV0dG9uTGlzdCgpO1xuICAgICAgICAgICAgICAgIGRlbGV0ZVRhc2tCdXR0b25GdW5jdGlvbmFsaXR5KGRlbGV0ZUJ1dHRvbik7XG4gICAgICAgICAgICAgICAgYWRkQ2hlY2tib3hTdGF0dXMobmV3Q2hlY2tib3gpO1xuICAgICAgICAgICAgICAgIGNoYW5nZVN0YXR1c0Jhck9uQ2hlY2tib3hDbGljayhuZXdDaGVja2JveCk7XG4gICAgICAgICAgICAgICAgYWRkVGFza1N0YXR1cyhuZXdDaGVja2JveCk7XG5cbiAgICAgICAgICAgICAgICBjbGVhcklucHV0cygpO1xuICAgICAgICAgICAgICAgIGl0ZW1Gb3JtQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuXG4gICAgICAgICAgICAgICAgc2F2ZVRvTG9jYWxTdG9yYWdlKClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYWxlcnQgKFwiUGxlYXNlIEZpbGwgT3V0IFJlcXVpcmVkIEZpZWxkc1wiKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cblxuICAgIGZ1bmN0aW9uIG5ld1Rhc2tDb250YWluZXIoKSB7XG4gICAgICAgIGxldCB0YXNrQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRhc2tDb250YWluZXIuY2xhc3NMaXN0LmFkZChcInRhc2tDb250YWluZXJcIik7XG4gICAgICAgIHNlbGVjdGVkUHJvamVjdC5hcHBlbmRDaGlsZCh0YXNrQ29udGFpbmVyKTtcbiAgICAgICAgcmV0dXJuIHRhc2tDb250YWluZXJcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIG5ld0l0ZW1EaXYodGFza0NvbnRhaW5lciwgaXRlbSkge1xuICAgICAgICBsZXQgbmV3VGFzayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBuZXdUYXNrLmNsYXNzTGlzdC5hZGQoJ25ld1Rhc2snKTtcbiAgICAgICAgaWYgKGl0ZW0uc3RhdHVzICE9ICdDb21wbGV0ZScpIHtcbiAgICAgICAgICAgIG5ld1Rhc2suY2xhc3NMaXN0LmFkZCgndGFza05vdENvbXBsZXRlJylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5ld1Rhc2suY2xhc3NMaXN0LmFkZCgndGFza0NvbXBsZXRlJylcbiAgICAgICAgfVxuICAgICAgICBuZXdUYXNrLnRleHRDb250ZW50ID0gaXRlbS5pbmZvO1xuICAgICAgICB0YXNrQ29udGFpbmVyLmFwcGVuZENoaWxkKG5ld1Rhc2spO1xuICAgICAgICByZXR1cm4gbmV3VGFza1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZEl0ZW1Ub1Byb2plY3RMaXN0KGl0ZW0pe1xuICAgICAgICBwcm9qZWN0TGlzdFthZGRUYXNrSWRdLnB1c2goaXRlbSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlQ2hlY2tib3goaXRlbSwgdGFza0NvbnRhaW5lcikge1xuICAgICAgICBsZXQgY2hlY2tib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgY2hlY2tib3guY2xhc3NMaXN0LmFkZCgnY2hlY2tib3gnKTtcbiAgICAgICAgaWYgKGl0ZW0uc3RhdHVzICE9ICdDb21wbGV0ZScpIHtcbiAgICAgICAgICAgIGlmIChpdGVtLl9zdGF0dXMgIT0gJ0NvbXBsZXRlJykge1xuICAgICAgICAgICAgY2hlY2tib3guY2xhc3NMaXN0LmFkZCgnbm90Q29tcGxldGUnKTtcbiAgICAgICAgICAgIHRhc2tDb250YWluZXIuYXBwZW5kQ2hpbGQoY2hlY2tib3gpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpdGVtLl9zdGF0dXMgPT0gJ0NvbXBsZXRlJykge1xuICAgICAgICAgICAgICAgIGNoZWNrYm94LmNsYXNzTGlzdC5hZGQoJ0NvbXBsZXRlJyk7XG4gICAgICAgICAgICAgICAgdGFza0NvbnRhaW5lci5hcHBlbmRDaGlsZChjaGVja2JveCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoaXRlbS5fc3RhdHVzID09ICdDb21wbGV0ZScpIHtcbiAgICAgICAgICAgIGNoZWNrYm94LmNsYXNzTGlzdC5hZGQoJ0NvbXBsZXRlJyk7XG4gICAgICAgICAgICB0YXNrQ29udGFpbmVyLmFwcGVuZENoaWxkKGNoZWNrYm94KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hlY2tib3hcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBuZXdJdGVtQnV0dG9ucyh0YXNrQ29udGFpbmVyKSB7XG4gICAgICAgIGxldCBpdGVtQnV0dG9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBpdGVtQnV0dG9ucy5jbGFzc0xpc3QuYWRkKCdpdGVtQnV0dG9ucycpO1xuICAgICAgICB0YXNrQ29udGFpbmVyLmFwcGVuZENoaWxkKGl0ZW1CdXR0b25zKTtcbiAgICAgICAgcmV0dXJuIGl0ZW1CdXR0b25zIFxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG5ld0VkaXRCdXR0b24oaXRlbUJ1dHRvbnMpIHtcbiAgICAgICAgbGV0IGVkaXRUYXNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGVkaXRUYXNrLmlubmVyVGV4dCA9IFwiRWRpdCBUYXNrXCI7XG4gICAgICAgIGVkaXRUYXNrLmNsYXNzTGlzdC5hZGQoJ2VkaXRUYXNrQnV0dG9uJyk7XG4gICAgICAgIGl0ZW1CdXR0b25zLmFwcGVuZENoaWxkKGVkaXRUYXNrKTtcbiAgICAgICAgcmV0dXJuIGVkaXRUYXNrXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbmV3RGVsZXRlVGFza0J1dHRvbihpdGVtQnV0dG9ucykge1xuICAgICAgICBsZXQgZGVsZXRlVGFzayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBkZWxldGVUYXNrLmlubmVyVGV4dCA9IFwiRGVsZXRlIFRhc2tcIjtcbiAgICAgICAgZGVsZXRlVGFzay5jbGFzc0xpc3QuYWRkKCdkZWxldGVUYXNrQnV0dG9uJyk7XG4gICAgICAgIGl0ZW1CdXR0b25zLmFwcGVuZENoaWxkKGRlbGV0ZVRhc2spO1xuICAgICAgICByZXR1cm4gZGVsZXRlVGFza1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gcHVzaENoZWNrYm94VG9MaXN0KGNoZWNrYm94KSB7XG4gICAgICAgIGNoZWNrYm94TGlzdC5wdXNoKGNoZWNrYm94KVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHB1c2hFZGl0VG9MaXN0KG5ld0VkaXRCdXR0b24pIHtcbiAgICAgICAgZWRpdFRhc2tCdXR0b25MaXN0LnB1c2gobmV3RWRpdEJ1dHRvbik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHVzaERlbGV0ZVRhc2tUb0xpc3QobmV3RGVsZXRlQnV0dG9uKSB7XG4gICAgICAgIGRlbGV0ZVRhc2tCdXR0b25MaXN0LnB1c2gobmV3RGVsZXRlQnV0dG9uKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUVkaXRCdXR0b25MaXN0KCl7XG4gICAgICAgIGZvciAobGV0IGk9MDsgaSA8IGVkaXRUYXNrQnV0dG9uTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZWRpdFRhc2tCdXR0b25MaXN0W2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBpdGVtRm9ybUNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICAgICBpdGVtRm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdhZGRJdGVtJyk7XG4gICAgICAgICAgICAgICAgaXRlbUZvcm0uY2xhc3NMaXN0LmFkZCgnZWRpdEl0ZW0nKTtcbiAgICAgICAgICAgICAgICBlZGl0QnV0dG9uSWQgPSBlZGl0VGFza0J1dHRvbkxpc3RbaV0uZGF0YXNldC5lZGl0O1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkVGFza1RvRWRpdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXRhc2s9XCIke2VkaXRCdXR0b25JZH1cIl1gKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gZGVsZXRlVGFza0J1dHRvbkZ1bmN0aW9uYWxpdHkoYnV0dG9uKSB7XG4gICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZGVsZXRlVGFza0J1dHRvbklkID0gIGJ1dHRvbi5kYXRhc2V0LmRlbGV0ZWl0ZW07XG4gICAgICAgICAgICBsZXQgc3BlY2lmaWNJRCA9IGJ1dHRvbi5kYXRhc2V0LnNwZWNpZmljZGVsZXRlaXRlbTtcbiAgICAgICAgICAgIHRhc2tUb0RlbGV0ZSA9ICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS10YXNrQ29udGFpbmVyPVwiJHtkZWxldGVUYXNrQnV0dG9uSWR9XCJdYCk7XG4gICAgICAgICAgICBsZXQgcHJvamVjdFBhcmVudCA9IHRhc2tUb0RlbGV0ZS5wYXJlbnROb2RlO1xuICAgICAgICAgICAgcHJvamVjdFBhcmVudC5yZW1vdmVDaGlsZCh0YXNrVG9EZWxldGUpO1xuICAgICAgICAgICAgZGVsZXRlVGFza0J1dHRvbkxpc3Quc3BsaWNlKHNwZWNpZmljSUQsIDEpO1xuICAgICAgICAgICAgZWRpdFRhc2tCdXR0b25MaXN0LnNwbGljZShzcGVjaWZpY0lELCAxKTtcbiAgICAgICAgICAgIGNoZWNrYm94TGlzdC5zcGxpY2Uoc3BlY2lmaWNJRCwgMSk7XG4gICAgICAgICAgICBsZXQgcHJvamVjdFBhcmVudElkID0gcHJvamVjdFBhcmVudC5pZFxuICAgICAgICAgICAgcHJvamVjdExpc3RbcHJvamVjdFBhcmVudElkXS5zcGxpY2Uoc3BlY2lmaWNJRCwgMSk7XG4gICAgICAgICAgICBmaWxsRGVsZXRlZFN0YXR1c0Jhcihwcm9qZWN0UGFyZW50SWQpO1xuICAgICAgICAgICAgc2F2ZVRvTG9jYWxTdG9yYWdlKClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgIGZ1bmN0aW9uIGVkaXRJdGVtKCl7XG4gICAgICAgIGl0ZW1Gb3JtLmNsYXNzTGlzdC5yZW1vdmUoJ2FkZEl0ZW0nKTtcbiAgICAgICAgbGV0IHJldmlzZWRJdGVtID0gYWRkSXRlbSgpO1xuICAgICAgICBpZiAocmV2aXNlZEl0ZW0gIT0gdW5kZWZpbmVkICYmIHJldmlzZWRJdGVtLmR1ZURhdGUgIT0gXCJcIikge1xuICAgICAgICAgICAgc2VsZWN0ZWRUYXNrVG9FZGl0LmlubmVyVGV4dCA9IFwiXCI7XG4gICAgICAgICAgICBzZWxlY3RlZFRhc2tUb0VkaXQuaW5uZXJUZXh0ID0gcmV2aXNlZEl0ZW0uaW5mbztcbiAgICAgICAgICAgIGVkaXRQcm9qZWN0TGlzdChyZXZpc2VkSXRlbSk7XG4gICAgICAgICAgICBlZGl0VGFza1N0YXR1cyhyZXZpc2VkSXRlbSk7XG4gICAgICAgICAgICBlZGl0Q2hlY2tib3hTdGF0dXMocmV2aXNlZEl0ZW0pO1xuICAgICAgICAgICAgZmlsbEVkaXRlZFN0YXR1c0JhcigpO1xuICAgICAgICAgICAgY2xlYXJJbnB1dHMoKTtcbiAgICAgICAgICAgIGl0ZW1Gb3JtQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgICAgc2F2ZVRvTG9jYWxTdG9yYWdlKClcbiAgICAgICAgfSBlbHNlICB7XG4gICAgICAgICAgICBhbGVydCAoXCJQbGVhc2UgRmlsbCBPdXQgUmVxdWlyZWQgRmllbGRzXCIpXG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIGVkaXRQcm9qZWN0TGlzdChyZXZpc2VkSXRlbSkge1xuICAgICAgICBsZXQgdGFza0lEdGFza0NvbnRhaW5lciA9IHNlbGVjdGVkVGFza1RvRWRpdC5wYXJlbnROb2RlXG4gICAgICAgIGxldCB0YXNrSUQgPSBzZWxlY3RlZFRhc2tUb0VkaXQuZGF0YXNldC5zcGVjaWZpY3Rhc2tcbiAgICAgICAgbGV0IHBhcmVudFByb2plY3QgPSB0YXNrSUR0YXNrQ29udGFpbmVyLnBhcmVudE5vZGUuaWRcbiAgICAgICAgcHJvamVjdExpc3RbcGFyZW50UHJvamVjdF0uc3BsaWNlKHRhc2tJRCwgMSwgcmV2aXNlZEl0ZW0pXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZWRpdENoZWNrYm94U3RhdHVzKGl0ZW0pe1xuICAgICAgICBpZiAoaXRlbS5zdGF0dXMgIT0gJ0NvbXBsZXRlJykge1xuICAgICAgICAgICAgY2hlY2tCb3hUb0NoYW5nZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWNoZWNrYm94PVwiJHtlZGl0QnV0dG9uSWR9XCJdYCk7XG4gICAgICAgICAgICAgY2hlY2tCb3hUb0NoYW5nZS5jbGFzc0xpc3QuYWRkKCdub3RDb21wbGV0ZScpO1xuICAgICAgICAgICAgY2hlY2tCb3hUb0NoYW5nZS5jbGFzc0xpc3QucmVtb3ZlKCdDb21wbGV0ZScpO1xuICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uc3RhdHVzID09ICdDb21wbGV0ZScpIHtcbiAgICAgICAgICAgIGNoZWNrQm94VG9DaGFuZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1jaGVja2JveD1cIiR7ZWRpdEJ1dHRvbklkfVwiXWApXG4gICAgICAgICAgICBjaGVja0JveFRvQ2hhbmdlLmNsYXNzTGlzdC5hZGQoJ0NvbXBsZXRlJyk7XG4gICAgICAgICAgICBjaGVja0JveFRvQ2hhbmdlLmNsYXNzTGlzdC5yZW1vdmUoJ25vdENvbXBsZXRlJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBlZGl0VGFza1N0YXR1cyhpdGVtKSB7XG4gICAgICAgIGxldCBjaGFuZ2VkVGFzayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXRhc2s9XCIke2VkaXRCdXR0b25JZH1cIl1gKTtcbiAgICAgICAgbGV0IGNoYW5nZWRUYXNrSUQgPSBjaGFuZ2VkVGFzay5kYXRhc2V0LnNwZWNpZmljdGFza1xuICAgICAgICBsZXQgdGFza0NvbnRhaW5lciA9IGNoYW5nZWRUYXNrLnBhcmVudE5vZGU7XG4gICAgICAgIGxldCB0YXNrUHJvamVjdCA9IHRhc2tDb250YWluZXIucGFyZW50Tm9kZS5pZDtcbiAgICAgICAgaWYgKGl0ZW0uc3RhdHVzICE9ICdDb21wbGV0ZScpIHtcbiAgICAgICAgICAgIGNoYW5nZWRUYXNrLmNsYXNzTGlzdC5hZGQoJ3Rhc2tOb3RDb21wbGV0ZScpO1xuICAgICAgICAgICAgY2hhbmdlZFRhc2suY2xhc3NMaXN0LnJlbW92ZSgndGFza0NvbXBsZXRlJyk7XG4gICAgICAgICAgICBwcm9qZWN0TGlzdFt0YXNrUHJvamVjdF1bY2hhbmdlZFRhc2tJRF0uc3RhdHVzID0gJ05vdCBDb21wbGV0ZSdcbiAgICAgICAgfSBlbHNlIGlmIChpdGVtLnN0YXR1cyA9PSAnQ29tcGxldGUnKSB7XG4gICAgICAgICAgICBjaGFuZ2VkVGFzay5jbGFzc0xpc3QucmVtb3ZlKCd0YXNrTm90Q29tcGxldGUnKTtcbiAgICAgICAgICAgIGNoYW5nZWRUYXNrLmNsYXNzTGlzdC5hZGQoJ3Rhc2tDb21wbGV0ZScpO1xuICAgICAgICAgICAgcHJvamVjdExpc3RbdGFza1Byb2plY3RdW2NoYW5nZWRUYXNrSURdLnN0YXR1cyA9ICdDb21wbGV0ZSdcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNoYW5nZVN0YXR1c0Jhck9uQ2hlY2tib3hDbGljayhjaGVja2JveCkge1xuICAgICAgICBjaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICBsZXQgZmlsdGVyZWRQcm9qZWN0ID0gZmlsdGVyUHJvamVjdCgpO1xuICAgICAgICBsZXQgdGFza0NvbnRhaW5lciA9IGNoZWNrYm94LnBhcmVudE5vZGU7XG4gICAgICAgIGxldCBzZWxlY3RlZFByb2plY3QgPSB0YXNrQ29udGFpbmVyLnBhcmVudE5vZGUuaWRcbiAgICAgICAgbGV0IHNlbGVjdGVkU3RhdHVzQmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtc3RhdHVzYmFyPVwiJHtzZWxlY3RlZFByb2plY3R9XCJdYCk7XG4gICAgICAgIGxldCBzdGF0dXNCbG9jayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBpZiAoc2VsZWN0ZWRTdGF0dXNCYXIuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgc2VsZWN0ZWRTdGF0dXNCYXIucmVtb3ZlQ2hpbGQoc2VsZWN0ZWRTdGF0dXNCYXIuZmlyc3RDaGlsZClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgfVxuICAgICAgICBzdGF0dXNCbG9jay5zdHlsZS53aWR0aCA9IGAke2ZpbHRlcmVkUHJvamVjdC5wZXJjZW50YWdlQXJyYXlbc2VsZWN0ZWRQcm9qZWN0XX0lYFxuICAgICAgICBzdGF0dXNCbG9jay5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIiAgICAgICAgICAgIFxuICAgICAgICBzZWxlY3RlZFN0YXR1c0Jhci5hcHBlbmRDaGlsZChzdGF0dXNCbG9jaylcbiAgICAgICAgZGlzcGxheVBlcmNlbnRhZ2Uoc2VsZWN0ZWRTdGF0dXNCYXIsIGZpbHRlcmVkUHJvamVjdC5wZXJjZW50YWdlQXJyYXlbc2VsZWN0ZWRQcm9qZWN0XSk7XG4gICAgfSlcbn1cblxuICAgIGZ1bmN0aW9uIGFkZENoZWNrYm94U3RhdHVzKGNoZWNrYm94KSB7XG4gICAgICBjaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbGV0IGNoZWNrYm94SUQgPSBjaGVja2JveC5kYXRhc2V0LnNwZWNpZmljY2hlY2tib3g7XG4gICAgICAgICAgICBsZXQgY2hlY2tib3hDb250YWluZXIgPSBjaGVja2JveC5wYXJlbnROb2RlO1xuICAgICAgICAgICAgbGV0IGNoZWNrYm94UHJvamVjdCA9IGNoZWNrYm94Q29udGFpbmVyLnBhcmVudE5vZGUuaWRcbiAgICAgICAgICAgIGlmIChjaGVja2JveC5jbGFzc0xpc3QuY29udGFpbnMoJ25vdENvbXBsZXRlJykpIHtcbiAgICAgICAgICAgICAgICBjaGVja2JveC5jbGFzc0xpc3QucmVtb3ZlKCdub3RDb21wbGV0ZScpO1xuICAgICAgICAgICAgICAgIGNoZWNrYm94LmNsYXNzTGlzdC5hZGQoJ0NvbXBsZXRlJyk7XG4gICAgICAgICAgICAgICAgcHJvamVjdExpc3RbY2hlY2tib3hQcm9qZWN0XVtjaGVja2JveElEXS5zdGF0dXMgPSAnQ29tcGxldGUnXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoZWNrYm94LmNsYXNzTGlzdC5jb250YWlucygnQ29tcGxldGUnKSkge1xuICAgICAgICAgICAgICAgIGNoZWNrYm94LmNsYXNzTGlzdC5hZGQoJ25vdENvbXBsZXRlJyk7XG4gICAgICAgICAgICAgICAgY2hlY2tib3guY2xhc3NMaXN0LnJlbW92ZSgnQ29tcGxldGUnKTtcbiAgICAgICAgICAgICAgICBwcm9qZWN0TGlzdFtjaGVja2JveFByb2plY3RdW2NoZWNrYm94SURdLnN0YXR1cyA9ICdOb3QgQ29tcGxldGUnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzYXZlVG9Mb2NhbFN0b3JhZ2UoKTtcbiAgICAgICAgfSlcbiAgICAgICAgY29uc29sZS5sb2cocHJvamVjdExpc3QpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkVGFza1N0YXR1cyhjaGVja2JveCkge1xuICAgICAgICBjaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbGV0IGNoZWNrYm94SUQgPSBjaGVja2JveC5kYXRhc2V0LmNoZWNrYm94XG4gICAgICAgICAgICBsZXQgdGFza1RvQ2hhbmdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtdGFzaz1cIiR7Y2hlY2tib3hJRH1cIl1gKVxuICAgICAgICAgICAgaWYgKGNoZWNrYm94LmNsYXNzTGlzdC5jb250YWlucygnQ29tcGxldGUnKSkge1xuICAgICAgICAgICAgICAgIHRhc2tUb0NoYW5nZS5jbGFzc0xpc3QucmVtb3ZlKCd0YXNrTm90Q29tcGxldGUnKTtcbiAgICAgICAgICAgICAgICB0YXNrVG9DaGFuZ2UuY2xhc3NMaXN0LmFkZCgndGFza0NvbXBsZXRlJyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoZWNrYm94LmNsYXNzTGlzdC5jb250YWlucygnbm90Q29tcGxldGUnKSkge1xuICAgICAgICAgICAgICAgIHRhc2tUb0NoYW5nZS5jbGFzc0xpc3QuYWRkKCd0YXNrTm90Q29tcGxldGUnKTtcbiAgICAgICAgICAgICAgICB0YXNrVG9DaGFuZ2UuY2xhc3NMaXN0LnJlbW92ZSgndGFza0NvbXBsZXRlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuICAgIFxuXG4gICAgZnVuY3Rpb24gZmlsdGVyUHJvamVjdCgpIHtcbiAgICAgICAgbGV0IGZpbHRlcmVkQXJyYXlMaXN0ID0gW11cbiAgICAgICAgbGV0IHBlcmNlbnRhZ2VBcnJheSA9IFtdXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvamVjdExpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgZmlsdGVyZWRBcnJheSA9IHByb2plY3RMaXN0W2ldLmZpbHRlcihmaWx0ZXJCeUNvbXBsZXRlKVxuICAgICAgICAgICAgICAgIGZpbHRlcmVkQXJyYXlMaXN0LnB1c2goZmlsdGVyZWRBcnJheSlcbiAgICAgICAgICAgICAgICBsZXQgcGVyY2VudGFnZSA9IE1hdGgucm91bmQoZmlsdGVyZWRBcnJheS5sZW5ndGggLyBwcm9qZWN0TGlzdFtpXS5sZW5ndGggKiAxMDApOyBcbiAgICAgICAgICAgICAgICBwZXJjZW50YWdlQXJyYXkucHVzaChwZXJjZW50YWdlKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtmaWx0ZXJlZEFycmF5TGlzdCwgcGVyY2VudGFnZUFycmF5fVxuICAgICAgICB9XG4gICAgXG5cbiAgICBmdW5jdGlvbiBmaWx0ZXJCeUNvbXBsZXRlKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0uX3N0YXR1cyA9PSAnQ29tcGxldGUnXG4gICAgfSBcblxuICAgIFxuICAgIGZ1bmN0aW9uIGFkZFRvU3RhdHVzQmFyKHBlcmNlbnRhZ2UpIHtcbiAgICAgICAgbGV0IHNlbGVjdGVkU3RhdHVzQmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtc3RhdHVzYmFyPVwiJHthZGRUYXNrSWR9XCJdYCk7XG4gICAgICAgIGxldCBzdGF0dXNCbG9jayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBpZiAoc2VsZWN0ZWRTdGF0dXNCYXIuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgc2VsZWN0ZWRTdGF0dXNCYXIucmVtb3ZlQ2hpbGQoc2VsZWN0ZWRTdGF0dXNCYXIuZmlyc3RDaGlsZClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgfVxuICAgICAgICBzdGF0dXNCbG9jay5zdHlsZS53aWR0aCA9IGAke3BlcmNlbnRhZ2V9JWBcbiAgICAgICAgc3RhdHVzQmxvY2suc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCIgICAgICAgICAgICBcbiAgICAgICAgc2VsZWN0ZWRTdGF0dXNCYXIuYXBwZW5kQ2hpbGQoc3RhdHVzQmxvY2spXG4gICAgICAgIHJldHVybiBzZWxlY3RlZFN0YXR1c0JhclxuICAgICAgICB9ICAgXG4gICAgXG5cbiAgICBmdW5jdGlvbiBlZGl0U3RhdHVzQmFyKHBlcmNlbnRhZ2UpIHtcbiAgICAgICAgbGV0IHRhc2tDb250YWluZXIgPSBzZWxlY3RlZFRhc2tUb0VkaXQucGFyZW50Tm9kZVxuICAgICAgICBsZXQgcGFyZW50UHJvamVjdCA9IHRhc2tDb250YWluZXIucGFyZW50Tm9kZS5pZFxuICAgICAgICBsZXQgc2VsZWN0ZWRTdGF0dXNCYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1zdGF0dXNiYXI9XCIke3BhcmVudFByb2plY3R9XCJdYCk7XG4gICAgICAgIGxldCBzdGF0dXNCbG9jayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBpZiAoc2VsZWN0ZWRTdGF0dXNCYXIuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgc2VsZWN0ZWRTdGF0dXNCYXIucmVtb3ZlQ2hpbGQoc2VsZWN0ZWRTdGF0dXNCYXIuZmlyc3RDaGlsZClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB9XG4gICAgICAgIHN0YXR1c0Jsb2NrLnN0eWxlLndpZHRoID0gYCR7cGVyY2VudGFnZX0lYFxuICAgICAgICBzdGF0dXNCbG9jay5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIlxuICAgICAgICBzZWxlY3RlZFN0YXR1c0Jhci5hcHBlbmRDaGlsZChzdGF0dXNCbG9jaylcbiAgICAgICAgcmV0dXJuIHNlbGVjdGVkU3RhdHVzQmFyXG4gICAgICAgICAgICB9ICAgXG5cbiAgICBmdW5jdGlvbiBkZWxldGVTdGF0dXNCYXIocGVyY2VudGFnZSwgcHJvamVjdCkge1xuICAgICAgICBsZXQgc2VsZWN0ZWRTdGF0dXNCYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1zdGF0dXNiYXI9XCIke3Byb2plY3R9XCJdYCk7XG4gICAgICAgIGxldCBzdGF0dXNCbG9jayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBpZiAoc2VsZWN0ZWRTdGF0dXNCYXIuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgc2VsZWN0ZWRTdGF0dXNCYXIucmVtb3ZlQ2hpbGQoc2VsZWN0ZWRTdGF0dXNCYXIuZmlyc3RDaGlsZClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB9XG4gICAgICAgIHN0YXR1c0Jsb2NrLnN0eWxlLndpZHRoID0gYCR7cGVyY2VudGFnZX0lYFxuICAgICAgICBzdGF0dXNCbG9jay5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIlxuICAgICAgICBzZWxlY3RlZFN0YXR1c0Jhci5hcHBlbmRDaGlsZChzdGF0dXNCbG9jaylcbiAgICAgICAgcmV0dXJuIHNlbGVjdGVkU3RhdHVzQmFyXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGlzcGxheVBlcmNlbnRhZ2Uoc3RhdHVzQmFyLCBwZXJjZW50YWdlKSB7XG4gICAgICAgIGxldCBzZWxlY3RlZFN0YXR1c0JhcklEID0gc3RhdHVzQmFyLmRhdGFzZXQuc3RhdHVzYmFyO1xuICAgICAgICBsZXQgc2VsZWN0ZWRQZXJjZW50YWdlVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXBlcmNlbnRhZ2V0ZXh0PVwiJHtzZWxlY3RlZFN0YXR1c0JhcklEfVwiXWApO1xuICAgICAgICBzZWxlY3RlZFBlcmNlbnRhZ2VUZXh0LmlubmVyVGV4dCA9IGAke3BlcmNlbnRhZ2V9JSBDb21wbGV0ZWA7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBmaWxsT3V0U3RhdHVzQmFyKCkge1xuICAgICAgICBsZXQgZmlsdGVyZWRQcm9qZWN0ID0gZmlsdGVyUHJvamVjdCgpO1xuICAgICAgICBsZXQgc3RhdHVzQmFyID0gYWRkVG9TdGF0dXNCYXIoZmlsdGVyZWRQcm9qZWN0LnBlcmNlbnRhZ2VBcnJheVthZGRUYXNrSWRdKTtcbiAgICAgICAgZGlzcGxheVBlcmNlbnRhZ2Uoc3RhdHVzQmFyLCBmaWx0ZXJlZFByb2plY3QucGVyY2VudGFnZUFycmF5W2FkZFRhc2tJZF0pO1xuICAgICAgICB9XG5cbiAgICBmdW5jdGlvbiBmaWxsRWRpdGVkU3RhdHVzQmFyKCkge1xuICAgICAgICBsZXQgZmlsdGVyZWRQcm9qZWN0ID0gZmlsdGVyUHJvamVjdCgpO1xuICAgICAgICBsZXQgdGFza0NvbnRhaW5lciA9IHNlbGVjdGVkVGFza1RvRWRpdC5wYXJlbnROb2RlXG4gICAgICAgIGxldCBwYXJlbnRQcm9qZWN0ID0gdGFza0NvbnRhaW5lci5wYXJlbnROb2RlLmlkXG4gICAgICAgIGxldCBzdGF0dXNCYXIgPSBlZGl0U3RhdHVzQmFyKGZpbHRlcmVkUHJvamVjdC5wZXJjZW50YWdlQXJyYXlbcGFyZW50UHJvamVjdF0pO1xuICAgICAgICBpZiAoZmlsdGVyZWRQcm9qZWN0LnBlcmNlbnRhZ2VBcnJheVtwYXJlbnRQcm9qZWN0XSAhPSBOYU4pIHtcbiAgICAgICAgZGlzcGxheVBlcmNlbnRhZ2Uoc3RhdHVzQmFyLCBmaWx0ZXJlZFByb2plY3QucGVyY2VudGFnZUFycmF5W3BhcmVudFByb2plY3RdKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZpbGxEZWxldGVkU3RhdHVzQmFyKHByb2plY3RUb0RlbGV0ZSkge1xuICAgICAgICBsZXQgZmlsdGVyZWRQcm9qZWN0ID0gZmlsdGVyUHJvamVjdCgpO1xuICAgICAgICBsZXQgcGFyZW50UHJvamVjdCA9IHByb2plY3RUb0RlbGV0ZVxuICAgICAgICBsZXQgc3RhdHVzQmFyID0gZGVsZXRlU3RhdHVzQmFyKGZpbHRlcmVkUHJvamVjdC5wZXJjZW50YWdlQXJyYXlbcGFyZW50UHJvamVjdF0sIHBhcmVudFByb2plY3QpO1xuICAgICAgICBpZiAoaXNOYU4oZmlsdGVyZWRQcm9qZWN0LnBlcmNlbnRhZ2VBcnJheVtwYXJlbnRQcm9qZWN0XSkgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGRpc3BsYXlQZXJjZW50YWdlKHN0YXR1c0JhciwgZmlsdGVyZWRQcm9qZWN0LnBlcmNlbnRhZ2VBcnJheVtwYXJlbnRQcm9qZWN0XSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgc2VsZWN0ZWRTdGF0dXNCYXJJRCA9IHN0YXR1c0Jhci5kYXRhc2V0LnN0YXR1c2JhcjtcbiAgICAgICAgICAgIGxldCBzZWxlY3RlZFBlcmNlbnRhZ2VUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtcGVyY2VudGFnZXRleHQ9XCIke3NlbGVjdGVkU3RhdHVzQmFySUR9XCJdYCk7XG4gICAgICAgICAgICBzZWxlY3RlZFBlcmNlbnRhZ2VUZXh0LmlubmVyVGV4dCA9IFwiXCJcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLy9ldmVudCBsaXN0ZW5lclxuICAgIFxuICAgIGl0ZW1TdWJtaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGl0ZW1Gb3JtLmNsYXNzTGlzdC5jb250YWlucygnYWRkSXRlbScpKSB7XG4gICAgICAgIGFkZFRhc2soKTtcbiAgICB9IGVsc2UgaWYgKGl0ZW1Gb3JtLmNsYXNzTGlzdC5jb250YWlucygnZWRpdEl0ZW0nKSkge1xuICAgICAgICBlZGl0SXRlbSgpO1xuICAgIH1cbn0pXG5cbiAgICByZXNldEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGNsZWFySW5wdXRzKCkpXG5cbiAgICB0YXNrQ2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBpdGVtRm9ybUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKSlcblxuLy8gbG9jYWwgc3RvcmFnZSBcblxuZnVuY3Rpb24gc2F2ZVRvTG9jYWxTdG9yYWdlKCkge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGBzdG9yZWRQcm9qZWN0TGlzdGAsIEpTT04uc3RyaW5naWZ5KHByb2plY3RMaXN0KSk7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oYHByb2plY3RJbmZvYCwgSlNPTi5zdHJpbmdpZnkocHJvamVjdExpc3RJbmZvKSlcbn1cblxuZnVuY3Rpb24gZ2V0SXRlbUZyb21Mb2NhbFN0b3JhZ2UoKSB7XG4gICBsZXQgcHVsbFRhc2tzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc3RvcmVkUHJvamVjdExpc3QnKSk7XG4gICBsZXQgcHVsbFByb2plY3RzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvamVjdEluZm8nKSk7XG4gICBmb3IgKGNvbnN0IHByb2plY3RJbmZvIGluIHB1bGxQcm9qZWN0cykge1xuICAgICAgICBsZXQgc3RvcmVkUHJvamVjdEluZm8gPSBwdWxsUHJvamVjdHNbcHJvamVjdEluZm9dXG4gICAgICAgIGFkZEJhY2tQcm9qZWN0TWV0aG9kcyhzdG9yZWRQcm9qZWN0SW5mbyk7XG4gICAgICAgIGRpc3BsYXlTdG9yZWRQcm9qZWN0KHN0b3JlZFByb2plY3RJbmZvKVxuICAgfVxuICAgIGZvciAoY29uc3QgcHJvamVjdCBpbiBwdWxsVGFza3MpIHtcbiAgICAgICAgICAgIGlmIChwdWxsVGFza3MgIT0gXCJcIikge1xuICAgICAgICAgICAgcHVsbFRhc2tzW3Byb2plY3RdLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgc2VsZWN0ZWRQcm9qZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocHJvamVjdCk7XG4gICAgICAgICAgICBhZGRUYXNrSWQgPSBwcm9qZWN0O1xuICAgICAgICAgICAgbGV0IHN0b3JlZEl0ZW0gPSBpdGVtXG4gICAgICAgICAgICBhZGRCYWNrVGFza01ldGhvZHMoc3RvcmVkSXRlbSlcbiAgICAgICAgICAgIGNyZWF0ZVN0b3JlZFRhc2soc3RvcmVkSXRlbSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGFkZEJhY2tUYXNrTWV0aG9kcyhpdGVtKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGl0ZW0sICdzdGF0dXMnLCB7XG4gICAgICAgIHNldCh4KSB7IGl0ZW0uX3N0YXR1cyA9IHg7IH1cbiAgICB9KVxuXG4gICAgZnVuY3Rpb24gaW5mbyhpdGVtKSB7XG4gICAgICAgIHJldHVybiAoYFRpdGxlOiAke2l0ZW0uX3RpdGxlfSBcXHJcXG5cbiAgICAgICAgRGVzY3JpcHRpb246ICR7aXRlbS5fZGVzY3JpcHRpb259IFxcclxcblxuICAgICAgICBEdWUgRGF0ZTogJHtpdGVtLl9kdWVEYXRlfSBcXHJcXG5cbiAgICAgICAgUHJpb3JpdHk6ICR7aXRlbS5fcHJpb3JpdHl9IFxcclxcblxuICAgICAgICBOb3RlczogJHtpdGVtLl9ub3Rlc30gYCkgXG4gICAgfVxuICAgIGl0ZW0uaW5mbyA9IGluZm8oaXRlbSlcbn1cblxuZnVuY3Rpb24gYWRkQmFja1Byb2plY3RNZXRob2RzKHByb2plY3QpIHtcbiAgICBmdW5jdGlvbiBpbmZvKHByb2plY3QpIHtcbiAgICAgICAgcmV0dXJuIChgUHJvamVjdCBUaXRsZTogJHtwcm9qZWN0Ll90aXRsZX0gXFxyXFxuXG4gICAgICAgIFByb2plY3QgRGVzY3JpcHRpb246ICR7cHJvamVjdC5fZGVzY3JpcHRpb259IFxcclxcbmApXG4gICAgfVxuICAgIHByb2plY3QuaW5mbyA9IGluZm8ocHJvamVjdClcbn1cblxuZnVuY3Rpb24gZGlzcGxheVN0b3JlZFByb2plY3Qoc3RvcmVkUHJvamVjdCkge1xuICAgIGFkZFRvUHJvamVjdExpc3QoKTtcbiAgICBsZXQgcHJvamVjdENvbnRhaW5lciA9IGNyZWF0ZVByb2plY3RDb250YWluZXIoKTtcbiAgICBsZXQgcHJvamVjdCA9IGNyZWF0ZU5ld1Byb2plY3QocHJvamVjdENvbnRhaW5lciwgc3RvcmVkUHJvamVjdCk7XG4gICAgYWRkUHJvamVjdExpc3RJbmZvKHN0b3JlZFByb2plY3QpXG4gICAgbGV0IHByb2plY3RJRCA9IHNldE5ld1Byb2plY3RJZChwcm9qZWN0KTtcbiAgICBsZXQgbmV3U3RhdHVzQmFyID0gY3JlYXRlU3RhdHVzQmFyKHByb2plY3QpXG4gICAgbGV0IHNvcnRCdXR0b25zID0gYWRkU29ydEJ1dHRvbnMocHJvamVjdCk7XG4gICAgc3VibWl0QnV0dG9uU29ydChzb3J0QnV0dG9ucylcbiAgICBsZXQgYnV0dG9uU2VjdGlvbiA9IGFkZEJ1dHRvblNlY3Rpb24ocHJvamVjdENvbnRhaW5lcik7XG4gICAgbGV0IGVkaXRQcm9qZWN0QnV0dG9uID0gYWRkUHJvamVjdEVkaXRCdXR0b24oYnV0dG9uU2VjdGlvbik7XG4gICAgcHJvakVkaXRCdXR0b25MaXN0KGVkaXRQcm9qZWN0QnV0dG9uKVxuICAgIGxldCBhZGRJdGVtVG9Qcm9qZWN0QnV0dG9uID0gYWRkUHJvamVjdEFkZEJ1dHRvbihidXR0b25TZWN0aW9uKTtcbiAgICBwcm9qZWN0VG9Eb0J1dHRvbkxpc3QoYWRkSXRlbVRvUHJvamVjdEJ1dHRvbik7XG4gICAgbGV0IGRlbGV0ZVByb2plY3RCdXR0b24gPSBhZGRQcm9qZWN0RGVsZXRlQnV0dG9uKGJ1dHRvblNlY3Rpb24pO1xuICAgIHByb2plY3REZWxldGVCdXR0b25MaXN0KGRlbGV0ZVByb2plY3RCdXR0b24pO1xuICAgIGFkZEl0ZW1Ub1Byb2plY3QoKTtcbiAgICBkZWxldGVCdXR0b25GdW5jdGlvbmFsaXR5KGRlbGV0ZVByb2plY3RCdXR0b24pO1xuICAgIHByb2plY3RFZGl0QnV0dG9uRnVuY3Rpb25hbGl0eShlZGl0UHJvamVjdEJ1dHRvbik7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0b3JlZFRhc2soaXRlbSkge1xuICAgIGFkZEl0ZW1Ub1Byb2plY3RMaXN0KGl0ZW0pXG4gICAgbGV0IG5ld1Rhc2sgPSBuZXdUYXNrQ29udGFpbmVyKCk7XG4gICAgbmV3VGFzay5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGFza2NvbnRhaW5lcicsIGAke1thZGRUYXNrSWRdfSR7cHJvamVjdExpc3RbYWRkVGFza0lkXS5sZW5ndGggLTF9YClcbiAgICBuZXdUYXNrLnNldEF0dHJpYnV0ZSgnZGF0YS1zcGVjaWZpY3Rhc2tjb250YWluZXInLCBgJHtwcm9qZWN0TGlzdFthZGRUYXNrSWRdLmxlbmd0aCAtMX1gKVxuICAgIGxldCBuZXdDaGVja2JveCA9IGNyZWF0ZUNoZWNrYm94KGl0ZW0sIG5ld1Rhc2spO1xuICAgIG5ld0NoZWNrYm94LnNldEF0dHJpYnV0ZSgnZGF0YS1jaGVja2JveCcsIGAke1thZGRUYXNrSWRdfSR7cHJvamVjdExpc3RbYWRkVGFza0lkXS5sZW5ndGggLTF9YClcbiAgICBuZXdDaGVja2JveC5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3BlY2lmaWNjaGVja2JveCcsIGAke3Byb2plY3RMaXN0W2FkZFRhc2tJZF0ubGVuZ3RoIC0xfWApXG4gICAgbGV0IG5ld0RpdiA9IG5ld0l0ZW1EaXYobmV3VGFzaywgaXRlbSk7XG4gICAgbmV3RGl2LnNldEF0dHJpYnV0ZSgnZGF0YS10YXNrJywgYCR7W2FkZFRhc2tJZF19JHtwcm9qZWN0TGlzdFthZGRUYXNrSWRdLmxlbmd0aCAtMX1gKTtcbiAgICBuZXdEaXYuc2V0QXR0cmlidXRlKCdkYXRhLXNwZWNpZmljdGFzaycsIGAke3Byb2plY3RMaXN0W2FkZFRhc2tJZF0ubGVuZ3RoIC0xfWApO1xuXG4gICAgZmlsbE91dFN0YXR1c0JhcigpO1xuXG4gICAgbGV0IGl0ZW1CdXR0b25zID0gbmV3SXRlbUJ1dHRvbnMobmV3VGFzayk7XG4gICAgbGV0IGVkaXRCdXR0b24gPSBuZXdFZGl0QnV0dG9uKGl0ZW1CdXR0b25zKTtcbiAgICBlZGl0QnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS1lZGl0JywgYCR7W2FkZFRhc2tJZF19JHtwcm9qZWN0TGlzdFthZGRUYXNrSWRdLmxlbmd0aCAtMX1gKVxuICAgIGVkaXRCdXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLXNwZWNpZmljZWRpdCcsIGAke3Byb2plY3RMaXN0W2FkZFRhc2tJZF0ubGVuZ3RoIC0xfWApXG4gICAgbGV0IGRlbGV0ZUJ1dHRvbiA9IG5ld0RlbGV0ZVRhc2tCdXR0b24oaXRlbUJ1dHRvbnMpO1xuICAgIGRlbGV0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtZGVsZXRlSXRlbScsIGAke1thZGRUYXNrSWRdfSR7cHJvamVjdExpc3RbYWRkVGFza0lkXS5sZW5ndGggLTF9YClcbiAgICBkZWxldGVCdXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLXNwZWNpZmljZGVsZXRlSXRlbScsIGAke3Byb2plY3RMaXN0W2FkZFRhc2tJZF0ubGVuZ3RoIC0xfWApXG4gICAgcHVzaENoZWNrYm94VG9MaXN0KG5ld0NoZWNrYm94KTtcbiAgICBwdXNoRWRpdFRvTGlzdChlZGl0QnV0dG9uKTtcbiAgICBwdXNoRGVsZXRlVGFza1RvTGlzdChkZWxldGVCdXR0b24pO1xuXG4gICAgY3JlYXRlRWRpdEJ1dHRvbkxpc3QoKTtcbiAgICBkZWxldGVUYXNrQnV0dG9uRnVuY3Rpb25hbGl0eShkZWxldGVCdXR0b24pO1xuICAgIGFkZENoZWNrYm94U3RhdHVzKG5ld0NoZWNrYm94KTtcbiAgICBjaGFuZ2VTdGF0dXNCYXJPbkNoZWNrYm94Q2xpY2sobmV3Q2hlY2tib3gpO1xuICAgIGFkZFRhc2tTdGF0dXMobmV3Q2hlY2tib3gpO1xufVxuXG53aW5kb3cub25sb2FkID0gKCkgPT4ge1xuICAgIGdldEl0ZW1Gcm9tTG9jYWxTdG9yYWdlKCk7XG59XG5cblxufVxuXG4iLCJpbXBvcnQgZnVuY3Rpb25hbGl0eSBmcm9tIFwiLi9kb20uanNcIjsgXG5cblxuZnVuY3Rpb25hbGl0eSgpIl0sIm5hbWVzIjpbIlRvRG9JdGVtIiwiY29uc3RydWN0b3IiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiZHVlRGF0ZSIsInByaW9yaXR5Iiwibm90ZXMiLCJzdGF0dXMiLCJ0aGlzIiwiX3N0YXR1cyIsImluZm8iLCJfdGl0bGUiLCJfZGVzY3JpcHRpb24iLCJfZHVlRGF0ZSIsIl9wcmlvcml0eSIsIl9ub3RlcyIsIm5ld1RpdGxlIiwibmV3RGVzY3JpcHRpb24iLCJuZXdQcmlvcml0eSIsIm5ld0R1ZURhdGUiLCJuZXdOb3RlcyIsIm5ld1N0YXR1cyIsIlByb2plY3QiLCJhZGRJdGVtIiwiaXRlbU5hbWUiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwidmFsdWUiLCJpdGVtRGVzY3JpcHRpb24iLCJjb21wbGV0ZSIsImFkZFByb2plY3QiLCJwcm9qZWN0VGl0bGUiLCJwcm9qZWN0RGVzY3JpcHRpb24iLCJtYWluQm9keSIsImFkZEJ1dHRvbiIsInByb2plY3RGb3JtQ29udGFpbmVyIiwicHJvamVjdFN1Ym1pdEJ1dHRvbiIsInByb2plY3RDbG9zZUJ1dHRvbiIsImFkZFRhc2tJZCIsImRlbGV0ZVByb2plY3RJZCIsInByb2plY3RFZGl0SUQiLCJwcm9qZWN0VG9EZWxldGUiLCJ0b0RvQnV0dG9uTGlzdCIsImRlbGV0ZUJ1dHRvbkxpc3QiLCJwcm9qZWN0TGlzdCIsInByb2plY3RFZGl0QnV0dG9uTGlzdCIsInByb2plY3RMaXN0SW5mbyIsInN0b3JlZFByb2plY3RMaXN0SW5mbyIsInNlbGVjdGVkUHJvamVjdCIsImFkZFRvUHJvamVjdExpc3QiLCJwdXNoIiwiYWRkUHJvamVjdExpc3RJbmZvIiwicHJvamVjdCIsImNyZWF0ZVByb2plY3RDb250YWluZXIiLCJwcm9qZWN0Q29udGFpbmVyIiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZENoaWxkIiwiY3JlYXRlTmV3UHJvamVjdCIsIm5ld1Byb2plY3QiLCJjbGFzc0xpc3QiLCJhZGQiLCJwcm9qZWN0SW5mbyIsInNldEF0dHJpYnV0ZSIsImxlbmd0aCIsInRleHRDb250ZW50Iiwic2V0TmV3UHJvamVjdElkIiwiaWQiLCJhZGRTb3J0QnV0dG9ucyIsInNvcnRCdXR0b25zIiwic29ydE9wdGlvbnMiLCJzb3J0TmFtZSIsInNvcnRQcmlvcml0eSIsInNvcnREdWVEYXRlIiwic29ydENvbXBsZXRlIiwic29ydFN1Ym1pdCIsImFkZEJ1dHRvblNlY3Rpb24iLCJidXR0b25TZWN0aW9uIiwiYWRkUHJvamVjdEFkZEJ1dHRvbiIsImFkZFRvRG8iLCJpbm5lclRleHQiLCJwcm9qZWN0VG9Eb0J1dHRvbkxpc3QiLCJhZGRQcm9qZWN0RGVsZXRlQnV0dG9uIiwiZGVsZXRlQnV0dG9uIiwicHJvamVjdERlbGV0ZUJ1dHRvbkxpc3QiLCJhZGRQcm9qZWN0RWRpdEJ1dHRvbiIsImVkaXRCdXR0b24iLCJwcm9qRWRpdEJ1dHRvbkxpc3QiLCJwcm9qZWN0RWRpdEJ1dHRvbkZ1bmN0aW9uYWxpdHkiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlIiwiZGF0YXNldCIsInByb2plY3RlZGl0IiwiY2xlYXJJbnB1dHMiLCJpbnB1dFZhbHVlcyIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpIiwiYWRkSXRlbVRvUHJvamVjdCIsIml0ZW1Gb3JtQ29udGFpbmVyIiwiaXRlbUZvcm0iLCJkZWxldGVCdXR0b25GdW5jdGlvbmFsaXR5IiwiYnV0dG9uIiwiZGVsZXRlIiwic3BsaWNlIiwicXVlcnlTZWxlY3RvciIsInJlbW92ZUNoaWxkIiwicGFyZW50Tm9kZSIsInNhdmVUb0xvY2FsU3RvcmFnZSIsInN1Ym1pdEJ1dHRvblNvcnQiLCJzdWJtaXRCdXR0b24iLCJzdWJtaXRCdXR0b25JRCIsInNvcnQiLCJ0eXBlb2ZTb3J0IiwicHJvamVjdFRvU29ydCIsImEiLCJiIiwic29ydFByb2plY3RUYXNrcyIsInByb2plY3RUb0NsZWFyIiwicGFyZW50IiwibGFzdENoaWxkIiwicmVtb3ZlQWxsQ2hpbGROb2RlcyIsIm5ld1Rhc2siLCJuZXdDaGVja2JveCIsImNyZWF0ZUNoZWNrYm94IiwibmV3RGl2IiwibmV3SXRlbURpdiIsIml0ZW1CdXR0b25zIiwibmV3SXRlbUJ1dHRvbnMiLCJuZXdFZGl0QnV0dG9uIiwibmV3RGVsZXRlVGFza0J1dHRvbiIsInB1c2hDaGVja2JveFRvTGlzdCIsInB1c2hFZGl0VG9MaXN0IiwicHVzaERlbGV0ZVRhc2tUb0xpc3QiLCJjcmVhdGVFZGl0QnV0dG9uTGlzdCIsImRlbGV0ZVRhc2tCdXR0b25GdW5jdGlvbmFsaXR5IiwiYWRkQ2hlY2tib3hTdGF0dXMiLCJhZGRUYXNrU3RhdHVzIiwiY2hhbmdlU3RhdHVzQmFyT25DaGVja2JveENsaWNrIiwiZGlzcGxheVNvcnRlZFByb2plY3QiLCJjcmVhdGVTdGF0dXNCYXIiLCJzZWN0aW9uIiwic3RhdHVzQmFyQ29udGFpbmVyIiwic3RhdHVzQmFyIiwicGVyY2VudGFnZVRleHQiLCJzdGF0dXNiYXIiLCJjb250YWlucyIsImVkaXRQcm9qZWN0QnV0dG9uIiwiZGVsZXRlUHJvamVjdEJ1dHRvbiIsInByb2plY3RUb1JldmlzZSIsInJldmlzZWRQcm9qZWN0IiwiZGVsZXRlVGFza0J1dHRvbklkIiwiZWRpdFRhc2tCdXR0b25MaXN0IiwiZGVsZXRlVGFza0J1dHRvbkxpc3QiLCJpdGVtU3VibWl0QnV0dG9uIiwiZWRpdEJ1dHRvbklkIiwic2VsZWN0ZWRUYXNrVG9FZGl0IiwidGFza1RvRGVsZXRlIiwicmVzZXRCdXR0b24iLCJ0YXNrQ2xvc2VCdXR0b24iLCJjaGVja0JveFRvQ2hhbmdlIiwiY2hlY2tib3hMaXN0IiwibmV3VGFza0NvbnRhaW5lciIsInRhc2tDb250YWluZXIiLCJpdGVtIiwiYWRkSXRlbVRvUHJvamVjdExpc3QiLCJjaGVja2JveCIsImVkaXRUYXNrIiwiZGVsZXRlVGFzayIsIm5ld0RlbGV0ZUJ1dHRvbiIsImVkaXQiLCJkZWxldGVpdGVtIiwic3BlY2lmaWNJRCIsInNwZWNpZmljZGVsZXRlaXRlbSIsInByb2plY3RQYXJlbnQiLCJwcm9qZWN0UGFyZW50SWQiLCJmaWx0ZXJlZFByb2plY3QiLCJmaWx0ZXJQcm9qZWN0IiwicGFyZW50UHJvamVjdCIsInBlcmNlbnRhZ2UiLCJzZWxlY3RlZFN0YXR1c0JhciIsInN0YXR1c0Jsb2NrIiwiZmlyc3RDaGlsZCIsInN0eWxlIiwid2lkdGgiLCJoZWlnaHQiLCJkZWxldGVTdGF0dXNCYXIiLCJwZXJjZW50YWdlQXJyYXkiLCJpc05hTiIsImRpc3BsYXlQZXJjZW50YWdlIiwic2VsZWN0ZWRTdGF0dXNCYXJJRCIsImZpbGxEZWxldGVkU3RhdHVzQmFyIiwiY2hlY2tib3hJRCIsInNwZWNpZmljY2hlY2tib3giLCJjaGVja2JveFByb2plY3QiLCJjb25zb2xlIiwibG9nIiwidGFza1RvQ2hhbmdlIiwiZmlsdGVyZWRBcnJheUxpc3QiLCJmaWx0ZXJlZEFycmF5IiwiZmlsdGVyIiwiZmlsdGVyQnlDb21wbGV0ZSIsIk1hdGgiLCJyb3VuZCIsImZpbGxPdXRTdGF0dXNCYXIiLCJhZGRUb1N0YXR1c0JhciIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwiYWRkQmFja1Rhc2tNZXRob2RzIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJzZXQiLCJ4IiwiZGlzcGxheVN0b3JlZFByb2plY3QiLCJzdG9yZWRQcm9qZWN0IiwiY3JlYXRlU3RvcmVkVGFzayIsInVuZGVmaW5lZCIsImFsZXJ0IiwiYWRkVGFzayIsInJldmlzZWRJdGVtIiwidGFza0lEdGFza0NvbnRhaW5lciIsInRhc2tJRCIsInNwZWNpZmljdGFzayIsImVkaXRQcm9qZWN0TGlzdCIsImNoYW5nZWRUYXNrIiwiY2hhbmdlZFRhc2tJRCIsInRhc2tQcm9qZWN0IiwiZWRpdFRhc2tTdGF0dXMiLCJlZGl0U3RhdHVzQmFyIiwiTmFOIiwiZmlsbEVkaXRlZFN0YXR1c0JhciIsImVkaXRJdGVtIiwid2luZG93Iiwib25sb2FkIiwicHVsbFRhc2tzIiwicGFyc2UiLCJnZXRJdGVtIiwicHVsbFByb2plY3RzIiwic3RvcmVkUHJvamVjdEluZm8iLCJmb3JFYWNoIiwic3RvcmVkSXRlbSIsImdldEl0ZW1Gcm9tTG9jYWxTdG9yYWdlIiwiZnVuY3Rpb25hbGl0eSJdLCJzb3VyY2VSb290IjoiIn0=