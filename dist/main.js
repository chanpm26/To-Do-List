(()=>{"use strict";class t{constructor(t,e,n,i,s,a){this.title=t,this.description=e,this.dueDate=n,this.priority=i,this.notes=s,this.status=a}get title(){return this._title}get status(){return`${this._status}`}get dueDate(){return this._dueDate}get priority(){return this._priority}get info(){return`Title: ${this._title} \r\n\n        Description: ${this._description} \r\n\n        Due Date: ${this._dueDate} \r\n\n        Priority: ${this._priority} \r\n\n        Notes: ${this._notes} `}set title(t){this._title=t}set description(t){this._description=t}set priority(t){this._priority=t}set dueDate(t){this._dueDate=t}set notes(t){this._notes=t}set status(t){this._status=t}}class e{constructor(t,e){this.title=t,this.description=e}get title(){return this._title}get description(){return this._description}get info(){return`Project Title: ${this._title} \r\n\n        Project Description: ${this._description} `}set title(t){this._title=t}set description(t){this._description=t}}function n(){let e=document.getElementById("itemName").value,n=document.getElementById("itemDescription").value,i=document.getElementById("dueDate").value,s=document.getElementById("priority").value,a=document.getElementById("notes").value,d=document.getElementById("complete").value;return new t(e,n,i,s,a,d)}function i(){const t=document.getElementById("projectName").value,n=document.getElementById("projectDescription").value;return new e(t,n)}!function(){const t=document.getElementById("main"),e=document.getElementById("addButton"),s=document.getElementById("projectFormContainer"),a=document.getElementById("projectSubmitButton"),d=document.getElementById("projectClose");let o="",l="",c="",r=document.getElementById(l),u=[],p=[],m=[],h=[],f=[],g=[],C=document.getElementById(o);function y(){m.push([])}function L(t){f.push(t),g.push(t)}function b(){let e=document.createElement("div");return t.appendChild(e),e}function E(t,e){let n=document.createElement("div");n.classList.add("project");let i=document.createElement("p");return i.classList.add("projectInfo"),i.setAttribute("data-projectInfo",m.length-1),i.textContent=e.info,t.appendChild(n),n.appendChild(i),n}function v(t){return t.setAttribute("id",m.length-1),t.id}function $(t){let e=document.createElement("div"),n=document.createElement("select");n.setAttribute("data-sortinput",m.length-1),e.classList.add("sortButtons");let i=document.createElement("option");i.setAttribute("value","Name"),i.textContent="Sort By Name";let s=document.createElement("option");s.setAttribute("value","Priority"),s.textContent="Sort By Priority";let a=document.createElement("option");a.setAttribute("value","dueDate"),a.textContent="Sort By Due Date";let d=document.createElement("option");d.setAttribute("value","Completion"),d.textContent="Sort By Completion";let o=document.createElement("button");return o.setAttribute("data-sort",m.length-1),o.textContent="Submit",t.appendChild(e),e.appendChild(n),n.appendChild(i),n.appendChild(s),n.appendChild(a),n.appendChild(d),e.appendChild(o),o}function k(t){let e=document.createElement("div");return e.classList.add("buttonSection"),e.setAttribute("data-projectButtons",m.length-1),t.appendChild(e),e}function A(t){let e=document.createElement("button");return e.classList.add("addToDoButton"),e.setAttribute("data-add",m.length-1),e.innerText="Add Task",t.appendChild(e),e}function I(t){u.push(t)}function B(t){let e=document.createElement("button");return e.classList.add("deleteButton"),e.setAttribute("data-delete",m.length-1),e.innerText="Delete",t.appendChild(e),e}function _(t){p.push(t)}function N(t){let e=document.createElement("button");return e.classList.add("projectEditButton"),e.setAttribute("data-projectedit",m.length-1),e.innerText="Edit Project",t.appendChild(e),e}function x(t){h.push(t)}function S(t){t.addEventListener("click",(function(){s.classList.remove("hidden"),s.classList.add("edit"),c=t.dataset.projectedit}))}function D(){let t=Array.from(document.querySelectorAll("input"));for(let e=0;e<t.length;e++)t[e].value=""}function j(t){t.addEventListener("click",(function(){w.classList.remove("hidden"),o=t.dataset.add,C=document.getElementById(o),F.classList.remove("editItem"),F.classList.add("addItem")}))}function T(e){e.addEventListener("click",(function(){l=e.dataset.delete,r=document.getElementById(l),m.splice(l,1,""),f.splice(l,1,""),u.splice(l,1,""),p.splice(l,1,""),u.splice(l,1,""),document.querySelector(`[data-projectbuttons="${l}"]`),t.removeChild(r.parentNode),console.log(m),ft()}))}function q(t){t.addEventListener("click",(function(){let e=t.dataset.sort,n=document.querySelector(`[data-sortinput="${e}"]`),i=m[e];0!=i.length&&(function(t,e){"Name"==e.value?(t.sort(((t,e)=>t.title>e.title?1:-1)),t.sort(((t,e)=>t._title>e._title?1:-1))):"Priority"==e.value?(t.sort(((t,e)=>t.priority>e.priority?1:-1)),t.sort(((t,e)=>t._priority>e._priority?1:-1))):"Completion"==e.value?(t.sort(((t,e)=>t.status>e.status?-1:1)),t.sort(((t,e)=>t._status>e._status?-1:1))):"dueDate"==e.value&&(t.sort(((t,e)=>t.dueDate>e.dueDate?1:-1)),t.sort(((t,e)=>t._dueDate>e._dueDate?1:-1)))}(i,n),function(t,e){let n=document.getElementById(t);!function(t,e){for(let n=0;n<e.length;n++)t.removeChild(t.lastChild)}(n,e);for(let i=0;i<e.length;i++){let e=document.createElement("div");e.classList.add("taskContainer"),n.appendChild(e),e.setAttribute("data-taskcontainer",`${t}${[i]}`),e.setAttribute("data-specifictaskcontainer",[i]);let s=Z(m[t][i],e);s.setAttribute("data-checkbox",`${t}${[i]}`),s.setAttribute("data-specificcheckbox",[i]);let a=X(e,m[t][i]);a.setAttribute("data-task",`${t}${[i]}`),a.setAttribute("data-specifictask",[i]);let d=tt(e),o=et(d);o.setAttribute("data-edit",`${t}${[i]}`),o.setAttribute("data-specificedit",[i]);let l=nt(d);l.setAttribute("data-deleteItem",`${t}${[i]}`),l.setAttribute("data-specificdeleteItem",[i]),it(s),st(o),at(l),dt(),ot(l),ct(s),rt(s),lt(s)}}(e,i),ft())}))}function P(t){let e=document.createElement("div");e.classList.add("statusBarContainer");let n=document.createElement("div"),i=document.createElement("div");return n.classList.add("statusBar"),n.setAttribute("data-statusbar",m.length-1),i.classList.add("percentageText"),i.setAttribute("data-percentagetext",m.length-1),t.appendChild(e),e.appendChild(n),e.appendChild(i),statusbar}e.addEventListener("click",(function(){s.classList.remove("hidden")})),a.addEventListener("click",(function(){if(!s.classList.contains("edit")){y();let t=i(),e=b(),n=E(e,t);L(t),v(n),P(n),q($(n));let a=k(e),d=N(a);x(d);let o=A(a);I(o);let l=B(a);_(l),j(o),T(l),S(d),s.classList.add("hidden"),D(),ft(),console.log(m)}})),a.addEventListener("click",(function(){if(s.classList.contains("edit")){let t=document.querySelector(`[data-projectinfo="${c}"]`),e=i();f.splice(c,1,e),t.textContent=e.info,D(),s.classList.add("hidden"),s.classList.remove("edit"),ft()}})),d.addEventListener("click",(function(){s.classList.add("hidden")}));const w=document.getElementById("itemFormContainer");let F=document.getElementById("itemForm"),O="",J=[],R=[];const M=document.getElementById("itemSubmitButton");let z="",G=document.getElementById(z),H=document.getElementById(O),K=document.getElementById("reset");const Q=document.getElementById("taskClose");let U=document.querySelector(`[data-checkbox="${z}"]`),V=[];function W(){let t=document.createElement("div");return t.classList.add("taskContainer"),C.appendChild(t),t}function X(t,e){let n=document.createElement("div");return n.classList.add("newTask"),"Complete"!=e.status&&"Complete"!=e._status?n.classList.add("taskNotComplete"):n.classList.add("taskComplete"),n.textContent=e.info,t.appendChild(n),n}function Y(t){m[o].push(t)}function Z(t,e){let n=document.createElement("button");return n.classList.add("checkbox"),"Complete"!=t.status&&"Complete"!=t._status?(n.classList.add("notComplete"),e.appendChild(n)):"Complete"==t._status&&(n.classList.add("Complete"),e.appendChild(n)),n}function tt(t){let e=document.createElement("div");return e.classList.add("itemButtons"),t.appendChild(e),e}function et(t){let e=document.createElement("button");return e.innerText="Edit Task",e.classList.add("editTaskButton"),t.appendChild(e),e}function nt(t){let e=document.createElement("button");return e.innerText="Delete Task",e.classList.add("deleteTaskButton"),t.appendChild(e),e}function it(t){V.push(t)}function st(t){J.push(t)}function at(t){R.push(t)}function dt(){for(let t=0;t<J.length;t++)J[t].addEventListener("click",(function(){w.classList.remove("hidden"),F.classList.remove("addItem"),F.classList.add("editItem"),z=J[t].dataset.edit,G=document.querySelector(`[data-task="${z}"]`)}))}function ot(t){t.addEventListener("click",(function(){O=t.dataset.deleteitem;let e=t.dataset.specificdeleteitem;H=document.querySelector(`[data-taskContainer="${O}"]`);let n=H.parentNode;n.removeChild(H),R.splice(e,1),J.splice(e,1),V.splice(e,1);let i=n.id;m[i].splice(e,1),function(t){let e=ut(),n=t,i=function(t,e){let n=document.querySelector(`[data-statusbar="${e}"]`),i=document.createElement("div");return n.firstChild&&n.removeChild(n.firstChild),i.style.width=`${t}%`,i.style.height="100%",n.appendChild(i),n}(e.percentageArray[n],n);if(0==isNaN(e.percentageArray[n]))mt(i,e.percentageArray[n]);else{let t=i.dataset.statusbar;document.querySelector(`[data-percentagetext="${t}"]`).innerText=""}}(i),ft()}))}function lt(t){t.addEventListener("click",(function(){let e=ut(),n=t.parentNode.parentNode.id,i=document.querySelector(`[data-statusbar="${n}"]`),s=document.createElement("div");i.firstChild&&i.removeChild(i.firstChild),s.style.width=`${e.percentageArray[n]}%`,s.style.height="100%",i.appendChild(s),mt(i,e.percentageArray[n])}))}function ct(t){t.addEventListener("click",(function(){let e=t.dataset.specificcheckbox,n=t.parentNode.parentNode.id;t.classList.contains("notComplete")?(t.classList.remove("notComplete"),t.classList.add("Complete"),m[n][e].status="Complete"):t.classList.contains("Complete")&&(t.classList.add("notComplete"),t.classList.remove("Complete"),m[n][e].status="Not Complete"),ft()}))}function rt(t){t.addEventListener("click",(function(){let e=t.dataset.checkbox,n=document.querySelector(`[data-task="${e}"]`);t.classList.contains("Complete")?(n.classList.remove("taskNotComplete"),n.classList.add("taskComplete")):t.classList.contains("notComplete")&&(n.classList.add("taskNotComplete"),n.classList.remove("taskComplete"))}))}function ut(){let t=[],e=[];for(let n=0;n<m.length;n++)if("object"==typeof m[n]){let i=m[n].filter(pt);t.push(i);let s=Math.round(i.length/m[n].length*100);e.push(s)}else t.push(""),e.push("");return{filteredArrayList:t,percentageArray:e}}function pt(t){return"Complete"==t._status}function mt(t,e){let n=t.dataset.statusbar;document.querySelector(`[data-percentagetext="${n}"]`).innerText=`${e}% Complete`}function ht(){let t=ut();mt(function(t){let e=document.querySelector(`[data-statusbar="${o}"]`),n=document.createElement("div");return e.firstChild&&e.removeChild(e.firstChild),n.style.width=`${t}%`,n.style.height="100%",e.appendChild(n),e}(t.percentageArray[o]),t.percentageArray[o])}function ft(){localStorage.setItem("storedProjectList",JSON.stringify(m)),localStorage.setItem("projectInfo",JSON.stringify(f))}function gt(t){Object.defineProperty(t,"status",{set(e){t._status=e}}),t.info=function(t){return`Title: ${t._title} \r\n\n        Description: ${t._description} \r\n\n        Due Date: ${t._dueDate} \r\n\n        Priority: ${t._priority} \r\n\n        Notes: ${t._notes} `}(t)}function Ct(t){y();let e=b(),n=E(e,t);L(t),v(n),P(n),q($(n));let i=k(e),s=N(i);x(s);let a=A(i);I(a);let d=B(i);_(d),j(a),T(d),S(s)}function yt(t){Y(t);let e=W();e.setAttribute("data-taskcontainer",`${[o]}${m[o].length-1}`),e.setAttribute("data-specifictaskcontainer",""+(m[o].length-1));let n=Z(t,e);n.setAttribute("data-checkbox",`${[o]}${m[o].length-1}`),n.setAttribute("data-specificcheckbox",""+(m[o].length-1));let i=X(e,t);i.setAttribute("data-task",`${[o]}${m[o].length-1}`),i.setAttribute("data-specifictask",""+(m[o].length-1)),ht();let s=tt(e),a=et(s);a.setAttribute("data-edit",`${[o]}${m[o].length-1}`),a.setAttribute("data-specificedit",""+(m[o].length-1));let d=nt(s);d.setAttribute("data-deleteItem",`${[o]}${m[o].length-1}`),d.setAttribute("data-specificdeleteItem",""+(m[o].length-1)),it(n),st(a),at(d),dt(),ot(d),ct(n),lt(n),rt(n)}M.addEventListener("click",(function(){F.classList.contains("addItem")?function(){let t=n();if(null!=t&&""!=t.dueDate){Y(t);let e=W();e.setAttribute("data-taskcontainer",`${[o]}${m[o].length-1}`),e.setAttribute("data-specifictaskcontainer",""+(m[o].length-1));let n=Z(t,e);n.setAttribute("data-checkbox",`${[o]}${m[o].length-1}`),n.setAttribute("data-specificcheckbox",""+(m[o].length-1));let i=X(e,t);i.setAttribute("data-task",`${[o]}${m[o].length-1}`),i.setAttribute("data-specifictask",""+(m[o].length-1)),ht();let s=tt(e),a=et(s);a.setAttribute("data-edit",`${[o]}${m[o].length-1}`),a.setAttribute("data-specificedit",""+(m[o].length-1));let d=nt(s);d.setAttribute("data-deleteItem",`${[o]}${m[o].length-1}`),d.setAttribute("data-specificdeleteItem",""+(m[o].length-1)),it(n),st(a),at(d),dt(),ot(d),ct(n),lt(n),rt(n),D(),w.classList.add("hidden"),ft()}else alert("Please Fill Out Required Fields")}():F.classList.contains("editItem")&&function(){F.classList.remove("addItem");let t=n();var e;null!=t&&""!=t.dueDate?(G.innerText="",G.innerText=t.info,function(t){let e=G.parentNode,n=G.dataset.specifictask,i=e.parentNode.id;m[i].splice(n,1,t)}(t),function(t){let e=document.querySelector(`[data-task="${z}"]`),n=e.dataset.specifictask,i=e.parentNode.parentNode.id;"Complete"!=t.status?(e.classList.add("taskNotComplete"),e.classList.remove("taskComplete"),m[i][n].status="Not Complete"):"Complete"==t.status&&(e.classList.remove("taskNotComplete"),e.classList.add("taskComplete"),m[i][n].status="Complete")}(t),"Complete"!=(e=t).status?(U=document.querySelector(`[data-checkbox="${z}"]`),U.classList.add("notComplete"),U.classList.remove("Complete")):"Complete"==e.status&&(U=document.querySelector(`[data-checkbox="${z}"]`),U.classList.add("Complete"),U.classList.remove("notComplete")),function(){let t=ut(),e=G.parentNode.parentNode.id,n=function(t){let e=G.parentNode.parentNode.id,n=document.querySelector(`[data-statusbar="${e}"]`),i=document.createElement("div");return n.firstChild&&n.removeChild(n.firstChild),i.style.width=`${t}%`,i.style.height="100%",n.appendChild(i),n}(t.percentageArray[e]);NaN!=t.percentageArray[e]&&mt(n,t.percentageArray[e])}(),D(),w.classList.add("hidden"),ft()):alert("Please Fill Out Required Fields")}()})),K.addEventListener("click",(()=>D())),Q.addEventListener("click",(()=>w.classList.add("hidden"))),window.onload=()=>{!function(){let t=JSON.parse(localStorage.getItem("storedProjectList")),e=JSON.parse(localStorage.getItem("projectInfo"));for(const t in e){let i=e[t];null!=i._title?((n=i).info=function(t){return`Project Title: ${t._title} \r\n\n        Project Description: ${t._description} \r\n`}(n),Ct(i)):(f.push(""),m.push(""))}var n;for(const e in t)""!=t[e]&&t[e].forEach((function(t){C=document.getElementById(e),o=e;let n=t;gt(n),console.log(n._status),yt(n),console.log(n)}))}()}}()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFBSUMsRUFBb0JELEVBQWFuTCxHQUNMOEosTUFBNUJzQixFQUFrQnRPLFNBdUNDeUMsRUF0Q0Q2TCxHQTJDbEJ2TyxLQUpSLFNBQWMwQyxHQUNWLE1BQU8sa0JBQW1CQSxFQUFRekMsNkNBQ1h5QyxFQUFReEMsbUJBQ25DLENBQ2VGLENBQUswQyxHQTFDaEJvSyxHQUFxQnlCLEtBRWpCbk0sRUFBZ0JJLEtBQUssSUFDckJOLEVBQVlNLEtBQUssSUFFMUIsQ0FnQ0gsSUFBK0JFLEVBL0IzQixJQUFLLE1BQU1BLEtBQVd5TCxFQUNZLElBQXRCQSxFQUFVekwsSUFDVnlMLEVBQVV6TCxHQUFTOEwsU0FBUSxTQUFTM0UsR0FDcEN2SCxFQUFrQnZCLFNBQVNDLGVBQWUwQixHQUMxQ2QsRUFBWWMsRUFDWixJQUFJK0wsRUFBYTVFLEVBQ2pCNEMsR0FBbUJnQyxHQUNuQnZJLFFBQVFDLElBQUlzSSxFQUFXMU8sU0FDdkJpTixHQUFpQnlCLEdBQ2pCdkksUUFBUUMsSUFBSXNJLEVBQ1osR0FHWixDQWdGQUMsRUFBeUIsQ0FJN0IsQ0N2ekJBQyxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC8uL3NyYy90YXNrLmpzIiwid2VicGFjazovL3RvLWRvLWxpc3QvLi9zcmMvcHJvamVjdC5qcyIsIndlYnBhY2s6Ly90by1kby1saXN0Ly4vc3JjL2FwcGxpY2F0aW9uTG9naWMuanMiLCJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC8uL3NyYy9kb20uanMiLCJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBUb0RvSXRlbSB7XG4gICAgY29uc3RydWN0b3IodGl0bGUsIGRlc2NyaXB0aW9uLCBkdWVEYXRlLCBwcmlvcml0eSwgbm90ZXMsIHN0YXR1cykge1xuICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICAgICAgdGhpcy5kdWVEYXRlID0gZHVlRGF0ZTtcbiAgICAgICAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5O1xuICAgICAgICB0aGlzLm5vdGVzID0gbm90ZXM7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuICAgIH1cblxuICAgIGdldCB0aXRsZSgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl90aXRsZSlcbiAgICB9XG5cbiAgICBnZXQgc3RhdHVzKCkge1xuICAgICAgICByZXR1cm4gKGAke3RoaXMuX3N0YXR1c31gKVxuICAgIH1cblxuICAgIGdldCBkdWVEYXRlKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuX2R1ZURhdGUpXG4gICAgfVxuXG4gICAgZ2V0IHByaW9yaXR5KCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuX3ByaW9yaXR5KVxuICAgIH1cblxuICAgIGdldCBpbmZvKCkge1xuICAgICAgICByZXR1cm4gKGBUaXRsZTogJHt0aGlzLl90aXRsZX0gXFxyXFxuXG4gICAgICAgIERlc2NyaXB0aW9uOiAke3RoaXMuX2Rlc2NyaXB0aW9ufSBcXHJcXG5cbiAgICAgICAgRHVlIERhdGU6ICR7dGhpcy5fZHVlRGF0ZX0gXFxyXFxuXG4gICAgICAgIFByaW9yaXR5OiAke3RoaXMuX3ByaW9yaXR5fSBcXHJcXG5cbiAgICAgICAgTm90ZXM6ICR7dGhpcy5fbm90ZXN9IGApIFxuICAgIH1cblxuICAgIHNldCB0aXRsZShuZXdUaXRsZSkge1xuICAgICAgICB0aGlzLl90aXRsZSA9IG5ld1RpdGxlXG4gICAgfVxuXG4gICAgc2V0IGRlc2NyaXB0aW9uKG5ld0Rlc2NyaXB0aW9uKSB7XG4gICAgICAgIHRoaXMuX2Rlc2NyaXB0aW9uID0gbmV3RGVzY3JpcHRpb25cbiAgICB9XG5cbiAgICBzZXQgcHJpb3JpdHkobmV3UHJpb3JpdHkpIHtcbiAgICAgICAgdGhpcy5fcHJpb3JpdHkgPSBuZXdQcmlvcml0eVxuICAgIH1cblxuICAgIHNldCBkdWVEYXRlKG5ld0R1ZURhdGUpIHtcbiAgICAgICAgdGhpcy5fZHVlRGF0ZSA9IG5ld0R1ZURhdGVcbiAgICB9XG5cbiAgICBzZXQgbm90ZXMobmV3Tm90ZXMpIHtcbiAgICAgICAgdGhpcy5fbm90ZXMgPSBuZXdOb3Rlc1xuICAgIH1cblxuICAgIHNldCBzdGF0dXMobmV3U3RhdHVzKSB7XG4gICAgICAgIHRoaXMuX3N0YXR1cyA9IG5ld1N0YXR1c1xuICAgIH1cblxuICAgIFxufVxuXG5cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb2plY3Qge1xuICAgIGNvbnN0cnVjdG9yKHRpdGxlLCBkZXNjcmlwdGlvbikge1xuICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICB9XG5cbiAgICBnZXQgdGl0bGUoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5fdGl0bGUpXG4gICAgfVxuXG4gICAgZ2V0IGRlc2NyaXB0aW9uKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuX2Rlc2NyaXB0aW9uKVxuICAgIH1cblxuICAgIGdldCBpbmZvKCkge1xuICAgICAgICByZXR1cm4gKGBQcm9qZWN0IFRpdGxlOiAke3RoaXMuX3RpdGxlfSBcXHJcXG5cbiAgICAgICAgUHJvamVjdCBEZXNjcmlwdGlvbjogJHt0aGlzLl9kZXNjcmlwdGlvbn0gYCkgXG4gICAgfVxuXG4gICAgc2V0IHRpdGxlKG5ld1RpdGxlKSB7XG4gICAgICAgIHRoaXMuX3RpdGxlID0gbmV3VGl0bGVcbiAgICB9XG5cbiAgICBzZXQgZGVzY3JpcHRpb24obmV3RGVzY3JpcHRpb24pIHtcbiAgICAgICAgdGhpcy5fZGVzY3JpcHRpb24gPSBuZXdEZXNjcmlwdGlvblxuICAgIH1cbn0iLCJpbXBvcnQgVG9Eb0l0ZW0gZnJvbSBcIi4vdGFzay5qc1wiO1xuaW1wb3J0IFByb2plY3QgZnJvbSBcIi4vcHJvamVjdC5qc1wiO1xuXG5mdW5jdGlvbiBhZGRJdGVtKCkge1xuICAgIGxldCBpdGVtTmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpdGVtTmFtZScpLnZhbHVlO1xuICAgIGxldCBpdGVtRGVzY3JpcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaXRlbURlc2NyaXB0aW9uJykudmFsdWU7XG4gICAgbGV0IGR1ZURhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHVlRGF0ZScpLnZhbHVlO1xuICAgIGxldCBwcmlvcml0eSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmlvcml0eScpLnZhbHVlO1xuICAgIGxldCBub3RlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdub3RlcycpLnZhbHVlO1xuICAgIGxldCBjb21wbGV0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb21wbGV0ZScpLnZhbHVlO1xuXG4gICAgbGV0IGl0ZW0gPSBuZXcgVG9Eb0l0ZW0oaXRlbU5hbWUsIGl0ZW1EZXNjcmlwdGlvbiwgZHVlRGF0ZSwgcHJpb3JpdHksIG5vdGVzLCBjb21wbGV0ZSk7XG4gICAgcmV0dXJuIGl0ZW07XG4gICAgXG59XG5cbmZ1bmN0aW9uIGFkZFByb2plY3QoKSB7XG4gICAgY29uc3QgcHJvamVjdFRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3ROYW1lJykudmFsdWU7XG4gICAgY29uc3QgcHJvamVjdERlc2NyaXB0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3REZXNjcmlwdGlvbicpLnZhbHVlO1xuXG4gICAgbGV0IHByb2plY3QgPSBuZXcgUHJvamVjdChwcm9qZWN0VGl0bGUsIHByb2plY3REZXNjcmlwdGlvbilcbiAgICByZXR1cm4gcHJvamVjdDtcbn1cblxuZXhwb3J0IHthZGRJdGVtLCBhZGRQcm9qZWN0fSIsImltcG9ydCB7IGFkZEl0ZW0sIGFkZFByb2plY3QgfSBmcm9tIFwiLi9hcHBsaWNhdGlvbkxvZ2ljLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGZ1bmN0aW9uYWxpdHkoKSB7XG4gICAgY29uc3QgbWFpbkJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbicpO1xuICAgIGNvbnN0IGFkZEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRCdXR0b24nKTtcbiAgICBjb25zdCBwcm9qZWN0Rm9ybUNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0Rm9ybUNvbnRhaW5lcicpO1xuICAgIGNvbnN0IHByb2plY3RTdWJtaXRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdFN1Ym1pdEJ1dHRvbicpO1xuICAgIGNvbnN0IHByb2plY3RDbG9zZUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0Q2xvc2UnKVxuICAgIGxldCBhZGRUYXNrSWQgPSBcIlwiO1xuICAgIGxldCBkZWxldGVQcm9qZWN0SWQgPSBcIlwiO1xuICAgIGxldCBwcm9qZWN0RWRpdElEID0gXCJcIlxuICAgIGxldCBwcm9qZWN0VG9EZWxldGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkZWxldGVQcm9qZWN0SWQpO1xuICAgIGxldCB0b0RvQnV0dG9uTGlzdCA9IFtdO1xuICAgIGxldCBkZWxldGVCdXR0b25MaXN0ID0gW107XG4gICAgbGV0IHByb2plY3RMaXN0ID0gW107XG4gICAgbGV0IHN0b3JlZFByb2plY3RMaXN0ID0gW11cbiAgICBsZXQgcHJvamVjdEVkaXRCdXR0b25MaXN0ID0gW11cbiAgICBsZXQgcHJvamVjdExpc3RJbmZvID0gW107XG4gICAgbGV0IHN0b3JlZFByb2plY3RMaXN0SW5mbyA9IFtdXG4gICAgbGV0IHNlbGVjdGVkUHJvamVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGFkZFRhc2tJZCk7XG5cblxuICAgIC8vIHByb2plY3QgZnVuY3Rpb25zXG5cbiAgICBmdW5jdGlvbiBhZGRUb1Byb2plY3RMaXN0KCkge1xuICAgICAgICBwcm9qZWN0TGlzdC5wdXNoKFtdKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGRQcm9qZWN0TGlzdEluZm8ocHJvamVjdCkge1xuICAgICAgICBwcm9qZWN0TGlzdEluZm8ucHVzaChwcm9qZWN0KVxuICAgICAgICBzdG9yZWRQcm9qZWN0TGlzdEluZm8ucHVzaChwcm9qZWN0KVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZVByb2plY3RDb250YWluZXIoKSB7XG4gICAgICAgIGxldCBwcm9qZWN0Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgbWFpbkJvZHkuYXBwZW5kQ2hpbGQocHJvamVjdENvbnRhaW5lcik7XG4gICAgICAgIHJldHVybiBwcm9qZWN0Q29udGFpbmVyXG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIGNyZWF0ZU5ld1Byb2plY3QocHJvamVjdENvbnRhaW5lciwgcHJvamVjdCkge1xuICAgICAgICBsZXQgbmV3UHJvamVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgbmV3UHJvamVjdC5jbGFzc0xpc3QuYWRkKFwicHJvamVjdFwiKVxuICAgICAgICAgICAgbGV0IHByb2plY3RJbmZvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgICAgICAgICAgcHJvamVjdEluZm8uY2xhc3NMaXN0LmFkZCgncHJvamVjdEluZm8nKVxuICAgICAgICAgICAgcHJvamVjdEluZm8uc2V0QXR0cmlidXRlKCdkYXRhLXByb2plY3RJbmZvJywgcHJvamVjdExpc3QubGVuZ3RoIC0gMSlcbiAgICAgICAgICAgIHByb2plY3RJbmZvLnRleHRDb250ZW50ID0gcHJvamVjdC5pbmZvXG4gICAgICAgICAgICBwcm9qZWN0Q29udGFpbmVyLmFwcGVuZENoaWxkKG5ld1Byb2plY3QpXG4gICAgICAgICAgICBuZXdQcm9qZWN0LmFwcGVuZENoaWxkKHByb2plY3RJbmZvKTtcbiAgICAgICAgcmV0dXJuIG5ld1Byb2plY3RcbiAgICAgICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIHNldE5ld1Byb2plY3RJZChuZXdQcm9qZWN0KSB7XG4gICAgICAgIG5ld1Byb2plY3Quc2V0QXR0cmlidXRlKCdpZCcsIHByb2plY3RMaXN0Lmxlbmd0aCAtIDEpO1xuICAgICAgICByZXR1cm4gbmV3UHJvamVjdC5pZFxuICAgIH1cbiAgICBcblxuICAgIGZ1bmN0aW9uIGFkZFNvcnRCdXR0b25zIChuZXdQcm9qZWN0KSB7XG4gICAgICAgIGxldCBzb3J0QnV0dG9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBsZXQgc29ydE9wdGlvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWxlY3QnKTtcbiAgICAgICAgc29ydE9wdGlvbnMuc2V0QXR0cmlidXRlKCdkYXRhLXNvcnRpbnB1dCcsIHByb2plY3RMaXN0Lmxlbmd0aC0xKVxuICAgICAgICBzb3J0QnV0dG9ucy5jbGFzc0xpc3QuYWRkKCdzb3J0QnV0dG9ucycpXG4gICAgICAgIGxldCBzb3J0TmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBzb3J0TmFtZS5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBcIk5hbWVcIik7XG4gICAgICAgIHNvcnROYW1lLnRleHRDb250ZW50ID0gXCJTb3J0IEJ5IE5hbWVcIlxuICAgICAgICBsZXQgc29ydFByaW9yaXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgIHNvcnRQcmlvcml0eS5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBcIlByaW9yaXR5XCIpO1xuICAgICAgICBzb3J0UHJpb3JpdHkudGV4dENvbnRlbnQgPSBcIlNvcnQgQnkgUHJpb3JpdHlcIlxuICAgICAgICBsZXQgc29ydER1ZURhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgc29ydER1ZURhdGUuc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgXCJkdWVEYXRlXCIpO1xuICAgICAgICBzb3J0RHVlRGF0ZS50ZXh0Q29udGVudCA9IFwiU29ydCBCeSBEdWUgRGF0ZVwiXG4gICAgICAgIGxldCBzb3J0Q29tcGxldGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgc29ydENvbXBsZXRlLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIFwiQ29tcGxldGlvblwiKTtcbiAgICAgICAgc29ydENvbXBsZXRlLnRleHRDb250ZW50ID0gXCJTb3J0IEJ5IENvbXBsZXRpb25cIlxuICAgICAgICBsZXQgc29ydFN1Ym1pdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpXG4gICAgICAgIHNvcnRTdWJtaXQuc2V0QXR0cmlidXRlKCdkYXRhLXNvcnQnLCBwcm9qZWN0TGlzdC5sZW5ndGgtMSk7XG4gICAgICAgIHNvcnRTdWJtaXQudGV4dENvbnRlbnQgPSBcIlN1Ym1pdFwiXG4gICAgICAgIG5ld1Byb2plY3QuYXBwZW5kQ2hpbGQoc29ydEJ1dHRvbnMpO1xuICAgICAgICBzb3J0QnV0dG9ucy5hcHBlbmRDaGlsZChzb3J0T3B0aW9ucyk7XG4gICAgICAgIHNvcnRPcHRpb25zLmFwcGVuZENoaWxkKHNvcnROYW1lKVxuICAgICAgICBzb3J0T3B0aW9ucy5hcHBlbmRDaGlsZChzb3J0UHJpb3JpdHkpXG4gICAgICAgIHNvcnRPcHRpb25zLmFwcGVuZENoaWxkKHNvcnREdWVEYXRlKTtcbiAgICAgICAgc29ydE9wdGlvbnMuYXBwZW5kQ2hpbGQoc29ydENvbXBsZXRlKVxuICAgICAgICBzb3J0QnV0dG9ucy5hcHBlbmRDaGlsZChzb3J0U3VibWl0KVxuXG4gICAgICAgIHJldHVybiBzb3J0U3VibWl0XG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIGFkZEJ1dHRvblNlY3Rpb24ocHJvamVjdENvbnRhaW5lcikge1xuICAgICAgICBsZXQgYnV0dG9uU2VjdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgYnV0dG9uU2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdidXR0b25TZWN0aW9uJyk7XG4gICAgICAgICAgICBidXR0b25TZWN0aW9uLnNldEF0dHJpYnV0ZSgnZGF0YS1wcm9qZWN0QnV0dG9ucycsIHByb2plY3RMaXN0Lmxlbmd0aC0xKTtcbiAgICAgICAgICAgIHByb2plY3RDb250YWluZXIuYXBwZW5kQ2hpbGQoYnV0dG9uU2VjdGlvbik7XG4gICAgICAgICAgICByZXR1cm4gYnV0dG9uU2VjdGlvblxuICAgIH0gICBcblxuICAgICAgZnVuY3Rpb24gYWRkUHJvamVjdEFkZEJ1dHRvbihidXR0b25TZWN0aW9uKSB7XG4gICAgICAgIGxldCBhZGRUb0RvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGFkZFRvRG8uY2xhc3NMaXN0LmFkZCgnYWRkVG9Eb0J1dHRvbicpO1xuICAgICAgICBhZGRUb0RvLnNldEF0dHJpYnV0ZSgnZGF0YS1hZGQnLCBwcm9qZWN0TGlzdC5sZW5ndGggLSAxKTtcbiAgICAgICAgYWRkVG9Eby5pbm5lclRleHQgPSBcIkFkZCBUYXNrXCI7XG4gICAgICAgIGJ1dHRvblNlY3Rpb24uYXBwZW5kQ2hpbGQoYWRkVG9Ebyk7XG4gICAgICAgIHJldHVybiBhZGRUb0RvXG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIHByb2plY3RUb0RvQnV0dG9uTGlzdChhZGRUb0RvKSB7XG4gICAgICAgIHRvRG9CdXR0b25MaXN0LnB1c2goYWRkVG9Ebyk7XG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIGFkZFByb2plY3REZWxldGVCdXR0b24oYnV0dG9uU2VjdGlvbikge1xuICAgICAgICBsZXQgZGVsZXRlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGRlbGV0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdkZWxldGVCdXR0b24nKTtcbiAgICAgICAgZGVsZXRlQnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS1kZWxldGUnLCBwcm9qZWN0TGlzdC5sZW5ndGggLSAxKTtcbiAgICAgICAgZGVsZXRlQnV0dG9uLmlubmVyVGV4dCA9IFwiRGVsZXRlXCI7XG4gICAgICAgIGJ1dHRvblNlY3Rpb24uYXBwZW5kQ2hpbGQoZGVsZXRlQnV0dG9uKTtcbiAgICAgICAgcmV0dXJuIGRlbGV0ZUJ1dHRvblxuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiBwcm9qZWN0RGVsZXRlQnV0dG9uTGlzdChkZWxldGVCdXR0b24pIHtcbiAgICAgICAgZGVsZXRlQnV0dG9uTGlzdC5wdXNoKGRlbGV0ZUJ1dHRvbik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkUHJvamVjdEVkaXRCdXR0b24oYnV0dG9uU2VjdGlvbikge1xuICAgICAgICBsZXQgZWRpdEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBlZGl0QnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3Byb2plY3RFZGl0QnV0dG9uJyk7XG4gICAgICAgIGVkaXRCdXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLXByb2plY3RlZGl0JywgcHJvamVjdExpc3QubGVuZ3RoIC0gMSk7XG4gICAgICAgIGVkaXRCdXR0b24uaW5uZXJUZXh0ID0gXCJFZGl0IFByb2plY3RcIjtcbiAgICAgICAgYnV0dG9uU2VjdGlvbi5hcHBlbmRDaGlsZChlZGl0QnV0dG9uKTtcbiAgICAgICAgcmV0dXJuIGVkaXRCdXR0b25cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcm9qRWRpdEJ1dHRvbkxpc3QoZWRpdEJ1dHRvbikge1xuICAgICAgICBwcm9qZWN0RWRpdEJ1dHRvbkxpc3QucHVzaChlZGl0QnV0dG9uKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHByb2plY3RFZGl0QnV0dG9uRnVuY3Rpb25hbGl0eShlZGl0QnV0dG9uKSB7XG4gICAgICAgIGVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHByb2plY3RGb3JtQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgcHJvamVjdEZvcm1Db250YWluZXIuY2xhc3NMaXN0LmFkZCgnZWRpdCcpXG4gICAgICAgICAgICBwcm9qZWN0RWRpdElEID0gZWRpdEJ1dHRvbi5kYXRhc2V0LnByb2plY3RlZGl0O1xuICAgICAgICB9KVxuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiBjbGVhcklucHV0cygpIHtcbiAgICAgICAgbGV0IGlucHV0VmFsdWVzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCcpKVxuICAgICAgICBmb3IgKGxldCBpPTA7IGk8aW5wdXRWYWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaW5wdXRWYWx1ZXNbaV0udmFsdWUgPSBcIlwiXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGRJdGVtVG9Qcm9qZWN0KGJ1dHRvbikge1xuICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBpdGVtRm9ybUNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIGFkZFRhc2tJZCA9IGJ1dHRvbi5kYXRhc2V0LmFkZDtcbiAgICAgICAgICAgIHNlbGVjdGVkUHJvamVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGFkZFRhc2tJZCk7XG4gICAgICAgICAgICBpdGVtRm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdlZGl0SXRlbScpO1xuICAgICAgICAgICAgaXRlbUZvcm0uY2xhc3NMaXN0LmFkZCgnYWRkSXRlbScpXG4gICAgICAgICAgICB9KVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRlbGV0ZUJ1dHRvbkZ1bmN0aW9uYWxpdHkoYnV0dG9uKSB7XG4gICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBkZWxldGVQcm9qZWN0SWQgPSBidXR0b24uZGF0YXNldC5kZWxldGU7XG4gICAgICAgICAgICBwcm9qZWN0VG9EZWxldGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkZWxldGVQcm9qZWN0SWQpO1xuICAgICAgICAgICAgcHJvamVjdExpc3Quc3BsaWNlKGRlbGV0ZVByb2plY3RJZCwgMSwgXCJcIik7XG4gICAgICAgICAgICBwcm9qZWN0TGlzdEluZm8uc3BsaWNlKGRlbGV0ZVByb2plY3RJZCwgMSwgXCJcIilcbiAgICAgICAgICAgIHRvRG9CdXR0b25MaXN0LnNwbGljZShkZWxldGVQcm9qZWN0SWQsIDEsIFwiXCIpO1xuICAgICAgICAgICAgZGVsZXRlQnV0dG9uTGlzdC5zcGxpY2UoZGVsZXRlUHJvamVjdElkLCAxLCBcIlwiKTtcbiAgICAgICAgICAgIHRvRG9CdXR0b25MaXN0LnNwbGljZShkZWxldGVQcm9qZWN0SWQsIDEsIFwiXCIpO1xuICAgICAgICAgICAgbGV0IHByb2plY3RCdXR0b25zVG9EZWxldGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1wcm9qZWN0YnV0dG9ucz1cIiR7ZGVsZXRlUHJvamVjdElkfVwiXWApXG4gICAgICAgICAgICBtYWluQm9keS5yZW1vdmVDaGlsZChwcm9qZWN0VG9EZWxldGUucGFyZW50Tm9kZSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhwcm9qZWN0TGlzdClcbiAgICAgICAgICAgIHNhdmVUb0xvY2FsU3RvcmFnZSgpO1xuICAgICAgICB9KX1cblxuICAgIGZ1bmN0aW9uIHNvcnRQcm9qZWN0VGFza3MocHJvamVjdCwgdHlwZW9mU29ydCkge1xuICAgICAgICBpZiAodHlwZW9mU29ydC52YWx1ZSA9PSBcIk5hbWVcIikge1xuICAgICAgICAgICAgcHJvamVjdC5zb3J0KChhLCBiKSA9PiAoYS50aXRsZSA+IGIudGl0bGUpID8gMSA6IC0xKVxuICAgICAgICAgICAgcHJvamVjdC5zb3J0KChhLCBiKSA9PiAoYS5fdGl0bGUgPiBiLl90aXRsZSkgPyAxIDogLTEpXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mU29ydC52YWx1ZSA9PSBcIlByaW9yaXR5XCIpIHtcbiAgICAgICAgICAgIHByb2plY3Quc29ydCgoYSwgYikgPT4gKGEucHJpb3JpdHkgPiBiLnByaW9yaXR5KSA/IDEgOiAtMSlcbiAgICAgICAgICAgIHByb2plY3Quc29ydCgoYSwgYikgPT4gKGEuX3ByaW9yaXR5ID4gYi5fcHJpb3JpdHkpID8gMSA6IC0xKVxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZlNvcnQudmFsdWUgPT0gXCJDb21wbGV0aW9uXCIpIHtcbiAgICAgICAgICAgIHByb2plY3Quc29ydCgoYSwgYikgPT4gKGEuc3RhdHVzID4gYi5zdGF0dXMpID8gLTEgOiAxKVxuICAgICAgICAgICAgcHJvamVjdC5zb3J0KChhLCBiKSA9PiAoYS5fc3RhdHVzID4gYi5fc3RhdHVzKSA/IC0xIDogMSlcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2ZTb3J0LnZhbHVlID09IFwiZHVlRGF0ZVwiKSB7XG4gICAgICAgICAgICBwcm9qZWN0LnNvcnQoKGEsIGIpID0+IChhLmR1ZURhdGUgPiBiLmR1ZURhdGUpID8gMSA6IC0xKVxuICAgICAgICAgICAgcHJvamVjdC5zb3J0KChhLCBiKSA9PiAoYS5fZHVlRGF0ZSA+IGIuX2R1ZURhdGUpID8gMSA6IC0xKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3VibWl0QnV0dG9uU29ydChzdWJtaXRCdXR0b24pIHtcbiAgICAgICAgc3VibWl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGxldCBzdWJtaXRCdXR0b25JRCA9IHN1Ym1pdEJ1dHRvbi5kYXRhc2V0LnNvcnRcbiAgICAgICAgbGV0IHR5cGVvZlNvcnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1zb3J0aW5wdXQ9XCIke3N1Ym1pdEJ1dHRvbklEfVwiXWApO1xuICAgICAgICBsZXQgcHJvamVjdFRvU29ydCA9IHByb2plY3RMaXN0W3N1Ym1pdEJ1dHRvbklEXVxuICAgICAgICBpZiAocHJvamVjdFRvU29ydC5sZW5ndGggIT0gMCkge1xuICAgICAgICAgICAgc29ydFByb2plY3RUYXNrcyhwcm9qZWN0VG9Tb3J0LCB0eXBlb2ZTb3J0KTtcbiAgICAgICAgICAgIGRpc3BsYXlTb3J0ZWRQcm9qZWN0KHN1Ym1pdEJ1dHRvbklELCBwcm9qZWN0VG9Tb3J0KVxuICAgICAgICAgICAgc2F2ZVRvTG9jYWxTdG9yYWdlKCkgXG4gICAgICAgIH1cbiAgICB9KVxuICAgICAgfVxuXG4gICAgZnVuY3Rpb24gZGlzcGxheVNvcnRlZFByb2plY3Qoc3VibWl0QnV0dG9uSUQsIHByb2plY3Qpe1xuICAgICAgICBsZXQgcHJvamVjdFRvQ2xlYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzdWJtaXRCdXR0b25JRCk7XG4gICAgICAgIHJlbW92ZUFsbENoaWxkTm9kZXMocHJvamVjdFRvQ2xlYXIsIHByb2plY3QpO1xuICAgICAgICBmb3IgKGxldCBpID0wOyBpPCBwcm9qZWN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgbmV3VGFzayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgbmV3VGFzay5jbGFzc0xpc3QuYWRkKFwidGFza0NvbnRhaW5lclwiKTtcbiAgICAgICAgICAgIHByb2plY3RUb0NsZWFyLmFwcGVuZENoaWxkKG5ld1Rhc2spOyAgICAgICAgICAgIFxuICAgICAgICAgICAgbmV3VGFzay5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGFza2NvbnRhaW5lcicsIGAke3N1Ym1pdEJ1dHRvbklEfSR7W2ldfWApXG4gICAgICAgICAgICBuZXdUYXNrLnNldEF0dHJpYnV0ZSgnZGF0YS1zcGVjaWZpY3Rhc2tjb250YWluZXInLCBbaV0pXG4gICAgICAgICAgICBsZXQgbmV3Q2hlY2tib3ggPSBjcmVhdGVDaGVja2JveChwcm9qZWN0TGlzdFtzdWJtaXRCdXR0b25JRF1baV0sIG5ld1Rhc2spO1xuICAgICAgICAgICAgbmV3Q2hlY2tib3guc2V0QXR0cmlidXRlKCdkYXRhLWNoZWNrYm94JywgYCR7c3VibWl0QnV0dG9uSUR9JHtbaV19YClcbiAgICAgICAgICAgIG5ld0NoZWNrYm94LnNldEF0dHJpYnV0ZSgnZGF0YS1zcGVjaWZpY2NoZWNrYm94JywgW2ldKVxuICAgICAgICAgICAgbGV0IG5ld0RpdiA9IG5ld0l0ZW1EaXYobmV3VGFzaywgcHJvamVjdExpc3Rbc3VibWl0QnV0dG9uSURdW2ldKVxuICAgICAgICAgICAgbmV3RGl2LnNldEF0dHJpYnV0ZSgnZGF0YS10YXNrJywgYCR7c3VibWl0QnV0dG9uSUR9JHtbaV19YCk7XG4gICAgICAgICAgICBuZXdEaXYuc2V0QXR0cmlidXRlKCdkYXRhLXNwZWNpZmljdGFzaycsIFtpXSlcblxuICAgICAgICAgICAgbGV0IGl0ZW1CdXR0b25zID0gbmV3SXRlbUJ1dHRvbnMobmV3VGFzayk7XG4gICAgICAgICAgICBsZXQgZWRpdEJ1dHRvbiA9IG5ld0VkaXRCdXR0b24oaXRlbUJ1dHRvbnMpO1xuICAgICAgICAgICAgZWRpdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtZWRpdCcsIGAke3N1Ym1pdEJ1dHRvbklEfSR7W2ldfWApXG4gICAgICAgICAgICBlZGl0QnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS1zcGVjaWZpY2VkaXQnLCBbaV0pXG4gICAgICAgICAgICBsZXQgZGVsZXRlQnV0dG9uID0gbmV3RGVsZXRlVGFza0J1dHRvbihpdGVtQnV0dG9ucyk7XG4gICAgICAgICAgICBkZWxldGVCdXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLWRlbGV0ZUl0ZW0nLCBgJHtzdWJtaXRCdXR0b25JRH0ke1tpXX1gKVxuICAgICAgICAgICAgZGVsZXRlQnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS1zcGVjaWZpY2RlbGV0ZUl0ZW0nLCBbaV0pXG4gICAgICAgICAgICBwdXNoQ2hlY2tib3hUb0xpc3QobmV3Q2hlY2tib3gpO1xuICAgICAgICAgICAgcHVzaEVkaXRUb0xpc3QoZWRpdEJ1dHRvbik7XG4gICAgICAgICAgICBwdXNoRGVsZXRlVGFza1RvTGlzdChkZWxldGVCdXR0b24pO1xuXG4gICAgICAgICAgICBjcmVhdGVFZGl0QnV0dG9uTGlzdCgpO1xuICAgICAgICAgICAgZGVsZXRlVGFza0J1dHRvbkZ1bmN0aW9uYWxpdHkoZGVsZXRlQnV0dG9uKTtcbiAgICAgICAgICAgIGFkZENoZWNrYm94U3RhdHVzKG5ld0NoZWNrYm94KTtcbiAgICAgICAgICAgIGFkZFRhc2tTdGF0dXMobmV3Q2hlY2tib3gpO1xuICAgICAgICAgICAgY2hhbmdlU3RhdHVzQmFyT25DaGVja2JveENsaWNrKG5ld0NoZWNrYm94KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVtb3ZlQWxsQ2hpbGROb2RlcyhwYXJlbnQsIHByb2plY3RUb1NvcnQpIHtcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpPHByb2plY3RUb1NvcnQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChwYXJlbnQubGFzdENoaWxkKTtcbiAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlU3RhdHVzQmFyKHNlY3Rpb24pIHtcbiAgICAgICAgbGV0IHN0YXR1c0JhckNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICAgIHN0YXR1c0JhckNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdzdGF0dXNCYXJDb250YWluZXInKVxuICAgICAgICBsZXQgc3RhdHVzQmFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGxldCBwZXJjZW50YWdlVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICAgIHN0YXR1c0Jhci5jbGFzc0xpc3QuYWRkKCdzdGF0dXNCYXInKVxuICAgICAgICBzdGF0dXNCYXIuc2V0QXR0cmlidXRlKCdkYXRhLXN0YXR1c2JhcicsIHByb2plY3RMaXN0Lmxlbmd0aCAtMSlcbiAgICAgICAgcGVyY2VudGFnZVRleHQuY2xhc3NMaXN0LmFkZCgncGVyY2VudGFnZVRleHQnKVxuICAgICAgICBwZXJjZW50YWdlVGV4dC5zZXRBdHRyaWJ1dGUoJ2RhdGEtcGVyY2VudGFnZXRleHQnLCBwcm9qZWN0TGlzdC5sZW5ndGgtMSlcbiAgICAgICAgc2VjdGlvbi5hcHBlbmRDaGlsZChzdGF0dXNCYXJDb250YWluZXIpXG4gICAgICAgIHN0YXR1c0JhckNvbnRhaW5lci5hcHBlbmRDaGlsZChzdGF0dXNCYXIpICBcbiAgICAgICAgc3RhdHVzQmFyQ29udGFpbmVyLmFwcGVuZENoaWxkKHBlcmNlbnRhZ2VUZXh0KVxuICAgICAgICByZXR1cm4gc3RhdHVzYmFyIFxuICAgIH1cbiAgXG5cbi8vIHByb2plY3QgZXZlbnQgbGlzdGVuZXJzXG5cbiAgICBhZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgcHJvamVjdEZvcm1Db250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJylcbiAgICB9KVxuICAgIFxuXG4gICAgcHJvamVjdFN1Ym1pdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXByb2plY3RGb3JtQ29udGFpbmVyLmNsYXNzTGlzdC5jb250YWlucygnZWRpdCcpKSB7XG4gICAgICAgIGFkZFRvUHJvamVjdExpc3QoKTtcbiAgICAgICAgbGV0IG5ld1Byb2plY3QgPSBhZGRQcm9qZWN0KCk7XG4gICAgICAgIGxldCBwcm9qZWN0Q29udGFpbmVyID0gY3JlYXRlUHJvamVjdENvbnRhaW5lcigpO1xuICAgICAgICBsZXQgcHJvamVjdCA9IGNyZWF0ZU5ld1Byb2plY3QocHJvamVjdENvbnRhaW5lciwgbmV3UHJvamVjdCk7XG4gICAgICAgIGFkZFByb2plY3RMaXN0SW5mbyhuZXdQcm9qZWN0KVxuICAgICAgICBsZXQgcHJvamVjdElEID0gc2V0TmV3UHJvamVjdElkKHByb2plY3QpO1xuICAgICAgICBsZXQgbmV3U3RhdHVzQmFyID0gY3JlYXRlU3RhdHVzQmFyKHByb2plY3QpXG4gICAgICAgIGxldCBzb3J0QnV0dG9ucyA9IGFkZFNvcnRCdXR0b25zKHByb2plY3QpO1xuICAgICAgICBzdWJtaXRCdXR0b25Tb3J0KHNvcnRCdXR0b25zKVxuICAgICAgICBsZXQgYnV0dG9uU2VjdGlvbiA9IGFkZEJ1dHRvblNlY3Rpb24ocHJvamVjdENvbnRhaW5lcik7XG4gICAgICAgIGxldCBlZGl0UHJvamVjdEJ1dHRvbiA9IGFkZFByb2plY3RFZGl0QnV0dG9uKGJ1dHRvblNlY3Rpb24pO1xuICAgICAgICBwcm9qRWRpdEJ1dHRvbkxpc3QoZWRpdFByb2plY3RCdXR0b24pXG4gICAgICAgIGxldCBhZGRJdGVtVG9Qcm9qZWN0QnV0dG9uID0gYWRkUHJvamVjdEFkZEJ1dHRvbihidXR0b25TZWN0aW9uKTtcbiAgICAgICAgcHJvamVjdFRvRG9CdXR0b25MaXN0KGFkZEl0ZW1Ub1Byb2plY3RCdXR0b24pO1xuICAgICAgICBsZXQgZGVsZXRlUHJvamVjdEJ1dHRvbiA9IGFkZFByb2plY3REZWxldGVCdXR0b24oYnV0dG9uU2VjdGlvbik7XG4gICAgICAgIHByb2plY3REZWxldGVCdXR0b25MaXN0KGRlbGV0ZVByb2plY3RCdXR0b24pO1xuICAgICAgICBhZGRJdGVtVG9Qcm9qZWN0KGFkZEl0ZW1Ub1Byb2plY3RCdXR0b24pO1xuICAgICAgICBkZWxldGVCdXR0b25GdW5jdGlvbmFsaXR5KGRlbGV0ZVByb2plY3RCdXR0b24pO1xuICAgICAgICBwcm9qZWN0RWRpdEJ1dHRvbkZ1bmN0aW9uYWxpdHkoZWRpdFByb2plY3RCdXR0b24pO1xuXG4gICAgICAgIHByb2plY3RGb3JtQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBjbGVhcklucHV0cygpO1xuXG4gICAgICAgIHNhdmVUb0xvY2FsU3RvcmFnZSgpO1xuICAgICAgICBjb25zb2xlLmxvZyhwcm9qZWN0TGlzdClcbiAgICB9XG4gICAgfSlcblxuICAgIHByb2plY3RTdWJtaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHByb2plY3RGb3JtQ29udGFpbmVyLmNsYXNzTGlzdC5jb250YWlucygnZWRpdCcpKSB7XG4gICAgICAgICAgICBsZXQgcHJvamVjdFRvUmV2aXNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtcHJvamVjdGluZm89XCIke3Byb2plY3RFZGl0SUR9XCJdYCk7IFxuICAgICAgICAgICAgbGV0IHJldmlzZWRQcm9qZWN0ID0gYWRkUHJvamVjdCgpO1xuICAgICAgICAgICAgcHJvamVjdExpc3RJbmZvLnNwbGljZShwcm9qZWN0RWRpdElELCAxLCByZXZpc2VkUHJvamVjdClcbiAgICAgICAgICAgIHByb2plY3RUb1JldmlzZS50ZXh0Q29udGVudCA9IHJldmlzZWRQcm9qZWN0LmluZm9cbiAgICAgICAgICAgIGNsZWFySW5wdXRzKClcbiAgICAgICAgICAgIHByb2plY3RGb3JtQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgICAgcHJvamVjdEZvcm1Db250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnZWRpdCcpXG4gICAgICAgICAgICBzYXZlVG9Mb2NhbFN0b3JhZ2UoKSBcbiAgICAgICAgfVxuICAgIH0pXG5cbiAgICBwcm9qZWN0Q2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgcHJvamVjdEZvcm1Db250YWluZXIuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJylcbiAgICB9KVxuXG4vLyB0YXNrIHNlY3Rpb25cblxuICAgIGNvbnN0IGl0ZW1Gb3JtQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpdGVtRm9ybUNvbnRhaW5lclwiKTtcbiAgICBsZXQgaXRlbUZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaXRlbUZvcm0nKTtcbiAgICBsZXQgZGVsZXRlVGFza0J1dHRvbklkID0gXCJcIjtcbiAgICBsZXQgZWRpdFRhc2tCdXR0b25MaXN0ID0gW11cbiAgICBsZXQgZGVsZXRlVGFza0J1dHRvbkxpc3QgPSBbXVxuICAgIGNvbnN0IGl0ZW1TdWJtaXRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaXRlbVN1Ym1pdEJ1dHRvbicpO1xuICAgIGxldCBlZGl0QnV0dG9uSWQgPSBcIlwiO1xuICAgIGxldCBzZWxlY3RlZFRhc2tUb0VkaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlZGl0QnV0dG9uSWQpO1xuICAgIGxldCB0YXNrVG9EZWxldGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkZWxldGVUYXNrQnV0dG9uSWQpO1xuICAgIGxldCByZXNldEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXNldCcpXG4gICAgY29uc3QgdGFza0Nsb3NlQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rhc2tDbG9zZScpO1xuICAgIGxldCBjaGVja0JveFRvQ2hhbmdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtY2hlY2tib3g9XCIke2VkaXRCdXR0b25JZH1cIl1gKVxuICAgIGxldCBjaGVja2JveExpc3QgPSBbXVxuICAgIGxldCB0YXNrTGlzdCA9IFtdXG5cblxuICAgIC8vIHRhc2sgZnVuY3Rpb25zIFxuICAgIFxuICAgIGZ1bmN0aW9uIGFkZFRhc2soKSB7XG4gICAgICAgICAgICBsZXQgaXRlbSA9IGFkZEl0ZW0oKTtcbiAgICAgICAgICAgIGlmIChpdGVtICE9IHVuZGVmaW5lZCAmJiBpdGVtLmR1ZURhdGUgIT0gXCJcIikge1xuICAgICAgICAgICAgICAgIGFkZEl0ZW1Ub1Byb2plY3RMaXN0KGl0ZW0pXG4gICAgICAgICAgICAgICAgbGV0IG5ld1Rhc2sgPSBuZXdUYXNrQ29udGFpbmVyKCk7XG4gICAgICAgICAgICAgICAgbmV3VGFzay5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGFza2NvbnRhaW5lcicsIGAke1thZGRUYXNrSWRdfSR7cHJvamVjdExpc3RbYWRkVGFza0lkXS5sZW5ndGggLTF9YClcbiAgICAgICAgICAgICAgICBuZXdUYXNrLnNldEF0dHJpYnV0ZSgnZGF0YS1zcGVjaWZpY3Rhc2tjb250YWluZXInLCBgJHtwcm9qZWN0TGlzdFthZGRUYXNrSWRdLmxlbmd0aCAtMX1gKVxuICAgICAgICAgICAgICAgIGxldCBuZXdDaGVja2JveCA9IGNyZWF0ZUNoZWNrYm94KGl0ZW0sIG5ld1Rhc2spO1xuICAgICAgICAgICAgICAgIG5ld0NoZWNrYm94LnNldEF0dHJpYnV0ZSgnZGF0YS1jaGVja2JveCcsIGAke1thZGRUYXNrSWRdfSR7cHJvamVjdExpc3RbYWRkVGFza0lkXS5sZW5ndGggLTF9YClcbiAgICAgICAgICAgICAgICBuZXdDaGVja2JveC5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3BlY2lmaWNjaGVja2JveCcsIGAke3Byb2plY3RMaXN0W2FkZFRhc2tJZF0ubGVuZ3RoIC0xfWApXG4gICAgICAgICAgICAgICAgbGV0IG5ld0RpdiA9IG5ld0l0ZW1EaXYobmV3VGFzaywgaXRlbSk7XG4gICAgICAgICAgICAgICAgbmV3RGl2LnNldEF0dHJpYnV0ZSgnZGF0YS10YXNrJywgYCR7W2FkZFRhc2tJZF19JHtwcm9qZWN0TGlzdFthZGRUYXNrSWRdLmxlbmd0aCAtMX1gKTtcbiAgICAgICAgICAgICAgICBuZXdEaXYuc2V0QXR0cmlidXRlKCdkYXRhLXNwZWNpZmljdGFzaycsIGAke3Byb2plY3RMaXN0W2FkZFRhc2tJZF0ubGVuZ3RoIC0xfWApO1xuXG4gICAgICAgICAgICAgICAgZmlsbE91dFN0YXR1c0JhcigpO1xuXG4gICAgICAgICAgICAgICAgbGV0IGl0ZW1CdXR0b25zID0gbmV3SXRlbUJ1dHRvbnMobmV3VGFzayk7XG4gICAgICAgICAgICAgICAgbGV0IGVkaXRCdXR0b24gPSBuZXdFZGl0QnV0dG9uKGl0ZW1CdXR0b25zKTtcbiAgICAgICAgICAgICAgICBlZGl0QnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS1lZGl0JywgYCR7W2FkZFRhc2tJZF19JHtwcm9qZWN0TGlzdFthZGRUYXNrSWRdLmxlbmd0aCAtMX1gKVxuICAgICAgICAgICAgICAgIGVkaXRCdXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLXNwZWNpZmljZWRpdCcsIGAke3Byb2plY3RMaXN0W2FkZFRhc2tJZF0ubGVuZ3RoIC0xfWApXG4gICAgICAgICAgICAgICAgbGV0IGRlbGV0ZUJ1dHRvbiA9IG5ld0RlbGV0ZVRhc2tCdXR0b24oaXRlbUJ1dHRvbnMpO1xuICAgICAgICAgICAgICAgIGRlbGV0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtZGVsZXRlSXRlbScsIGAke1thZGRUYXNrSWRdfSR7cHJvamVjdExpc3RbYWRkVGFza0lkXS5sZW5ndGggLTF9YClcbiAgICAgICAgICAgICAgICBkZWxldGVCdXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLXNwZWNpZmljZGVsZXRlSXRlbScsIGAke3Byb2plY3RMaXN0W2FkZFRhc2tJZF0ubGVuZ3RoIC0xfWApXG4gICAgICAgICAgICAgICAgcHVzaENoZWNrYm94VG9MaXN0KG5ld0NoZWNrYm94KTtcbiAgICAgICAgICAgICAgICBwdXNoRWRpdFRvTGlzdChlZGl0QnV0dG9uKTtcbiAgICAgICAgICAgICAgICBwdXNoRGVsZXRlVGFza1RvTGlzdChkZWxldGVCdXR0b24pO1xuXG4gICAgICAgICAgICAgICAgY3JlYXRlRWRpdEJ1dHRvbkxpc3QoKTtcbiAgICAgICAgICAgICAgICBkZWxldGVUYXNrQnV0dG9uRnVuY3Rpb25hbGl0eShkZWxldGVCdXR0b24pO1xuICAgICAgICAgICAgICAgIGFkZENoZWNrYm94U3RhdHVzKG5ld0NoZWNrYm94KTtcbiAgICAgICAgICAgICAgICBjaGFuZ2VTdGF0dXNCYXJPbkNoZWNrYm94Q2xpY2sobmV3Q2hlY2tib3gpO1xuICAgICAgICAgICAgICAgIGFkZFRhc2tTdGF0dXMobmV3Q2hlY2tib3gpO1xuXG4gICAgICAgICAgICAgICAgY2xlYXJJbnB1dHMoKTtcbiAgICAgICAgICAgICAgICBpdGVtRm9ybUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcblxuICAgICAgICAgICAgICAgIHNhdmVUb0xvY2FsU3RvcmFnZSgpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFsZXJ0IChcIlBsZWFzZSBGaWxsIE91dCBSZXF1aXJlZCBGaWVsZHNcIilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG5cbiAgICBmdW5jdGlvbiBuZXdUYXNrQ29udGFpbmVyKCkge1xuICAgICAgICBsZXQgdGFza0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0YXNrQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJ0YXNrQ29udGFpbmVyXCIpO1xuICAgICAgICBzZWxlY3RlZFByb2plY3QuYXBwZW5kQ2hpbGQodGFza0NvbnRhaW5lcik7XG4gICAgICAgIHJldHVybiB0YXNrQ29udGFpbmVyXG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBuZXdJdGVtRGl2KHRhc2tDb250YWluZXIsIGl0ZW0pIHtcbiAgICAgICAgbGV0IG5ld1Rhc2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgbmV3VGFzay5jbGFzc0xpc3QuYWRkKCduZXdUYXNrJyk7XG4gICAgICAgIGlmIChpdGVtLnN0YXR1cyAhPSAnQ29tcGxldGUnICYmIGl0ZW0uX3N0YXR1cyAhPSBcIkNvbXBsZXRlXCIpIHtcbiAgICAgICAgICAgIG5ld1Rhc2suY2xhc3NMaXN0LmFkZCgndGFza05vdENvbXBsZXRlJylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5ld1Rhc2suY2xhc3NMaXN0LmFkZCgndGFza0NvbXBsZXRlJylcbiAgICAgICAgfVxuICAgICAgICBuZXdUYXNrLnRleHRDb250ZW50ID0gaXRlbS5pbmZvO1xuICAgICAgICB0YXNrQ29udGFpbmVyLmFwcGVuZENoaWxkKG5ld1Rhc2spO1xuICAgICAgICByZXR1cm4gbmV3VGFza1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZEl0ZW1Ub1Byb2plY3RMaXN0KGl0ZW0pe1xuICAgICAgICBwcm9qZWN0TGlzdFthZGRUYXNrSWRdLnB1c2goaXRlbSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlQ2hlY2tib3goaXRlbSwgdGFza0NvbnRhaW5lcikge1xuICAgICAgICBsZXQgY2hlY2tib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgY2hlY2tib3guY2xhc3NMaXN0LmFkZCgnY2hlY2tib3gnKTtcbiAgICAgICAgaWYgKGl0ZW0uc3RhdHVzICE9ICdDb21wbGV0ZScpIHtcbiAgICAgICAgICAgIGlmIChpdGVtLl9zdGF0dXMgIT0gJ0NvbXBsZXRlJykge1xuICAgICAgICAgICAgY2hlY2tib3guY2xhc3NMaXN0LmFkZCgnbm90Q29tcGxldGUnKTtcbiAgICAgICAgICAgIHRhc2tDb250YWluZXIuYXBwZW5kQ2hpbGQoY2hlY2tib3gpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpdGVtLl9zdGF0dXMgPT0gJ0NvbXBsZXRlJykge1xuICAgICAgICAgICAgICAgIGNoZWNrYm94LmNsYXNzTGlzdC5hZGQoJ0NvbXBsZXRlJyk7XG4gICAgICAgICAgICAgICAgdGFza0NvbnRhaW5lci5hcHBlbmRDaGlsZChjaGVja2JveCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoaXRlbS5fc3RhdHVzID09ICdDb21wbGV0ZScpIHtcbiAgICAgICAgICAgIGNoZWNrYm94LmNsYXNzTGlzdC5hZGQoJ0NvbXBsZXRlJyk7XG4gICAgICAgICAgICB0YXNrQ29udGFpbmVyLmFwcGVuZENoaWxkKGNoZWNrYm94KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hlY2tib3hcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBuZXdJdGVtQnV0dG9ucyh0YXNrQ29udGFpbmVyKSB7XG4gICAgICAgIGxldCBpdGVtQnV0dG9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBpdGVtQnV0dG9ucy5jbGFzc0xpc3QuYWRkKCdpdGVtQnV0dG9ucycpO1xuICAgICAgICB0YXNrQ29udGFpbmVyLmFwcGVuZENoaWxkKGl0ZW1CdXR0b25zKTtcbiAgICAgICAgcmV0dXJuIGl0ZW1CdXR0b25zIFxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG5ld0VkaXRCdXR0b24oaXRlbUJ1dHRvbnMpIHtcbiAgICAgICAgbGV0IGVkaXRUYXNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGVkaXRUYXNrLmlubmVyVGV4dCA9IFwiRWRpdCBUYXNrXCI7XG4gICAgICAgIGVkaXRUYXNrLmNsYXNzTGlzdC5hZGQoJ2VkaXRUYXNrQnV0dG9uJyk7XG4gICAgICAgIGl0ZW1CdXR0b25zLmFwcGVuZENoaWxkKGVkaXRUYXNrKTtcbiAgICAgICAgcmV0dXJuIGVkaXRUYXNrXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbmV3RGVsZXRlVGFza0J1dHRvbihpdGVtQnV0dG9ucykge1xuICAgICAgICBsZXQgZGVsZXRlVGFzayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBkZWxldGVUYXNrLmlubmVyVGV4dCA9IFwiRGVsZXRlIFRhc2tcIjtcbiAgICAgICAgZGVsZXRlVGFzay5jbGFzc0xpc3QuYWRkKCdkZWxldGVUYXNrQnV0dG9uJyk7XG4gICAgICAgIGl0ZW1CdXR0b25zLmFwcGVuZENoaWxkKGRlbGV0ZVRhc2spO1xuICAgICAgICByZXR1cm4gZGVsZXRlVGFza1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gcHVzaENoZWNrYm94VG9MaXN0KGNoZWNrYm94KSB7XG4gICAgICAgIGNoZWNrYm94TGlzdC5wdXNoKGNoZWNrYm94KVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHB1c2hFZGl0VG9MaXN0KG5ld0VkaXRCdXR0b24pIHtcbiAgICAgICAgZWRpdFRhc2tCdXR0b25MaXN0LnB1c2gobmV3RWRpdEJ1dHRvbik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHVzaERlbGV0ZVRhc2tUb0xpc3QobmV3RGVsZXRlQnV0dG9uKSB7XG4gICAgICAgIGRlbGV0ZVRhc2tCdXR0b25MaXN0LnB1c2gobmV3RGVsZXRlQnV0dG9uKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUVkaXRCdXR0b25MaXN0KCl7XG4gICAgICAgIGZvciAobGV0IGk9MDsgaSA8IGVkaXRUYXNrQnV0dG9uTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZWRpdFRhc2tCdXR0b25MaXN0W2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBpdGVtRm9ybUNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICAgICBpdGVtRm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdhZGRJdGVtJyk7XG4gICAgICAgICAgICAgICAgaXRlbUZvcm0uY2xhc3NMaXN0LmFkZCgnZWRpdEl0ZW0nKTtcbiAgICAgICAgICAgICAgICBlZGl0QnV0dG9uSWQgPSBlZGl0VGFza0J1dHRvbkxpc3RbaV0uZGF0YXNldC5lZGl0O1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkVGFza1RvRWRpdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXRhc2s9XCIke2VkaXRCdXR0b25JZH1cIl1gKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gZGVsZXRlVGFza0J1dHRvbkZ1bmN0aW9uYWxpdHkoYnV0dG9uKSB7XG4gICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZGVsZXRlVGFza0J1dHRvbklkID0gIGJ1dHRvbi5kYXRhc2V0LmRlbGV0ZWl0ZW07XG4gICAgICAgICAgICBsZXQgc3BlY2lmaWNJRCA9IGJ1dHRvbi5kYXRhc2V0LnNwZWNpZmljZGVsZXRlaXRlbTtcbiAgICAgICAgICAgIHRhc2tUb0RlbGV0ZSA9ICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS10YXNrQ29udGFpbmVyPVwiJHtkZWxldGVUYXNrQnV0dG9uSWR9XCJdYCk7XG4gICAgICAgICAgICBsZXQgcHJvamVjdFBhcmVudCA9IHRhc2tUb0RlbGV0ZS5wYXJlbnROb2RlO1xuICAgICAgICAgICAgcHJvamVjdFBhcmVudC5yZW1vdmVDaGlsZCh0YXNrVG9EZWxldGUpO1xuICAgICAgICAgICAgZGVsZXRlVGFza0J1dHRvbkxpc3Quc3BsaWNlKHNwZWNpZmljSUQsIDEpO1xuICAgICAgICAgICAgZWRpdFRhc2tCdXR0b25MaXN0LnNwbGljZShzcGVjaWZpY0lELCAxKTtcbiAgICAgICAgICAgIGNoZWNrYm94TGlzdC5zcGxpY2Uoc3BlY2lmaWNJRCwgMSk7XG4gICAgICAgICAgICBsZXQgcHJvamVjdFBhcmVudElkID0gcHJvamVjdFBhcmVudC5pZFxuICAgICAgICAgICAgcHJvamVjdExpc3RbcHJvamVjdFBhcmVudElkXS5zcGxpY2Uoc3BlY2lmaWNJRCwgMSk7XG4gICAgICAgICAgICBmaWxsRGVsZXRlZFN0YXR1c0Jhcihwcm9qZWN0UGFyZW50SWQpO1xuICAgICAgICAgICAgc2F2ZVRvTG9jYWxTdG9yYWdlKClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgIGZ1bmN0aW9uIGVkaXRJdGVtKCl7XG4gICAgICAgIGl0ZW1Gb3JtLmNsYXNzTGlzdC5yZW1vdmUoJ2FkZEl0ZW0nKTtcbiAgICAgICAgbGV0IHJldmlzZWRJdGVtID0gYWRkSXRlbSgpO1xuICAgICAgICBpZiAocmV2aXNlZEl0ZW0gIT0gdW5kZWZpbmVkICYmIHJldmlzZWRJdGVtLmR1ZURhdGUgIT0gXCJcIikge1xuICAgICAgICAgICAgc2VsZWN0ZWRUYXNrVG9FZGl0LmlubmVyVGV4dCA9IFwiXCI7XG4gICAgICAgICAgICBzZWxlY3RlZFRhc2tUb0VkaXQuaW5uZXJUZXh0ID0gcmV2aXNlZEl0ZW0uaW5mbztcbiAgICAgICAgICAgIGVkaXRQcm9qZWN0TGlzdChyZXZpc2VkSXRlbSk7XG4gICAgICAgICAgICBlZGl0VGFza1N0YXR1cyhyZXZpc2VkSXRlbSk7XG4gICAgICAgICAgICBlZGl0Q2hlY2tib3hTdGF0dXMocmV2aXNlZEl0ZW0pO1xuICAgICAgICAgICAgZmlsbEVkaXRlZFN0YXR1c0JhcigpO1xuICAgICAgICAgICAgY2xlYXJJbnB1dHMoKTtcbiAgICAgICAgICAgIGl0ZW1Gb3JtQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgICAgc2F2ZVRvTG9jYWxTdG9yYWdlKClcbiAgICAgICAgfSBlbHNlICB7XG4gICAgICAgICAgICBhbGVydCAoXCJQbGVhc2UgRmlsbCBPdXQgUmVxdWlyZWQgRmllbGRzXCIpXG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIGVkaXRQcm9qZWN0TGlzdChyZXZpc2VkSXRlbSkge1xuICAgICAgICBsZXQgdGFza0lEdGFza0NvbnRhaW5lciA9IHNlbGVjdGVkVGFza1RvRWRpdC5wYXJlbnROb2RlXG4gICAgICAgIGxldCB0YXNrSUQgPSBzZWxlY3RlZFRhc2tUb0VkaXQuZGF0YXNldC5zcGVjaWZpY3Rhc2tcbiAgICAgICAgbGV0IHBhcmVudFByb2plY3QgPSB0YXNrSUR0YXNrQ29udGFpbmVyLnBhcmVudE5vZGUuaWRcbiAgICAgICAgcHJvamVjdExpc3RbcGFyZW50UHJvamVjdF0uc3BsaWNlKHRhc2tJRCwgMSwgcmV2aXNlZEl0ZW0pXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZWRpdENoZWNrYm94U3RhdHVzKGl0ZW0pe1xuICAgICAgICBpZiAoaXRlbS5zdGF0dXMgIT0gJ0NvbXBsZXRlJykge1xuICAgICAgICAgICAgY2hlY2tCb3hUb0NoYW5nZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWNoZWNrYm94PVwiJHtlZGl0QnV0dG9uSWR9XCJdYCk7XG4gICAgICAgICAgICAgY2hlY2tCb3hUb0NoYW5nZS5jbGFzc0xpc3QuYWRkKCdub3RDb21wbGV0ZScpO1xuICAgICAgICAgICAgY2hlY2tCb3hUb0NoYW5nZS5jbGFzc0xpc3QucmVtb3ZlKCdDb21wbGV0ZScpO1xuICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uc3RhdHVzID09ICdDb21wbGV0ZScpIHtcbiAgICAgICAgICAgIGNoZWNrQm94VG9DaGFuZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1jaGVja2JveD1cIiR7ZWRpdEJ1dHRvbklkfVwiXWApXG4gICAgICAgICAgICBjaGVja0JveFRvQ2hhbmdlLmNsYXNzTGlzdC5hZGQoJ0NvbXBsZXRlJyk7XG4gICAgICAgICAgICBjaGVja0JveFRvQ2hhbmdlLmNsYXNzTGlzdC5yZW1vdmUoJ25vdENvbXBsZXRlJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBlZGl0VGFza1N0YXR1cyhpdGVtKSB7XG4gICAgICAgIGxldCBjaGFuZ2VkVGFzayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXRhc2s9XCIke2VkaXRCdXR0b25JZH1cIl1gKTtcbiAgICAgICAgbGV0IGNoYW5nZWRUYXNrSUQgPSBjaGFuZ2VkVGFzay5kYXRhc2V0LnNwZWNpZmljdGFza1xuICAgICAgICBsZXQgdGFza0NvbnRhaW5lciA9IGNoYW5nZWRUYXNrLnBhcmVudE5vZGU7XG4gICAgICAgIGxldCB0YXNrUHJvamVjdCA9IHRhc2tDb250YWluZXIucGFyZW50Tm9kZS5pZDtcbiAgICAgICAgaWYgKGl0ZW0uc3RhdHVzICE9ICdDb21wbGV0ZScpIHtcbiAgICAgICAgICAgIGNoYW5nZWRUYXNrLmNsYXNzTGlzdC5hZGQoJ3Rhc2tOb3RDb21wbGV0ZScpO1xuICAgICAgICAgICAgY2hhbmdlZFRhc2suY2xhc3NMaXN0LnJlbW92ZSgndGFza0NvbXBsZXRlJyk7XG4gICAgICAgICAgICBwcm9qZWN0TGlzdFt0YXNrUHJvamVjdF1bY2hhbmdlZFRhc2tJRF0uc3RhdHVzID0gJ05vdCBDb21wbGV0ZSdcbiAgICAgICAgfSBlbHNlIGlmIChpdGVtLnN0YXR1cyA9PSAnQ29tcGxldGUnKSB7XG4gICAgICAgICAgICBjaGFuZ2VkVGFzay5jbGFzc0xpc3QucmVtb3ZlKCd0YXNrTm90Q29tcGxldGUnKTtcbiAgICAgICAgICAgIGNoYW5nZWRUYXNrLmNsYXNzTGlzdC5hZGQoJ3Rhc2tDb21wbGV0ZScpO1xuICAgICAgICAgICAgcHJvamVjdExpc3RbdGFza1Byb2plY3RdW2NoYW5nZWRUYXNrSURdLnN0YXR1cyA9ICdDb21wbGV0ZSdcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNoYW5nZVN0YXR1c0Jhck9uQ2hlY2tib3hDbGljayhjaGVja2JveCkge1xuICAgICAgICBjaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICBsZXQgZmlsdGVyZWRQcm9qZWN0ID0gZmlsdGVyUHJvamVjdCgpO1xuICAgICAgICBsZXQgdGFza0NvbnRhaW5lciA9IGNoZWNrYm94LnBhcmVudE5vZGU7XG4gICAgICAgIGxldCBzZWxlY3RlZFByb2plY3QgPSB0YXNrQ29udGFpbmVyLnBhcmVudE5vZGUuaWRcbiAgICAgICAgbGV0IHNlbGVjdGVkU3RhdHVzQmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtc3RhdHVzYmFyPVwiJHtzZWxlY3RlZFByb2plY3R9XCJdYCk7XG4gICAgICAgIGxldCBzdGF0dXNCbG9jayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBpZiAoc2VsZWN0ZWRTdGF0dXNCYXIuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgc2VsZWN0ZWRTdGF0dXNCYXIucmVtb3ZlQ2hpbGQoc2VsZWN0ZWRTdGF0dXNCYXIuZmlyc3RDaGlsZClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgfVxuICAgICAgICBzdGF0dXNCbG9jay5zdHlsZS53aWR0aCA9IGAke2ZpbHRlcmVkUHJvamVjdC5wZXJjZW50YWdlQXJyYXlbc2VsZWN0ZWRQcm9qZWN0XX0lYFxuICAgICAgICBzdGF0dXNCbG9jay5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIiAgICAgICAgICAgIFxuICAgICAgICBzZWxlY3RlZFN0YXR1c0Jhci5hcHBlbmRDaGlsZChzdGF0dXNCbG9jaylcbiAgICAgICAgZGlzcGxheVBlcmNlbnRhZ2Uoc2VsZWN0ZWRTdGF0dXNCYXIsIGZpbHRlcmVkUHJvamVjdC5wZXJjZW50YWdlQXJyYXlbc2VsZWN0ZWRQcm9qZWN0XSk7XG4gICAgfSlcbn1cblxuICAgIGZ1bmN0aW9uIGFkZENoZWNrYm94U3RhdHVzKGNoZWNrYm94KSB7XG4gICAgICBjaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbGV0IGNoZWNrYm94SUQgPSBjaGVja2JveC5kYXRhc2V0LnNwZWNpZmljY2hlY2tib3g7XG4gICAgICAgICAgICBsZXQgY2hlY2tib3hDb250YWluZXIgPSBjaGVja2JveC5wYXJlbnROb2RlO1xuICAgICAgICAgICAgbGV0IGNoZWNrYm94UHJvamVjdCA9IGNoZWNrYm94Q29udGFpbmVyLnBhcmVudE5vZGUuaWRcbiAgICAgICAgICAgIGlmIChjaGVja2JveC5jbGFzc0xpc3QuY29udGFpbnMoJ25vdENvbXBsZXRlJykpIHtcbiAgICAgICAgICAgICAgICBjaGVja2JveC5jbGFzc0xpc3QucmVtb3ZlKCdub3RDb21wbGV0ZScpO1xuICAgICAgICAgICAgICAgIGNoZWNrYm94LmNsYXNzTGlzdC5hZGQoJ0NvbXBsZXRlJyk7XG4gICAgICAgICAgICAgICAgcHJvamVjdExpc3RbY2hlY2tib3hQcm9qZWN0XVtjaGVja2JveElEXS5zdGF0dXMgPSAnQ29tcGxldGUnXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoZWNrYm94LmNsYXNzTGlzdC5jb250YWlucygnQ29tcGxldGUnKSkge1xuICAgICAgICAgICAgICAgIGNoZWNrYm94LmNsYXNzTGlzdC5hZGQoJ25vdENvbXBsZXRlJyk7XG4gICAgICAgICAgICAgICAgY2hlY2tib3guY2xhc3NMaXN0LnJlbW92ZSgnQ29tcGxldGUnKTtcbiAgICAgICAgICAgICAgICBwcm9qZWN0TGlzdFtjaGVja2JveFByb2plY3RdW2NoZWNrYm94SURdLnN0YXR1cyA9ICdOb3QgQ29tcGxldGUnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzYXZlVG9Mb2NhbFN0b3JhZ2UoKTtcbiAgICAgICAgfSlcblxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZFRhc2tTdGF0dXMoY2hlY2tib3gpIHtcbiAgICAgICAgY2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGxldCBjaGVja2JveElEID0gY2hlY2tib3guZGF0YXNldC5jaGVja2JveFxuICAgICAgICAgICAgbGV0IHRhc2tUb0NoYW5nZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXRhc2s9XCIke2NoZWNrYm94SUR9XCJdYClcbiAgICAgICAgICAgIGlmIChjaGVja2JveC5jbGFzc0xpc3QuY29udGFpbnMoJ0NvbXBsZXRlJykpIHtcbiAgICAgICAgICAgICAgICB0YXNrVG9DaGFuZ2UuY2xhc3NMaXN0LnJlbW92ZSgndGFza05vdENvbXBsZXRlJyk7XG4gICAgICAgICAgICAgICAgdGFza1RvQ2hhbmdlLmNsYXNzTGlzdC5hZGQoJ3Rhc2tDb21wbGV0ZScpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjaGVja2JveC5jbGFzc0xpc3QuY29udGFpbnMoJ25vdENvbXBsZXRlJykpIHtcbiAgICAgICAgICAgICAgICB0YXNrVG9DaGFuZ2UuY2xhc3NMaXN0LmFkZCgndGFza05vdENvbXBsZXRlJyk7XG4gICAgICAgICAgICAgICAgdGFza1RvQ2hhbmdlLmNsYXNzTGlzdC5yZW1vdmUoJ3Rhc2tDb21wbGV0ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cbiAgICBcblxuICAgIGZ1bmN0aW9uIGZpbHRlclByb2plY3QoKSB7XG4gICAgICAgIGxldCBmaWx0ZXJlZEFycmF5TGlzdCA9IFtdXG4gICAgICAgIGxldCBwZXJjZW50YWdlQXJyYXkgPSBbXVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb2plY3RMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHByb2plY3RMaXN0W2ldID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIGxldCBmaWx0ZXJlZEFycmF5ID0gcHJvamVjdExpc3RbaV0uZmlsdGVyKGZpbHRlckJ5Q29tcGxldGUpXG4gICAgICAgICAgICAgICAgZmlsdGVyZWRBcnJheUxpc3QucHVzaChmaWx0ZXJlZEFycmF5KVxuICAgICAgICAgICAgICAgIGxldCBwZXJjZW50YWdlID0gTWF0aC5yb3VuZChmaWx0ZXJlZEFycmF5Lmxlbmd0aCAvIHByb2plY3RMaXN0W2ldLmxlbmd0aCAqIDEwMCk7IFxuICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2VBcnJheS5wdXNoKHBlcmNlbnRhZ2UpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZpbHRlcmVkQXJyYXlMaXN0LnB1c2goXCJcIilcbiAgICAgICAgICAgICAgICBwZXJjZW50YWdlQXJyYXkucHVzaChcIlwiKVxuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7ZmlsdGVyZWRBcnJheUxpc3QsIHBlcmNlbnRhZ2VBcnJheX1cbiAgICAgICAgfVxuICAgIFxuXG4gICAgZnVuY3Rpb24gZmlsdGVyQnlDb21wbGV0ZShpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtLl9zdGF0dXMgPT0gJ0NvbXBsZXRlJ1xuICAgIH0gXG5cbiAgICBcbiAgICBmdW5jdGlvbiBhZGRUb1N0YXR1c0JhcihwZXJjZW50YWdlKSB7XG4gICAgICAgIGxldCBzZWxlY3RlZFN0YXR1c0JhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXN0YXR1c2Jhcj1cIiR7YWRkVGFza0lkfVwiXWApO1xuICAgICAgICBsZXQgc3RhdHVzQmxvY2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgaWYgKHNlbGVjdGVkU3RhdHVzQmFyLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgIHNlbGVjdGVkU3RhdHVzQmFyLnJlbW92ZUNoaWxkKHNlbGVjdGVkU3RhdHVzQmFyLmZpcnN0Q2hpbGQpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdHVzQmxvY2suc3R5bGUud2lkdGggPSBgJHtwZXJjZW50YWdlfSVgXG4gICAgICAgIHN0YXR1c0Jsb2NrLnN0eWxlLmhlaWdodCA9IFwiMTAwJVwiICAgICAgICAgICAgXG4gICAgICAgIHNlbGVjdGVkU3RhdHVzQmFyLmFwcGVuZENoaWxkKHN0YXR1c0Jsb2NrKVxuICAgICAgICByZXR1cm4gc2VsZWN0ZWRTdGF0dXNCYXJcbiAgICAgICAgfSAgIFxuICAgIFxuXG4gICAgZnVuY3Rpb24gZWRpdFN0YXR1c0JhcihwZXJjZW50YWdlKSB7XG4gICAgICAgIGxldCB0YXNrQ29udGFpbmVyID0gc2VsZWN0ZWRUYXNrVG9FZGl0LnBhcmVudE5vZGVcbiAgICAgICAgbGV0IHBhcmVudFByb2plY3QgPSB0YXNrQ29udGFpbmVyLnBhcmVudE5vZGUuaWRcbiAgICAgICAgbGV0IHNlbGVjdGVkU3RhdHVzQmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtc3RhdHVzYmFyPVwiJHtwYXJlbnRQcm9qZWN0fVwiXWApO1xuICAgICAgICBsZXQgc3RhdHVzQmxvY2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgaWYgKHNlbGVjdGVkU3RhdHVzQmFyLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgIHNlbGVjdGVkU3RhdHVzQmFyLnJlbW92ZUNoaWxkKHNlbGVjdGVkU3RhdHVzQmFyLmZpcnN0Q2hpbGQpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgfVxuICAgICAgICBzdGF0dXNCbG9jay5zdHlsZS53aWR0aCA9IGAke3BlcmNlbnRhZ2V9JWBcbiAgICAgICAgc3RhdHVzQmxvY2suc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCJcbiAgICAgICAgc2VsZWN0ZWRTdGF0dXNCYXIuYXBwZW5kQ2hpbGQoc3RhdHVzQmxvY2spXG4gICAgICAgIHJldHVybiBzZWxlY3RlZFN0YXR1c0JhclxuICAgICAgICAgICAgfSAgIFxuXG4gICAgZnVuY3Rpb24gZGVsZXRlU3RhdHVzQmFyKHBlcmNlbnRhZ2UsIHByb2plY3QpIHtcbiAgICAgICAgbGV0IHNlbGVjdGVkU3RhdHVzQmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtc3RhdHVzYmFyPVwiJHtwcm9qZWN0fVwiXWApO1xuICAgICAgICBsZXQgc3RhdHVzQmxvY2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgaWYgKHNlbGVjdGVkU3RhdHVzQmFyLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgIHNlbGVjdGVkU3RhdHVzQmFyLnJlbW92ZUNoaWxkKHNlbGVjdGVkU3RhdHVzQmFyLmZpcnN0Q2hpbGQpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgfVxuICAgICAgICBzdGF0dXNCbG9jay5zdHlsZS53aWR0aCA9IGAke3BlcmNlbnRhZ2V9JWBcbiAgICAgICAgc3RhdHVzQmxvY2suc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCJcbiAgICAgICAgc2VsZWN0ZWRTdGF0dXNCYXIuYXBwZW5kQ2hpbGQoc3RhdHVzQmxvY2spXG4gICAgICAgIHJldHVybiBzZWxlY3RlZFN0YXR1c0JhclxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRpc3BsYXlQZXJjZW50YWdlKHN0YXR1c0JhciwgcGVyY2VudGFnZSkge1xuICAgICAgICBsZXQgc2VsZWN0ZWRTdGF0dXNCYXJJRCA9IHN0YXR1c0Jhci5kYXRhc2V0LnN0YXR1c2JhcjtcbiAgICAgICAgbGV0IHNlbGVjdGVkUGVyY2VudGFnZVRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1wZXJjZW50YWdldGV4dD1cIiR7c2VsZWN0ZWRTdGF0dXNCYXJJRH1cIl1gKTtcbiAgICAgICAgc2VsZWN0ZWRQZXJjZW50YWdlVGV4dC5pbm5lclRleHQgPSBgJHtwZXJjZW50YWdlfSUgQ29tcGxldGVgO1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gZmlsbE91dFN0YXR1c0JhcigpIHtcbiAgICAgICAgbGV0IGZpbHRlcmVkUHJvamVjdCA9IGZpbHRlclByb2plY3QoKTtcbiAgICAgICAgbGV0IHN0YXR1c0JhciA9IGFkZFRvU3RhdHVzQmFyKGZpbHRlcmVkUHJvamVjdC5wZXJjZW50YWdlQXJyYXlbYWRkVGFza0lkXSk7XG4gICAgICAgIGRpc3BsYXlQZXJjZW50YWdlKHN0YXR1c0JhciwgZmlsdGVyZWRQcm9qZWN0LnBlcmNlbnRhZ2VBcnJheVthZGRUYXNrSWRdKTtcbiAgICAgICAgfVxuXG4gICAgZnVuY3Rpb24gZmlsbEVkaXRlZFN0YXR1c0JhcigpIHtcbiAgICAgICAgbGV0IGZpbHRlcmVkUHJvamVjdCA9IGZpbHRlclByb2plY3QoKTtcbiAgICAgICAgbGV0IHRhc2tDb250YWluZXIgPSBzZWxlY3RlZFRhc2tUb0VkaXQucGFyZW50Tm9kZVxuICAgICAgICBsZXQgcGFyZW50UHJvamVjdCA9IHRhc2tDb250YWluZXIucGFyZW50Tm9kZS5pZFxuICAgICAgICBsZXQgc3RhdHVzQmFyID0gZWRpdFN0YXR1c0JhcihmaWx0ZXJlZFByb2plY3QucGVyY2VudGFnZUFycmF5W3BhcmVudFByb2plY3RdKTtcbiAgICAgICAgaWYgKGZpbHRlcmVkUHJvamVjdC5wZXJjZW50YWdlQXJyYXlbcGFyZW50UHJvamVjdF0gIT0gTmFOKSB7XG4gICAgICAgIGRpc3BsYXlQZXJjZW50YWdlKHN0YXR1c0JhciwgZmlsdGVyZWRQcm9qZWN0LnBlcmNlbnRhZ2VBcnJheVtwYXJlbnRQcm9qZWN0XSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmaWxsRGVsZXRlZFN0YXR1c0Jhcihwcm9qZWN0VG9EZWxldGUpIHtcbiAgICAgICAgbGV0IGZpbHRlcmVkUHJvamVjdCA9IGZpbHRlclByb2plY3QoKTtcbiAgICAgICAgbGV0IHBhcmVudFByb2plY3QgPSBwcm9qZWN0VG9EZWxldGVcbiAgICAgICAgbGV0IHN0YXR1c0JhciA9IGRlbGV0ZVN0YXR1c0JhcihmaWx0ZXJlZFByb2plY3QucGVyY2VudGFnZUFycmF5W3BhcmVudFByb2plY3RdLCBwYXJlbnRQcm9qZWN0KTtcbiAgICAgICAgaWYgKGlzTmFOKGZpbHRlcmVkUHJvamVjdC5wZXJjZW50YWdlQXJyYXlbcGFyZW50UHJvamVjdF0pID09IGZhbHNlKSB7XG4gICAgICAgICAgICBkaXNwbGF5UGVyY2VudGFnZShzdGF0dXNCYXIsIGZpbHRlcmVkUHJvamVjdC5wZXJjZW50YWdlQXJyYXlbcGFyZW50UHJvamVjdF0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IHNlbGVjdGVkU3RhdHVzQmFySUQgPSBzdGF0dXNCYXIuZGF0YXNldC5zdGF0dXNiYXI7XG4gICAgICAgICAgICBsZXQgc2VsZWN0ZWRQZXJjZW50YWdlVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXBlcmNlbnRhZ2V0ZXh0PVwiJHtzZWxlY3RlZFN0YXR1c0JhcklEfVwiXWApO1xuICAgICAgICAgICAgc2VsZWN0ZWRQZXJjZW50YWdlVGV4dC5pbm5lclRleHQgPSBcIlwiXG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8vZXZlbnQgbGlzdGVuZXJcbiAgICBcbiAgICBpdGVtU3VibWl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChpdGVtRm9ybS5jbGFzc0xpc3QuY29udGFpbnMoJ2FkZEl0ZW0nKSkge1xuICAgICAgICBhZGRUYXNrKCk7XG4gICAgfSBlbHNlIGlmIChpdGVtRm9ybS5jbGFzc0xpc3QuY29udGFpbnMoJ2VkaXRJdGVtJykpIHtcbiAgICAgICAgZWRpdEl0ZW0oKTtcbiAgICB9XG59KVxuXG4gICAgcmVzZXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBjbGVhcklucHV0cygpKVxuXG4gICAgdGFza0Nsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gaXRlbUZvcm1Db250YWluZXIuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJykpXG5cbi8vIGxvY2FsIHN0b3JhZ2UgXG5cbmZ1bmN0aW9uIHNhdmVUb0xvY2FsU3RvcmFnZSgpIHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShgc3RvcmVkUHJvamVjdExpc3RgLCBKU09OLnN0cmluZ2lmeShwcm9qZWN0TGlzdCkpO1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGBwcm9qZWN0SW5mb2AsIEpTT04uc3RyaW5naWZ5KHByb2plY3RMaXN0SW5mbykpXG59XG5cbmZ1bmN0aW9uIGdldEl0ZW1Gcm9tTG9jYWxTdG9yYWdlKCkge1xuICAgbGV0IHB1bGxUYXNrcyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3N0b3JlZFByb2plY3RMaXN0JykpO1xuICAgbGV0IHB1bGxQcm9qZWN0cyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2plY3RJbmZvJykpO1xuICAgZm9yIChjb25zdCBwcm9qZWN0SW5mbyBpbiBwdWxsUHJvamVjdHMpIHtcbiAgICAgICAgbGV0IHN0b3JlZFByb2plY3RJbmZvID0gcHVsbFByb2plY3RzW3Byb2plY3RJbmZvXVxuICAgICAgICBpZiAoc3RvcmVkUHJvamVjdEluZm8uX3RpdGxlICE9IHVuZGVmaW5lZCkge1xuICAgICAgICBhZGRCYWNrUHJvamVjdE1ldGhvZHMoc3RvcmVkUHJvamVjdEluZm8pO1xuICAgICAgICBkaXNwbGF5U3RvcmVkUHJvamVjdChzdG9yZWRQcm9qZWN0SW5mbylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByb2plY3RMaXN0SW5mby5wdXNoKFwiXCIpO1xuICAgICAgICAgICAgcHJvamVjdExpc3QucHVzaChcIlwiKVxuICAgICAgICB9ICAgICAgICBcbiAgIH1cbiAgICBmb3IgKGNvbnN0IHByb2plY3QgaW4gcHVsbFRhc2tzKSB7XG4gICAgICAgICAgICBpZiAocHVsbFRhc2tzW3Byb2plY3RdICE9IFwiXCIpIHtcbiAgICAgICAgICAgICAgICBwdWxsVGFza3NbcHJvamVjdF0uZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRQcm9qZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocHJvamVjdCk7XG4gICAgICAgICAgICAgICAgYWRkVGFza0lkID0gcHJvamVjdDtcbiAgICAgICAgICAgICAgICBsZXQgc3RvcmVkSXRlbSA9IGl0ZW1cbiAgICAgICAgICAgICAgICBhZGRCYWNrVGFza01ldGhvZHMoc3RvcmVkSXRlbSlcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhzdG9yZWRJdGVtLl9zdGF0dXMpXG4gICAgICAgICAgICAgICAgY3JlYXRlU3RvcmVkVGFzayhzdG9yZWRJdGVtKVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHN0b3JlZEl0ZW0pXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgfSAgICAgICAgXG4gICAgICAgIH1cbiAgICB9XG5cblxuZnVuY3Rpb24gYWRkQmFja1Rhc2tNZXRob2RzKGl0ZW0pIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoaXRlbSwgJ3N0YXR1cycsIHtcbiAgICAgICAgc2V0KHgpIHsgaXRlbS5fc3RhdHVzID0geDsgfVxuICAgIH0pXG5cbiAgICBmdW5jdGlvbiBpbmZvKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIChgVGl0bGU6ICR7aXRlbS5fdGl0bGV9IFxcclxcblxuICAgICAgICBEZXNjcmlwdGlvbjogJHtpdGVtLl9kZXNjcmlwdGlvbn0gXFxyXFxuXG4gICAgICAgIER1ZSBEYXRlOiAke2l0ZW0uX2R1ZURhdGV9IFxcclxcblxuICAgICAgICBQcmlvcml0eTogJHtpdGVtLl9wcmlvcml0eX0gXFxyXFxuXG4gICAgICAgIE5vdGVzOiAke2l0ZW0uX25vdGVzfSBgKSBcbiAgICB9XG4gICAgaXRlbS5pbmZvID0gaW5mbyhpdGVtKVxufVxuXG5mdW5jdGlvbiBhZGRCYWNrUHJvamVjdE1ldGhvZHMocHJvamVjdCkge1xuICAgIGZ1bmN0aW9uIGluZm8ocHJvamVjdCkge1xuICAgICAgICByZXR1cm4gKGBQcm9qZWN0IFRpdGxlOiAke3Byb2plY3QuX3RpdGxlfSBcXHJcXG5cbiAgICAgICAgUHJvamVjdCBEZXNjcmlwdGlvbjogJHtwcm9qZWN0Ll9kZXNjcmlwdGlvbn0gXFxyXFxuYClcbiAgICB9XG4gICAgcHJvamVjdC5pbmZvID0gaW5mbyhwcm9qZWN0KVxufVxuXG5mdW5jdGlvbiBkaXNwbGF5U3RvcmVkUHJvamVjdChzdG9yZWRQcm9qZWN0KSB7XG4gICAgYWRkVG9Qcm9qZWN0TGlzdCgpO1xuICAgIGxldCBwcm9qZWN0Q29udGFpbmVyID0gY3JlYXRlUHJvamVjdENvbnRhaW5lcigpO1xuICAgIGxldCBwcm9qZWN0ID0gY3JlYXRlTmV3UHJvamVjdChwcm9qZWN0Q29udGFpbmVyLCBzdG9yZWRQcm9qZWN0KTtcbiAgICBhZGRQcm9qZWN0TGlzdEluZm8oc3RvcmVkUHJvamVjdClcbiAgICBsZXQgcHJvamVjdElEID0gc2V0TmV3UHJvamVjdElkKHByb2plY3QpO1xuICAgIGxldCBuZXdTdGF0dXNCYXIgPSBjcmVhdGVTdGF0dXNCYXIocHJvamVjdClcbiAgICBsZXQgc29ydEJ1dHRvbnMgPSBhZGRTb3J0QnV0dG9ucyhwcm9qZWN0KTtcbiAgICBzdWJtaXRCdXR0b25Tb3J0KHNvcnRCdXR0b25zKVxuICAgIGxldCBidXR0b25TZWN0aW9uID0gYWRkQnV0dG9uU2VjdGlvbihwcm9qZWN0Q29udGFpbmVyKTtcbiAgICBsZXQgZWRpdFByb2plY3RCdXR0b24gPSBhZGRQcm9qZWN0RWRpdEJ1dHRvbihidXR0b25TZWN0aW9uKTtcbiAgICBwcm9qRWRpdEJ1dHRvbkxpc3QoZWRpdFByb2plY3RCdXR0b24pXG4gICAgbGV0IGFkZEl0ZW1Ub1Byb2plY3RCdXR0b24gPSBhZGRQcm9qZWN0QWRkQnV0dG9uKGJ1dHRvblNlY3Rpb24pO1xuICAgIHByb2plY3RUb0RvQnV0dG9uTGlzdChhZGRJdGVtVG9Qcm9qZWN0QnV0dG9uKTtcbiAgICBsZXQgZGVsZXRlUHJvamVjdEJ1dHRvbiA9IGFkZFByb2plY3REZWxldGVCdXR0b24oYnV0dG9uU2VjdGlvbik7XG4gICAgcHJvamVjdERlbGV0ZUJ1dHRvbkxpc3QoZGVsZXRlUHJvamVjdEJ1dHRvbik7XG4gICAgYWRkSXRlbVRvUHJvamVjdChhZGRJdGVtVG9Qcm9qZWN0QnV0dG9uKTtcbiAgICBkZWxldGVCdXR0b25GdW5jdGlvbmFsaXR5KGRlbGV0ZVByb2plY3RCdXR0b24pO1xuICAgIHByb2plY3RFZGl0QnV0dG9uRnVuY3Rpb25hbGl0eShlZGl0UHJvamVjdEJ1dHRvbik7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0b3JlZFRhc2soaXRlbSkge1xuICAgIGFkZEl0ZW1Ub1Byb2plY3RMaXN0KGl0ZW0pXG4gICAgbGV0IG5ld1Rhc2sgPSBuZXdUYXNrQ29udGFpbmVyKCk7XG4gICAgbmV3VGFzay5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGFza2NvbnRhaW5lcicsIGAke1thZGRUYXNrSWRdfSR7cHJvamVjdExpc3RbYWRkVGFza0lkXS5sZW5ndGggLTF9YClcbiAgICBuZXdUYXNrLnNldEF0dHJpYnV0ZSgnZGF0YS1zcGVjaWZpY3Rhc2tjb250YWluZXInLCBgJHtwcm9qZWN0TGlzdFthZGRUYXNrSWRdLmxlbmd0aCAtMX1gKVxuICAgIGxldCBuZXdDaGVja2JveCA9IGNyZWF0ZUNoZWNrYm94KGl0ZW0sIG5ld1Rhc2spO1xuICAgIG5ld0NoZWNrYm94LnNldEF0dHJpYnV0ZSgnZGF0YS1jaGVja2JveCcsIGAke1thZGRUYXNrSWRdfSR7cHJvamVjdExpc3RbYWRkVGFza0lkXS5sZW5ndGggLTF9YClcbiAgICBuZXdDaGVja2JveC5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3BlY2lmaWNjaGVja2JveCcsIGAke3Byb2plY3RMaXN0W2FkZFRhc2tJZF0ubGVuZ3RoIC0xfWApXG4gICAgbGV0IG5ld0RpdiA9IG5ld0l0ZW1EaXYobmV3VGFzaywgaXRlbSk7XG4gICAgbmV3RGl2LnNldEF0dHJpYnV0ZSgnZGF0YS10YXNrJywgYCR7W2FkZFRhc2tJZF19JHtwcm9qZWN0TGlzdFthZGRUYXNrSWRdLmxlbmd0aCAtMX1gKTtcbiAgICBuZXdEaXYuc2V0QXR0cmlidXRlKCdkYXRhLXNwZWNpZmljdGFzaycsIGAke3Byb2plY3RMaXN0W2FkZFRhc2tJZF0ubGVuZ3RoIC0xfWApO1xuXG4gICAgZmlsbE91dFN0YXR1c0JhcigpO1xuXG4gICAgbGV0IGl0ZW1CdXR0b25zID0gbmV3SXRlbUJ1dHRvbnMobmV3VGFzayk7XG4gICAgbGV0IGVkaXRCdXR0b24gPSBuZXdFZGl0QnV0dG9uKGl0ZW1CdXR0b25zKTtcbiAgICBlZGl0QnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS1lZGl0JywgYCR7W2FkZFRhc2tJZF19JHtwcm9qZWN0TGlzdFthZGRUYXNrSWRdLmxlbmd0aCAtMX1gKVxuICAgIGVkaXRCdXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLXNwZWNpZmljZWRpdCcsIGAke3Byb2plY3RMaXN0W2FkZFRhc2tJZF0ubGVuZ3RoIC0xfWApXG4gICAgbGV0IGRlbGV0ZUJ1dHRvbiA9IG5ld0RlbGV0ZVRhc2tCdXR0b24oaXRlbUJ1dHRvbnMpO1xuICAgIGRlbGV0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtZGVsZXRlSXRlbScsIGAke1thZGRUYXNrSWRdfSR7cHJvamVjdExpc3RbYWRkVGFza0lkXS5sZW5ndGggLTF9YClcbiAgICBkZWxldGVCdXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLXNwZWNpZmljZGVsZXRlSXRlbScsIGAke3Byb2plY3RMaXN0W2FkZFRhc2tJZF0ubGVuZ3RoIC0xfWApXG4gICAgcHVzaENoZWNrYm94VG9MaXN0KG5ld0NoZWNrYm94KTtcbiAgICBwdXNoRWRpdFRvTGlzdChlZGl0QnV0dG9uKTtcbiAgICBwdXNoRGVsZXRlVGFza1RvTGlzdChkZWxldGVCdXR0b24pO1xuXG4gICAgY3JlYXRlRWRpdEJ1dHRvbkxpc3QoKTtcbiAgICBkZWxldGVUYXNrQnV0dG9uRnVuY3Rpb25hbGl0eShkZWxldGVCdXR0b24pO1xuICAgIGFkZENoZWNrYm94U3RhdHVzKG5ld0NoZWNrYm94KTtcbiAgICBjaGFuZ2VTdGF0dXNCYXJPbkNoZWNrYm94Q2xpY2sobmV3Q2hlY2tib3gpO1xuICAgIGFkZFRhc2tTdGF0dXMobmV3Q2hlY2tib3gpO1xufVxuXG53aW5kb3cub25sb2FkID0gKCkgPT4ge1xuICAgIGdldEl0ZW1Gcm9tTG9jYWxTdG9yYWdlKCk7XG59XG5cblxufVxuXG4iLCJpbXBvcnQgZnVuY3Rpb25hbGl0eSBmcm9tIFwiLi9kb20uanNcIjsgXG5cblxuZnVuY3Rpb25hbGl0eSgpIl0sIm5hbWVzIjpbIlRvRG9JdGVtIiwiY29uc3RydWN0b3IiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiZHVlRGF0ZSIsInByaW9yaXR5Iiwibm90ZXMiLCJzdGF0dXMiLCJ0aGlzIiwiX3N0YXR1cyIsImluZm8iLCJfdGl0bGUiLCJfZGVzY3JpcHRpb24iLCJfZHVlRGF0ZSIsIl9wcmlvcml0eSIsIl9ub3RlcyIsIm5ld1RpdGxlIiwibmV3RGVzY3JpcHRpb24iLCJuZXdQcmlvcml0eSIsIm5ld0R1ZURhdGUiLCJuZXdOb3RlcyIsIm5ld1N0YXR1cyIsIlByb2plY3QiLCJhZGRJdGVtIiwiaXRlbU5hbWUiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwidmFsdWUiLCJpdGVtRGVzY3JpcHRpb24iLCJjb21wbGV0ZSIsImFkZFByb2plY3QiLCJwcm9qZWN0VGl0bGUiLCJwcm9qZWN0RGVzY3JpcHRpb24iLCJtYWluQm9keSIsImFkZEJ1dHRvbiIsInByb2plY3RGb3JtQ29udGFpbmVyIiwicHJvamVjdFN1Ym1pdEJ1dHRvbiIsInByb2plY3RDbG9zZUJ1dHRvbiIsImFkZFRhc2tJZCIsImRlbGV0ZVByb2plY3RJZCIsInByb2plY3RFZGl0SUQiLCJwcm9qZWN0VG9EZWxldGUiLCJ0b0RvQnV0dG9uTGlzdCIsImRlbGV0ZUJ1dHRvbkxpc3QiLCJwcm9qZWN0TGlzdCIsInByb2plY3RFZGl0QnV0dG9uTGlzdCIsInByb2plY3RMaXN0SW5mbyIsInN0b3JlZFByb2plY3RMaXN0SW5mbyIsInNlbGVjdGVkUHJvamVjdCIsImFkZFRvUHJvamVjdExpc3QiLCJwdXNoIiwiYWRkUHJvamVjdExpc3RJbmZvIiwicHJvamVjdCIsImNyZWF0ZVByb2plY3RDb250YWluZXIiLCJwcm9qZWN0Q29udGFpbmVyIiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZENoaWxkIiwiY3JlYXRlTmV3UHJvamVjdCIsIm5ld1Byb2plY3QiLCJjbGFzc0xpc3QiLCJhZGQiLCJwcm9qZWN0SW5mbyIsInNldEF0dHJpYnV0ZSIsImxlbmd0aCIsInRleHRDb250ZW50Iiwic2V0TmV3UHJvamVjdElkIiwiaWQiLCJhZGRTb3J0QnV0dG9ucyIsInNvcnRCdXR0b25zIiwic29ydE9wdGlvbnMiLCJzb3J0TmFtZSIsInNvcnRQcmlvcml0eSIsInNvcnREdWVEYXRlIiwic29ydENvbXBsZXRlIiwic29ydFN1Ym1pdCIsImFkZEJ1dHRvblNlY3Rpb24iLCJidXR0b25TZWN0aW9uIiwiYWRkUHJvamVjdEFkZEJ1dHRvbiIsImFkZFRvRG8iLCJpbm5lclRleHQiLCJwcm9qZWN0VG9Eb0J1dHRvbkxpc3QiLCJhZGRQcm9qZWN0RGVsZXRlQnV0dG9uIiwiZGVsZXRlQnV0dG9uIiwicHJvamVjdERlbGV0ZUJ1dHRvbkxpc3QiLCJhZGRQcm9qZWN0RWRpdEJ1dHRvbiIsImVkaXRCdXR0b24iLCJwcm9qRWRpdEJ1dHRvbkxpc3QiLCJwcm9qZWN0RWRpdEJ1dHRvbkZ1bmN0aW9uYWxpdHkiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlIiwiZGF0YXNldCIsInByb2plY3RlZGl0IiwiY2xlYXJJbnB1dHMiLCJpbnB1dFZhbHVlcyIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpIiwiYWRkSXRlbVRvUHJvamVjdCIsImJ1dHRvbiIsIml0ZW1Gb3JtQ29udGFpbmVyIiwiaXRlbUZvcm0iLCJkZWxldGVCdXR0b25GdW5jdGlvbmFsaXR5IiwiZGVsZXRlIiwic3BsaWNlIiwicXVlcnlTZWxlY3RvciIsInJlbW92ZUNoaWxkIiwicGFyZW50Tm9kZSIsImNvbnNvbGUiLCJsb2ciLCJzYXZlVG9Mb2NhbFN0b3JhZ2UiLCJzdWJtaXRCdXR0b25Tb3J0Iiwic3VibWl0QnV0dG9uIiwic3VibWl0QnV0dG9uSUQiLCJzb3J0IiwidHlwZW9mU29ydCIsInByb2plY3RUb1NvcnQiLCJhIiwiYiIsInNvcnRQcm9qZWN0VGFza3MiLCJwcm9qZWN0VG9DbGVhciIsInBhcmVudCIsImxhc3RDaGlsZCIsInJlbW92ZUFsbENoaWxkTm9kZXMiLCJuZXdUYXNrIiwibmV3Q2hlY2tib3giLCJjcmVhdGVDaGVja2JveCIsIm5ld0RpdiIsIm5ld0l0ZW1EaXYiLCJpdGVtQnV0dG9ucyIsIm5ld0l0ZW1CdXR0b25zIiwibmV3RWRpdEJ1dHRvbiIsIm5ld0RlbGV0ZVRhc2tCdXR0b24iLCJwdXNoQ2hlY2tib3hUb0xpc3QiLCJwdXNoRWRpdFRvTGlzdCIsInB1c2hEZWxldGVUYXNrVG9MaXN0IiwiY3JlYXRlRWRpdEJ1dHRvbkxpc3QiLCJkZWxldGVUYXNrQnV0dG9uRnVuY3Rpb25hbGl0eSIsImFkZENoZWNrYm94U3RhdHVzIiwiYWRkVGFza1N0YXR1cyIsImNoYW5nZVN0YXR1c0Jhck9uQ2hlY2tib3hDbGljayIsImRpc3BsYXlTb3J0ZWRQcm9qZWN0IiwiY3JlYXRlU3RhdHVzQmFyIiwic2VjdGlvbiIsInN0YXR1c0JhckNvbnRhaW5lciIsInN0YXR1c0JhciIsInBlcmNlbnRhZ2VUZXh0Iiwic3RhdHVzYmFyIiwiY29udGFpbnMiLCJlZGl0UHJvamVjdEJ1dHRvbiIsImFkZEl0ZW1Ub1Byb2plY3RCdXR0b24iLCJkZWxldGVQcm9qZWN0QnV0dG9uIiwicHJvamVjdFRvUmV2aXNlIiwicmV2aXNlZFByb2plY3QiLCJkZWxldGVUYXNrQnV0dG9uSWQiLCJlZGl0VGFza0J1dHRvbkxpc3QiLCJkZWxldGVUYXNrQnV0dG9uTGlzdCIsIml0ZW1TdWJtaXRCdXR0b24iLCJlZGl0QnV0dG9uSWQiLCJzZWxlY3RlZFRhc2tUb0VkaXQiLCJ0YXNrVG9EZWxldGUiLCJyZXNldEJ1dHRvbiIsInRhc2tDbG9zZUJ1dHRvbiIsImNoZWNrQm94VG9DaGFuZ2UiLCJjaGVja2JveExpc3QiLCJuZXdUYXNrQ29udGFpbmVyIiwidGFza0NvbnRhaW5lciIsIml0ZW0iLCJhZGRJdGVtVG9Qcm9qZWN0TGlzdCIsImNoZWNrYm94IiwiZWRpdFRhc2siLCJkZWxldGVUYXNrIiwibmV3RGVsZXRlQnV0dG9uIiwiZWRpdCIsImRlbGV0ZWl0ZW0iLCJzcGVjaWZpY0lEIiwic3BlY2lmaWNkZWxldGVpdGVtIiwicHJvamVjdFBhcmVudCIsInByb2plY3RQYXJlbnRJZCIsImZpbHRlcmVkUHJvamVjdCIsImZpbHRlclByb2plY3QiLCJwYXJlbnRQcm9qZWN0IiwicGVyY2VudGFnZSIsInNlbGVjdGVkU3RhdHVzQmFyIiwic3RhdHVzQmxvY2siLCJmaXJzdENoaWxkIiwic3R5bGUiLCJ3aWR0aCIsImhlaWdodCIsImRlbGV0ZVN0YXR1c0JhciIsInBlcmNlbnRhZ2VBcnJheSIsImlzTmFOIiwiZGlzcGxheVBlcmNlbnRhZ2UiLCJzZWxlY3RlZFN0YXR1c0JhcklEIiwiZmlsbERlbGV0ZWRTdGF0dXNCYXIiLCJjaGVja2JveElEIiwic3BlY2lmaWNjaGVja2JveCIsImNoZWNrYm94UHJvamVjdCIsInRhc2tUb0NoYW5nZSIsImZpbHRlcmVkQXJyYXlMaXN0IiwiZmlsdGVyZWRBcnJheSIsImZpbHRlciIsImZpbHRlckJ5Q29tcGxldGUiLCJNYXRoIiwicm91bmQiLCJmaWxsT3V0U3RhdHVzQmFyIiwiYWRkVG9TdGF0dXNCYXIiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsImFkZEJhY2tUYXNrTWV0aG9kcyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5Iiwic2V0IiwieCIsImRpc3BsYXlTdG9yZWRQcm9qZWN0Iiwic3RvcmVkUHJvamVjdCIsImNyZWF0ZVN0b3JlZFRhc2siLCJ1bmRlZmluZWQiLCJhbGVydCIsImFkZFRhc2siLCJyZXZpc2VkSXRlbSIsInRhc2tJRHRhc2tDb250YWluZXIiLCJ0YXNrSUQiLCJzcGVjaWZpY3Rhc2siLCJlZGl0UHJvamVjdExpc3QiLCJjaGFuZ2VkVGFzayIsImNoYW5nZWRUYXNrSUQiLCJ0YXNrUHJvamVjdCIsImVkaXRUYXNrU3RhdHVzIiwiZWRpdFN0YXR1c0JhciIsIk5hTiIsImZpbGxFZGl0ZWRTdGF0dXNCYXIiLCJlZGl0SXRlbSIsIndpbmRvdyIsIm9ubG9hZCIsInB1bGxUYXNrcyIsInBhcnNlIiwiZ2V0SXRlbSIsInB1bGxQcm9qZWN0cyIsInN0b3JlZFByb2plY3RJbmZvIiwiZm9yRWFjaCIsInN0b3JlZEl0ZW0iLCJnZXRJdGVtRnJvbUxvY2FsU3RvcmFnZSIsImZ1bmN0aW9uYWxpdHkiXSwic291cmNlUm9vdCI6IiJ9